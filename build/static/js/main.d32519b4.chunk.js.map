{"version":3,"sources":["images/Glyphs/add.svg","images/Glyphs/calendarExpand.svg","images/Glyphs/calendarCollapse.svg","config.js","images/ui/remove.svg","images/ui/close.svg","images/Glyphs/menu.svg","images/Glyphs/iconSearch.svg","images/ui/dragHandle.svg","images/ui/arrowRight.svg","images/ui/arrowLeft.svg","images/sidebar/calendar.svg","images/sidebar/bookings.svg","images/sidebar/invoices.svg","images/sidebar/customers.svg","images/sidebar/settings.svg","images/sidebar/logout.svg","images/sidebar/login.svg","images/sidebar/register.svg","images/Glyphs/view.svg","images/ui/arrowDown.svg","models/owners.js","utils/dates.js","models/bookings.js","utils/costItemsMath.js","reducers/actionType.js","reducers/bookingsReducer.js","utils/reorder.js","reducers/settingsReducer.js","reducers/customersReducer.js","utils/setAuthToken.js","reducers/authReducer.js","reducers/customBookingColorReducer.js","reducers/calendarCustomViewReducer.js","reducers/calendarSettingReducer.js","reducers/dashboardReducer.js","contexts/AppReducerContext.js","constants.js","routing/PrivateRoute.js","components/buttons/SvgButton.js","components/style/colors.js","components/modals/modal.js","components/typography/H3.js","components/typography/P1.js","components/features/tabBar.js","components/typography/P2.js","components/buttons/Button.js","components/buttons/ColoredDot.js","components/buttons/PickerButton.js","components/layout/Grid.js","components/typography/H5.js","components/typography/H4.js","components/buttons/InputField.js","components/buttons/InputLabel.js","components/buttons/TextArea.js","components/tables/tables.js","images/Glyphs/AddGlyph.js","components/buttons/OutlinedButton.js","components/modals/containers.js","components/layout/Spacer.js","components/layout/Spinner.js","components/features/bookingDetail/sections/customer.js","utils/numbers.js","components/features/bookingDetail/CardPaymentForm/Checkout.js","components/features/bookingDetail/bookingDetailEdit.js","utils/dateFormatting.js","components/features/bookingDetail/sections/details.js","components/buttons/DropdownMenu.js","components/features/bookingDetail/sections/editQuote.js","components/features/bookingDetail/sections/quotes.js","models/invoices.js","components/features/invoices/invoiceDetailEditReducer.js","components/features/invoices/invoiceDetailEdit.js","components/features/invoices/invoiceDetail.js","components/features/invoices/newInvoice.js","components/stripe/stripeApp.js","components/features/bookingDetail/sections/invoices.js","components/features/bookingDetail/bookingDetail.js","hooks/useMedia.js","components/features/BigTabbedFilter.js","pages/BookingsPage.js","components/features/customerDetailEdit.js","models/customers.js","components/features/customerDetail.js","components/inputs/searchField.js","pages/CustomersPage.js","components/features/sideNavigation.js","components/layout/constants.js","models/currencies.js","components/settings/sections/CompanyInfo.js","components/buttons/Toggle.js","components/settings/sections/BookingStatuses.js","images/Glyphs/CircleAddGlyph.js","components/settings/sections/CustomBookingColor.js","pages/VenuesAndSpacesPage.js","pages/OnlinePaymentPage.js","pages/BookingWidgetPage.js","components/settings/sections/Suggestion.js","pages/SettingsPage.js","components/features/invoices/selectBooking.js","pages/InvoicesPage.js","components/layout/ButtonsRow.js","components/features/CalendarViewDropDown.js","components/features/CalendarCreateView.js","actions/calendar.js","components/features/CalendarDatePicker.js","components/features/calendarToolbar.js","utils/isToday.js","components/features/calendarWeekHeader.js","components/features/calendar.js","components/features/bookingRow.js","components/features/tabbedBookingsList.js","components/features/bookingDetail/bookingEmailLogin.js","models/bookingToEvents.js","pages/CalendarPage.js","pages/CreateStripeAccount.js","components/typography/H1.js","utils/dashboard.js","components/features/dashboard/panel/panelDateSelector.js","components/features/dashboard/panel/topBanner.js","components/features/dashboard/panel/recentBookingPanel.js","components/features/dashboard/panel/upcomingBookingPanel.js","components/features/dashboard/panel/topVenueTable.js","components/features/dashboard/panel/topStaffTable.js","pages/DashboardPage.js","routing/PrivateRoutesTree.js","pages/LoginPage.js","routing/RoutesTree.js","components/layout/LayoutBlock.js","components/layout/Sidebar.js","components/layout/LayoutWrapper.js","components/layout/LayoutSection.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","require","config","CONFIG","process","STRIPE_CLIENT_PUBLIC_KEY","owners","updatedDate","date","newHour","newMinute","newDate","Date","setHours","setMinutes","setSeconds","setMilliseconds","addDays","daysDelta","setDate","getDate","isBookingWithDates","booking","startDate","endDate","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","slots","Symbol","iterator","next","done","slot","value","kind","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","dateRange","dateValue","getTime","err","return","Error","createEmptyBooking","id","received","source","eventName","venueId","spaceId","status","customerId","ownerId","invoices","quotes","currency","discount","total","createEmptyCostItem","_ref","vatRate","name","description","quantity","unitPrice","vatRateText","concat","computeCostItemsSummary","costItems","netSubtotal","reduce","acc","item","taxes","REQUEST_GET_VENUE","GET_VENUE_SUCCESS","GET_VENUE_ERROR","REQUEST_ADD_VENUE","GET_ADD_VENUE_SUCCESS","GET_ADD_VENUE_ERROR","REQUEST_DELETE_VENUE","GET_DELETE_VENUE_SUCCESS","GET_DELETE_VENUE_ERROR","REQUEST_EDIT_VENUE","GET_EDIT_VENUE_SUCCESS","GET_EDIT_VENUE_ERROR","REQUEST_GET_VENUE_SPACES","GET_VENUE_SPACES_SUCCESS","GET_VENUE_SPACES_ERROR","REQUEST_ADD_VENUE_SPACE","GET_ADD_VENUE_SPACE_SUCCESS","GET_ADD_VENUE_SPACE_ERROR","REQUEST_EDIT_VENUE_SPACE","GET_EDIT_VENUE_SPACE_SUCCESS","GET_EDIT_VENUE_SPACE_ERROR","REQUEST_DELETE_VENUE_SPACE","GET_DELETE_VENUE_SPACE_SUCCESS","GET_DELETE_VENUE_SPACE_ERROR","REQUEST_GET_COMPANYINFO","GET_COMPANYINFO_SUCCESS","GET_COMPANYINFO_ERROR","REQUEST_GET_BOOKINGSTATUS","GET_BOOKING_STATUS_SUCCESS","GET_BOOKING_STATUS_ERROR","REQUEST_ADD_BOOKING_STATUS","GET_ADD_BOOKING_STATUS_SUCCESS","GET_ADD_BOOKING_STATUS_ERROR","REQUEST_UPDATE_BOOKING_STATUS","GET_UPDATE_BOOKING_STATUS_SUCCESS","GET_UPDATE_BOOKING_STATUS_ERROR","REQUEST_DELETE_BOOKING_STATUS","GET_DELETE_BOOKING_STATUS_SUCCESS","GET_DELETE_BOOKING_STATUS_ERROR","APPEND_CUSTOM_STATUS","REMOVE_NEW_BOOKING_STATUS","SET_BOOKING_STATUS_PAGE_STATUS","UPDATE_ALL_BOOKINGSTATUS_SUCCESS","REQUEST_GET_CUSTOMERS","GET_CUSTOMERS_SUCCESS","GET_CUSTOMERS_ERROR","REQUEST_ADD_CUSTOMER","GET_ADD_CUSTOMER_SUCCESS","GET_ADD_CUSTOMER_ERROR","REQUEST_UPDATE_CUSTOMER","GET_UPDATE_CUSTOMER_SUCCESS","GET_UPDATE_CUSTOMER_ERROR","REQUEST_DELETE_CUSTOMER","GET_DELETE_CUSTOMER_SUCCESS","GET_DELETE_CUSTOMER_ERROR","REQUEST_GET_BOOKINGS","GET_BOOKINGS_SUCCESS","GET_BOOKINGS_ERROR","REQUSET_ADD_BOOKING","GET_ADD_BOOKING_SUCCESS","GET_ADD_BOOKING_ERROR","REQUEST_UPDATE_BOOKING","GET_UPDATE_BOOKING_SUCCESS","GET_UPDATE_BOOKIG_ERROR","REQUEST_DELETE_BOOKING","GET_DELETE_BOOKING_SUCCESS","GET_DELETE_BOOKING_ERROR","REQUSET_GET_BOOKING_CUSTOMER","GET_BOOKING_CUSTOMER_SUCCESS","GET_BOOKING_CUSTOMER_ERROR","REQUSET_GET_BOOKING_VENUES","GET_BOOKING_VENUES_SUCCESS","GET_BOOKING_VENUES_ERROR","REQUEST_GET_BOOKING_SPACES","GET_BOOKING_SPACES_SUCCESS","GET_BOOKING_SPACES_ERROR","REQUEST_GET_BOOKING_BOOKINGSTATUS","GET_BOOKING_BOOKINGSTATUS_SUCCESS","GET_BOOKING_BOOKINGSATTUS_ERROR","UPDATE_ADD_BOOKINGFORM_VALIDATE","REQUEST_GET_BOOKING_QUOTE","GET_BOOKING_QUOTE_SUCCESS","GET_BOOKING_QUOTE_ERROR","REQUEST_CREATE_BOOKING_QUOTE","GET_CREATE_BOOKING_QUOTE_SUCCESS","GET_CREATE_BOOKING_QUOTE_ERROR","REQUEST_UPDATE_BOOKING_QUOTE","UPDATE_BOOKING_QUOTE_SUCCESS","UPDATE_BOOKING_QUOTE_ERROR","REQUEST_DELETE_BOOKING_QUOTE","DELETE_BOOKING_QUOTE_SUCCESS","DELETE_BOOKING_QUOTE_ERROR","REQUEST_GET_BOOKING_INVOICE","GET_BOOKING_INVOICE_SUCCESS","GET_BOOKING_INVOICE_ERROR","REQUEST_CREATE_BOOKING_INVOICE","GET_CREATE_BOOKING_INVOICE_SUCCESS","GET_CREATE_BOOKING_INVOICE_ERROR","REQUEST_UPDATE_BOOKING_INVOICE","UPDATE_BOOKING_INVOICE_SUCCESS","UPDATE_BOOKING_INVOICE_ERROR","REQUEST_DELETE_BOOKING_INVOICE","DELETE_BOOKING_INVOICE_SUCCESS","DELETE_BOOKING_INVOICE_ERROR","CLEAR_BOOKING_DATA","REQUEST_SAVE_PAYMENT_INFORMATION","SAVE_PAYMENT_INFORMATION_SUCCESS","SAVE_PAYMENT_INFORMATION_ERROR","STRIPE_CONNECTION_SUCCESS","REQUEST_GET_CUSTOM_BOOKING_COLOR","GET_CUSTOM_BOOKING_COLOR_SUCCESS","GET_CUSTOM_BOOKING_COLOR_ERROR","REQUEST_GET_CALENDAR_CUSTOM_VIEW","GET_CALENDAR_CUSTOM_VIEW_SUCCESS","GET_CALENDAR_CUSTOM_VIEW_ERROR","REQUEST_CREATE_CALENDAR_CUSTOM_VIEW","CREATE_CALENDAR_CUSTOM_VIEW_SUCCESS","CREATE_CALENDAR_CUSTOM_VIEW_ERROR","REQUSET_UPDATE_CALENDAR_CUSTOM_VIEW","UPDATE_CALENDAR_CUSTOM_VIEW_SUCCESS","UPDATE_CALENDAR_CUSTOM_VIEW_ERROR","REQUEST_GET_USERS_ALL_SPACES","GET_USERS_ALL_SPACES_SUCCESS","GET_USERS_ALL_SPACES_ERROR","SET_CURRENT_CALENDAR_VIEW","GET_CALENDAR_SETTING_SUCCESS","GET_CALENDAR_SETTING_ERROR","REQUEST_SAVE_CALENDAR_SETTING","SAVE_CALENDAR_SETTING_ERROR","CREATE_CALENDAR_SETTING_SUCCESS","CREATE_CALENDAR_SETTING_ERROR","UPDATE_CALENDAR_SETTING_SUCCESS","SET_CALENDAR_SETTING_DATA","SET_RECENT_BOOKINGS_PERIOD","SET_UPCOMING_BOOKINGS_PERIOD","bookingsReducer","state","action","type","Object","objectSpread2","loadBooking","newBookings","payload","map","JSON","parse","bookings","toConsumableArray","loadBookingAction","newBookingss","filter","bookingStatus","newState","Array","from","existingBookingIndex","findIndex","push","splice","index","loadingQuotes","find","invoice","quote","invoiceNumber","number","created","amount","convertQuoteToInvoice","length","nIndex","newInvoice","loadingInvoice","cost_items","BookingId","parseInt","reorder","list","startIndex","endIndex","result","_result$splice","removed","slicedToArray","settingsReducer","arguments","bookingStatuses","active","to","bookingStatusActionLoading","loading","venues","venueActionLoading","spacesLoading","selectedVenueSpaces","spaceActionLoading","bookingStatusesLoading","enableBookingSection","companyLoading","companyInfo","customersReducer","customer","loadingCustomers","customers","newCustomers","setAuthToken","token","axios","defaults","headers","common","authReducer","localStorage","setItem","isAuthenticated","user","email","password","removeItem","loadingPayment","stripe_public_key","public_key","stripe_status","customBookingColorReducer","bookingColors","calendarCustomViewReducer","newOne","views","calendarViewData","allSpaces","curView","calendarSettingReducer","dashboardReducer","reducers","recentBookingsPeriod","upcomingBookingPeriod","CUSTOMER_OPTION_CREATE_USER","BOOKING_COLOR_CONDITION_KEYS","condition_key","label","condition_types","condition_values","BOOKING_COLORS","getSubDomain","a","window","location","href","substring","indexOf","AppReducerContext","React","createContext","initialState","settings","vatId","street","city","postCode","phone","logoImg","bookingStatusLoading","venuesLoading","payment","auth","getItem","customBookingColor","calendarViews","calendarSettings","selectedDate","viewMode","viewExpand","dashboard","reducer","calendarViewReducer","keys","nextState","key","getStatuColor","statusName","PrivateRoute","Component","component","rest","objectWithoutProperties","_state$auth","useContext","react_default","createElement","react_router","assign","render","props","computedMatch","path","SvgButton","width","height","size","svg","onClick","style","actualWidth","actualHeight","className","cx","css","_templateObject","style_colors","accent_green","accent_yellow","accent_pink","status_pending","white","black","transparent","ultra_dark","darker","dark","grey","light_grey","light","lighter","lightest","Modal","_props$width","onClose","children","overlay","backgroundColor","colors","zIndex","content","left","right","padding","overflow","top","maxWidth","bottom","margin","border","background","lib_default","buttons_SvgButton","close","position","H3","styled","h3","H3_templateObject","center","color","P1","P1_templateObject","strong","ellipses","serif","TabBar","items","selectedItem","onOptionSelected","_props$itemsSideMargi","itemsSideMargin","Container","div","tabBar_templateObject","typography_P1","P2","P2_templateObject","loadingAni","keyframes","Button_templateObject","ButtonWrapper","_templateObject2","big","wide","selected","primary","softSelected","oulined","disabled","Button","icon","iconComponent","Fragment","src","alt","typography_P2","ColoredDot","span","ColoredDot_templateObject","PickerButton_templateObject","Wrapper","PickerButton_templateObject2","isValidate","Dropdown","_templateObject3","DropdownContent","_templateObject4","show","PickerButton","_props$options","options","_props$colors","selectedOption","_props$displayTransfo","displayTransformer","_props$noSelectionTex","noSelectionText","_props$searchEnabled","searchEnabled","_props$offersToCreate","offersToCreateIfNotFound","_props$optionsForSear","optionsForSearch","_useState","useState","_useState2","opened","setOpened","_useState3","_useState4","searchQuery","setSearchQuery","ref","useRef","useEffect","handleDocumentClick","event","current","ReactDOM","findDOMNode","contains","target","document","addEventListener","removeEventListener","filteredOptions","opt","filteredOne","toString","toLowerCase","transformedSelectedOption","searchOptionComponent","placeholder","onChange","e","onKeyPress","focus","makeOptionComponent","option","optionIndex","marginRight","buttons_ColoredDot","PickerButton_Wrapper","marginLeft","selectedOptionComponent","arrowDown","transform","cursor","defaultProps","GridWrapper","Grid_templateObject","fullheight","columns","rows","gap","break","split","Grid","H5","h5","H5_templateObject","H4","h4","H4_templateObject","InputField","InputField_templateObject","InputLabelWrapper","InputLabel_templateObject","InputLabel","StyledTextAreaWrapper","textarea","TextArea_templateObject","TextArea","TableLabel","_props$color","tall","typography_H5","lineHeight","textAlign","TableValue","_props$color2","_props$centered","centered","TableEditableValue","defaultValue","longText","_props$type","autoFocus","tabIndex","_props$longTextHeight","longTextHeight","mergedStyle","display","flexDirection","buttons_InputLabel","htmlFor","buttons_TextArea","maxHeight","buttons_InputField","TablePicker","buttons_PickerButton","TableItem","_props$labelColor","labelColor","_props$valueColor","valueColor","tables_templateObject","tables_TableLabel","tables_TableValue","TableSectionHeader","title","tables_templateObject2","typography_H4","marginBottom","TableDivider","tables_templateObject3","Table","_props$columnTitles","columnTitles","layout_Grid","minWidth","t","AddGlyph","_props$side","side","_props$fill","fill","viewBox","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","OutlinedButton_templateObject","OutlinedButtonWrapper","OutlinedButton_templateObject2","OutlinedButton","ModalContainer","containers_templateObject","ModalTopSection","containers_templateObject2","ModalTitleAndButtons","containers_templateObject3","ModalBottomSection","containers_templateObject4","Spacer","Spacer_templateObject","Spinner_templateObject","SpinnerContainer","Spinner_Container","CustomerSection","customerData","dispatch","tables_TableEditableValue","validate","handleChangeName","marginTop","customer_templateObject","formatCurrency","num","formattedNumber","toFixed","replace","CAD","USD","EUR","CRC","GBP","ILS","INR","JPY","KRW","NGN","PHP","PLN","PYG","THB","UAH","VND","formatPercentage","digits","Number","toLocaleString","minimumFractionDigits","CardPaymentForm","form","Checkout_templateObject","InputRow","Checkout_templateObject2","ErrMsgDiv","Checkout_templateObject3","SuccessDiv","Checkout_templateObject4","isSuccess","_CardForm","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","changeCardElement","setState","errMsg","handleSubmit","ev","preventDefault","post","payment_method_types","chargeData","metadata","tel","then","res","stripe","handleCardPayment","data","client_secret","error","processing","message","success","Checkout_CardPaymentForm","onSubmit","isSuccss","required","autocomplete","es","hidePostalCode","iconStyle","base","iconColor","fontWeight","fontFamily","fontSize","fontSmoothing",":-webkit-autofill","::placeholder","invalid","version","cy","r","CardForm","injectStripe","CheckoutDiv","_templateObject5","SvgButtonWrapper","bookingDetailEdit_templateObject","BookingForm","bookingCustomers","regenerator_default","async","_context","prev","awrap","get","sent","spaces","t0","stop","getSpaces","validateForm","bookingDetailEdit_templateObject2","tables_TablePicker","venue","filteredVenue","v","venueID","bookingDetailEdit_templateObject3","s","filteredSpace","spaceID","space","bookingDetailEdit_templateObject4","index_es","faUserPlus","faHome","filteredCustomer","c","faUser","bookingDetailEdit_templateObject5","owner","lastName","firstName","_templateObject6","sections_customer","tables_TableSectionHeader","tables_Table","react_datepicker_min_default","selectsEnd","dateFormat","minDate","startHour","startMinute","showTimeSelect","showTimeSelectOnly","timeIntervals","endHour","endMinute","RemoveSvg","flat","buttons_OutlinedButton","Glyphs_AddGlyph","singleBookingReducer","loadingBookingDetilas","newValidateForm","slice","getHours","getMinutes","valueOf","Math","min","max","newCustomerData","address","vatNumber","note","BookingDetailEdit","bookingToEdit","onEndEditing","_useReducer","useReducer","_useReducer2","_context2","getCustomers","_context3","console","log","getVenues","Spinner","typography_H3","buttons_Button","bookingDetailEdit_BookingForm","layout_Spacer","formatEventStartEndTime","start","end","startTime","moment","format","endTime","formatEventDate","formatSlotStartEndTime","DetailsSection","selectedBooking","tables_TableItem","getBookingVenueAndSpaceName","DropdownMenu_templateObject","DropdownMenu_templateObject2","DropdownMenu","_props$items","onItemSelected","DropdownMenu_Dropdown","menuSvg","DropdownMenu_DropdownContent","editQuote_templateObject","EditQuote","quoteId","_useContext","selectedQuote","setSelectedQuote","setNetSubTotal","_useState5","_useState6","setTaxes","_useState7","_useState8","grandTotal","setGrandTotal","_useState9","_useState10","setLoading","createdAt","createEmptyQuote","selectedOne","_computeCostItemsSumm","_computeCostItemsSumm2","netSubtotalValue","taxesValue","grandTotalValue","handleChangeQuote","newQuote","newCostItems","discountText","newSelectedQuote","_res","Content-Type","stringify","put","handleClickSave","slotIndex","editQuote_SvgButtonWrapper","costItemIndex","parseFloat","QuotesSection","onQuoteConverted","showEditQuoteModal","setShowEditQuoteModal","modal","isOpen","editQuote","quotes_templateObject","buttons_DropdownMenu","bookingId","delete","setTimeout","addGlyph","invoiceStates","invoiceStatesColors","invoicePaymentMethods","invoiceDetailEditReducer","defineProperty","grand_total","costItem","invoiceDetailEdit_templateObject","InvoiceDetailEdit","invoiceBeingEdited","coordinates","filteredBooking","getBookingTitle","payment_method","invoiceDetailEdit_SvgButtonWrapper","InvoiceDetail","invoiceCoordinates","handleUpdate","editing","setEditing","b","invoiceDetailEdit","editedInvoice","save","NewInvoice","createEmptyInvoice","handleBlur","handleChange","change","handleFocus","handleReady","createOptions","letterSpacing","StyledLabel","stripeApp_templateObject","StyledButton","button","stripeApp_templateObject2","_SplitForm","vm","assertThisInitialized","createToken","stripeToken","resCharge","closeModal","onBlur","onFocus","onReady","SplitForm","Checkout","_this2","elementFontSize","innerWidth","StripeApp","stripe_pk_key","apiKey","stripeApp_Checkout","INVOICE_STATUSES","InvoicesSection","rootState","invoiceStatuses","setInvoiceStatuses","selectedInvoiceCoordinates","setSelectedInvoiceCoordinates","showCreateInvoiceModal","setshowCreateInvoiceModal","showCreditCardInfoModal","setShowCreditCardInfoModal","setInvoiceState","_useState11","_useState12","_useState13","_useState14","selectedChargeData","setSelectedChargeData","viewGlyph","invoiceId","_context5","invoiceDetail","shouldSave","_context4","sub_total","resOne","invoices_newInvoice","saveOne","createdAtAt","handleSave","stripeApp","_context6","TABBAR_ITEM_DETAILS","TABBAR_ITEM_QUOTES","TABBAR_ITEM_INVOICES","TABBAR_ITEMS","bookingDetail_templateObject","TopSection","bookingDetail_templateObject2","TitleAndButtons","bookingDetail_templateObject3","BottomSection","bookingDetail_templateObject4","BottomSectionWrapper","bookingDetail_templateObject5","BookingDetail","selectedTab","setSelectedTab","getQuote","getInvoice","handleUpdateBooking","updateBooking","resCustomer","statusId","bookingDetailEdit","bookingDetail_Container","filteredStatus","handleChangeStatus","tabBar","sectionName","details","sections_invoices","renderSelectedSection","useMedia","queries","values","mediaQueryLists","q","matchMedia","getValue","mql","matches","setValue","handler","forEach","addListener","removeListener","BigTabbedFilter_templateObject","FilterItem","BigTabbedFilter_templateObject2","first","BigTabbedFilter","onSelect","allSelected","compressed","BigTabbedFilter_Wrapper","colorComp","itemIndex","last","BookingsPage","showCreateBookingModal","setShowCreateBookingModal","selectedBookingStateFilter","setSelectedBookingStateFilter","selectedBookingID","setSelectedBookingID","filteredBookings","company","getCompany","statuses","getBookingStatus","getBookings","alignItems","features_BigTabbedFilter","filteredBookingsStatus","updateBookingData","textDecoration","bookingDetail","_resCustomer","_customerId","abrupt","t1","customerDetailEdit_templateObject","CustomerDetailEdit","customerToEdit","isEditing","isNameValidate","setIsNameValidate","customerDetailEdit_templateObject2","customerDetailEdit_Spacer","customerDetail_templateObject","CustomerDetail","customerDetailEdit","customerDetail_BottomSectionWrapper","SearchField","query","onEnterKeyPress","_props$placeholder","_props$className","focused","setFocused","searchField_templateObject","iconSearchSVG","searchField_templateObject2","searchField_templateObject3","CustomersPage","showCreateClientModal","setShowCreateClientModal","selectedClientId","setSelectedClientId","searchResults","includes","onEditCustomer","bSave","CustomersPage_templateObject","searchField","CustomersPage_templateObject2","customerDetail","SideNavigation","sideNavigation_templateObject","constants","sidebarWidth","collapseSidebarWidth","leftPanelWidth","currencies","symbol","symbol_native","decimal_digits","rounding","code","name_plural","AED","AFN","ALL","AMD","ARS","AUD","AZN","BAM","BDT","BGN","BHD","BIF","BND","BOB","BRL","BWP","BYR","BZD","CDF","CHF","CLP","CNY","COP","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","GEL","GHS","GNF","GTQ","HKD","HNL","HRK","HUF","IDR","IQD","IRR","ISK","JMD","JOD","KES","KHR","KMF","KWD","KZT","LBP","LKR","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MOP","MUR","MXN","MYR","MZN","NAD","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PKR","QAR","RON","RSD","RUB","RWF","SAR","SDG","SEK","SGD","SOS","SYP","TND","TOP","TRY","TTD","TWD","TZS","UGX","UYU","UZS","VEF","XAF","XOF","YER","ZAR","ZMK","DropzonContainer","CompanyInfo_templateObject","backgroundImage","DropZoneDescription","CompanyInfo_templateObject2","isVisible","SubdomainDiv","CompanyInfo_templateObject3","SubdomainUrl","CompanyInfo_templateObject4","CompanyInfoSettingsSection","subdomain","setCompanyInfo","imageUploading","setImageUploading","setCompanyLoading","msg","validateSubdomain","setValidateSubdomain","prevSubdomain","setPreSubdomain","getCompanyInfo","changeCompanyInfo","companyOne","changeCompanyName","CompanyInfo_templateObject5","tables_TableDivider","toUpperCase","dist_es","onDrop","acceptedFiles","imageFormData","resUpload","FormData","append","fileNames","accept","multiple","getRootProps","getInputProps","isDragActive","API_URL","axios_config","CompanyInfo_templateObject6","subdomainCount","Toggle","_props$enabled","enabled","Toggle_templateObject","Toggle_templateObject2","tgPadding","DefaultStatusRow","react_beautiful_dnd_esm","draggableId","provided","innerRef","draggableProps","BookingStatuses_templateObject","dragHandleProps","CustomStatusRow","onDelete","onToggle","onChangeName","draggable","changeSelectedIndex","selectedStatusIndex","nameValue","setNameValue","setIsValidate","BookingStatuses_templateObject2","BookingStatuses_templateObject3","handleNameKeyPress","buttons_Toggle","removeSvg","dragHandleSvg","BookingStatuses_templateObject4","BookingStatuses_templateObject5","BookingStatusesSettingsSection","setSelectedStatusIndex","changeBookingStatus","parentId","order","_state$bookingStatuse","_active","_order","_parentId","onAddStatus","onDragEnd","newUpdateStatus","destination","droppableId","droppableProps","BookingStatuses_DefaultStatusRow","BookingStatuses_CustomStatusRow","_state$bookingStatuse2","changeToggle","deleteBookingStatus","CircleAddGlyph","ConditionContainer","CustomBookingColor_templateObject","Row","CustomBookingColor_templateObject2","ConditionItemDiv","CustomBookingColor_templateObject3","StyledOutlineButton","CustomBookingColor_templateObject4","StyledTableDivider","CustomBookingColor_templateObject5","StyledColorSpan","CustomBookingColor_templateObject6","StyledP2","_templateObject7","RemoveButton","_templateObject8","CustomBookingColorSection","setSaving","conditionSettingId","setConditionSettingId","condition_type","condition_value","conditionSettings","setConditionSettings","bookingColor","getCustomBookingColorInfo","saveConditions","conditions","handleChangeContionKey","nKey","nKeyTwo","filterOne","getInitialConditionType","getInitialConditionValue","getConditionTypeValues","itemOne","getConditionValuesValue","_useDebouncedCallback","useDebouncedCallback","debouncedChangeConditionValue","selColor","handleChangeBookingColor","itemTwo","getConditionKeyLabel","filterTwo","getConditionTypeLabel","handleChangeConditionTypes","handleChangeConditionValueText","getConditionValueLabel","handleChnageConditionValue","handleClickDeleteRow","outline","handleClickAdd","Glyphs_CircleAddGlyph","handleClickOR","ColumnContainer","_ref$children","VenuesAndSpacesPage_templateObject","Column","_ref2","_ref2$title","_ref2$buttonTitle","buttonTitle","_ref2$message","onButtonClick","_ref2$children","_ref2$loading","VenuesAndSpacesPage_templateObject2","VenuesAndSpacesPage_templateObject3","Cell","_ref3","_ref3$title","_ref3$newMode","newMode","_ref3$insertPlacehold","insertPlaceholder","_ref3$onAddValue","onAddValue","_ref3$onEditValue","onEditValue","_ref3$onDelete","_ref3$onCancel","onCancel","_ref3$onClick","_ref3$selected","_ref3$clickable","clickable","_ref3$accentColor","accentColor","_ref3$loading","VenuesAndSpacesPage_templateObject4","VenuesAndSpacesPage_templateObject5","VenuesAndSpacesPage_templateObject6","VenuesAndSpacesPage_templateObject7","VenuesAndSpacesPage_templateObject8","_templateObject9","_templateObject10","_templateObject11","VenuesAndSpacesPage","addingVenue","setAddingVenue","addingSpace","setAddingSpace","selectedVenueIndex","setSelectedVenueIndex","selectedVenue","selectedId","getSelectedVenue","getVenue","VenuesAndSpacesPage_ColumnContainer","VenuesAndSpacesPage_Column","VenuesAndSpacesPage_Cell","addVenues","editVenue","getSpacesOfVenue","VenueId","addSpaceOfVenue","_context7","editSpaceOfVenue","_context8","OnlinePaymentPage","StyledBtnContainer","OnlinePaymentPage_templateObject","stripInformation","setStripInformation","url","BookingWidgetPage_templateObject","HtmlDiv","BookingWidgetPage_templateObject2","InstructionDiv","BookingWidgetPage_templateObject3","WidgetContent","BookingWidgetPage_templateObject4","CodeContent","BookingWidgetPage_templateObject5","ClipBoardIcon","FontAwesomeIcon","BookingWidgetPage_templateObject6","BookingWidgetPage","showInstModal","setShowInstModal","BookingWidgetPage_Row","faCode","uuid","flex","react_copy_to_clipboard_lib","text","faCopy","faExternalLinkAlt","Suggestion","SettingsPage","currentSection","setCurrentSection","globalState","sideNavigation","CompanyInfo","BookingStatuses","pages_VenuesAndSpacesPage","pages_OnlinePaymentPage","CustomBookingColor","pages_BookingWidgetPage","sections_Suggestion","BookingRow","onSelectBooking","selectBooking_templateObject","selectBooking_templateObject2","SelectBookingModal","setFilteredBookings","selectBooking_BookingRow","InvoicesPage","showSelectBookingModal","setshowSelectBookingModal","selectedBookingIdForNewInvoice","setSelectedBookingIdForNewInvoice","selectedFilter","setSelectedFilter","_useState15","_useState16","_useState17","_useState18","all","spread","catch","isSave","statusValue","_useState19","_useState20","setInvoices","newInvoices","customerName","bookingName","sort","inv1","inv2","justifyContent","InvoicesPage_templateObject","getBookingNameWithId","handleDelete","selectBooking","ButtonsRow","ButtonsRow_templateObject","ViewsButton","CalendarViewDropDown_templateObject","WrapperButton","CalendarViewDropDown_templateObject2","ViewDropDown","CalendarViewDropDown_templateObject3","ViewTitle","CalendarViewDropDown_templateObject4","withRouter","history","showCreateViewModalFunc","setCurView","openViewDropDown","setOpenViewDropDown","refOne","handleClickView","nView","faPencilAlt","CalendarCreateView_templateObject","CustomeCol","CalendarCreateView_templateObject2","CalendarCreateView_templateObject3","ErrorP","CalendarCreateView_templateObject4","CalendarCreateView","hideModal","setCalendarViews","getSelectedAllString","strAll","getSpaceNameWithId","calendarView","CalendarCreateView_Row","handleChangeViewTitle","react_multi_select_dist_default","onSelectedChanged","handleChangeSpaces","disableSearch","overrideStrings","allItemsAreSelected","selectSomeItems","CalendarCreateView_RemoveButton","handleClickDeleteView","setCalendarSettingAction","calendarSetting","CalendarDatePicker_templateObject","Title","CalendarDatePicker_templateObject2","CalendarDatePicker","CalendarDatePicker_Wrapper","CalendarDatePicker_Title","onClickOutside","onInputClick","open","calendarToolbar_templateObject","formatDate","view","firstDayOfWeek","startOf","lastDayOfWeek","endOf","year","currentView","onNavigate","showCreateViewModal","setShowCreateViewModal","calendarToolbar_Container","collapseGlyph","expandGlyph","arrowLeft","arrowRight","features_CalendarDatePicker","layout_ButtonsRow","textTransform","features_CalendarViewDropDown","bShow","features_CalendarCreateView","isToday","someDate","today","getMonth","getFullYear","CalendarWeekHeader","isDateToday","weekDay","monthDay","WeekDay","calendarWeekHeader_templateObject","MonthDay","calendarWeekHeader_templateObject2","localizer","BigCalendar","momentLocalizer","Event","calendar_templateObject","calendar_templateObject2","accent","subtitle","calendar_templateObject3","EventWrapper","calendar_templateObject4","Calendar","today8am","resources","setResources","newResources","react_big_calendar_esm","scrollToTime","selectable","defaultView","step","timeslots","components","eventWrapper","toolbar","CalendarToolbar","week","header","events","bookingRow_templateObject","bookingRow_templateObject2","Subtitle","bookingRow_templateObject3","Footer","bookingRow_templateObject4","sortedDates","buffer","prevMonthYear","flushBuffer","formattedDates","join","getYear","formatSlotsDatesForFooter","TabbedBookingsList","selectedBookings","setSelectedBookings","newFiltered","toDate","add","tabbedBookingsList_templateObject","Header","tabbedBookingsList_templateObject2","BookingsList","tabbedBookingsList_templateObject3","bookingRow","bookingEmailLogin_templateObject","BookingEmailLogin","userEmail","setUserEmail","bookingEmailLogin_Row","labe","onUserEmailChange","BASE_URL","response","bookingEmailLogin_templateObject2","bookingToEvents","bookignColors","filteredColor","isOneAddContion","getBookingColor","slotDate","dateIndex","bookingID","resourceId","createBookingModalInfo","setCreateBookingModalInfo","showEnterEmailModal","setShowEnterEmailModal","setEvents","useInterval","currentTimeIndicator","getElementsByClassName","hasChildNodes","innerText","currentTimeElement","appendChild","handleKeyDown","useCallback","getViewMode","strValue","pathname","getCalendarSetting","getBookingColors","getCalendarViews","_context9","getAllSpaces","startDateStr","endDateStr","getReturnUrlSlots","_context15","_context10","_res2","_context11","_res3","_context12","_res4","_context13","_res5","_context14","checkSubdomain","saveCalendarSettingAction","tabbedBookingsList","_res6","_context16","bookingEmailLogin","features_calendar","onSelectEvent","onSelectSlot","CreateStripeAccount","search","req","stripe_auth_code","STRIPE_CONNECT_CALLBACK_URL","H1","h1","H1_templateObject","getPanelDateRange","arrDate","n","subtract","reverse","getBookingWithDateRange","period","maxBooking","count","maxCountOne","startTempDate","bookingArray","bookingStartDate","bookingEndDate","panelDateSelector_templateObject","panelDateSelector_templateObject2","panelDateSelector_templateObject3","ViewDropDownArrow","panelDateSelector_templateObject4","PanelDateSelector","panelKind","timePeriodOptions","openDropDown","setOpenDropDown","timePeriod","setTimePeriod","panelDateSelector_Container","panelDateSelector_WrapperButton","panelDateSelector_ViewDropDown","handleChangeTime","topBanner_templateObject","TitleDiv","topBanner_templateObject2","TopBanner","timePeriods","topBanner_Container","panelDateSelector","PanelDiv","recentBookingPanel_templateObject","TotalValue","recentBookingPanel_templateObject2","RecentBookingPanel","labels","datasets","lineTension","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","recentBookings","setRecentBookings","topBanner","partial_sum","react_chartjs_2_es","legend","scales","yAxes","ticks","callback","floor","upcomingBookingPanel_templateObject","upcomingBookingPanel_templateObject2","UpcomingBookingPanel","upcomingBookingsPeriod","borderWidth","hoverBackgroundColor","hoverBorderColor","upcomingBookings","setUpcomingBookings","upcomingBookingPanel_PanelDiv","upcomingBookingPanel_TotalValue","topVenueTable_templateObject","topVenueTable_templateObject2","topVenueTable_templateObject3","topVenueTable_templateObject4","topStaffTable_templateObject","topStaffTable_templateObject2","topStaffTable_templateObject3","topStaffTable_templateObject4","DashboardPage_templateObject","DashboardPage_templateObject2","DashboardPage_templateObject3","DashboardPage_templateObject4","DashboardPage_templateObject5","DashboardPage","recentBookingPanel","upcomingBookingPanel","Routes","routing_PrivateRoute","exact","CalendarPage","LoginPage_templateObject","indexStr","accessToken","calendarInfo","decoded","jsonwebtoken","decode","outseta_id","nameid","unique_name","family_name","given_name","userflow","is_new","loadUserflow","init","identify","signedUpAt","startFlow","loginOutSeta","react","LoginPage","PrivateRoutesTree","LayoutBlock","Sidebar_templateObject","collapsed","SidebarButton","Sidebar_templateObject2","SidebarWrapper","Sidebar_templateObject3","logined","TopLinks","CalendarSvg","BookingsSvg","CustomersSvg","InvoicesSvg","BottomLinks","SettingsSvg","sidebarCollapsed","setSidebarCollapsed","isLoggedIn","setIsLoggedIn","Sidebar_Container","SideCollapseRightSvg","SideCollapseLeftSvg","faChartArea","link","LogOutSvg","RegisterSvg","LogInSvg","LayoutWrapperWrapper","LayoutWrapper_templateObject","LayoutWrapper","LayoutSectionWrapper","LayoutSection_templateObject","bgColor","skew","mask","small","fullWidth","LayoutSection","baseURL","App","getUser","Provider","react_router_dom","layout_Sidebar","layout_LayoutWrapper","layout_LayoutSection","RoutesTree","ReactModal","setAppElement","src_App","getElementById"],"mappings":"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","file":"static/js/main.d32519b4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/add.229427fe.svg\";","module.exports = __webpack_public_path__ + \"static/media/calendarExpand.57f20ba4.svg\";","module.exports = __webpack_public_path__ + \"static/media/calendarCollapse.fbdd1604.svg\";","require ('dotenv').config();\n\nlet CONFIG = {};\n\nCONFIG.BASE_URL                                 = process.env.REACT_APP_BASE_URL || 'http://localhost:8000';\nCONFIG.API_URL                                  = process.env.REACT_APP_API_URL || 'http://localhost:3001/v1';\nCONFIG.STRIPE_CONNECT_CALLBACK_URL              = process.env.REACT_APP_STRIPE_CONNECT_CALLBACK_URL || '';\nCONFIG.SENTRY_DSN                               = process.env.REACT_APP_SENTRY_DSN || '';\nCONFIG.STRIPE_CLIENT_PUBLIC_KEY                 = process.env.STRIPE_CLIENT_PUBLIC_KEY || 'pk_test_WzBWalkASwZyPFaA0dJhOZ1p00bXlkON04'; \n\nmodule.exports = CONFIG;","module.exports = __webpack_public_path__ + \"static/media/remove.41cc548e.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.df0b9fea.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.f3d1aaae.svg\";","module.exports = __webpack_public_path__ + \"static/media/iconSearch.44a00011.svg\";","module.exports = __webpack_public_path__ + \"static/media/dragHandle.0ad22be9.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrowRight.02d767b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrowLeft.3b1b9fff.svg\";","module.exports = __webpack_public_path__ + \"static/media/calendar.5349ae14.svg\";","module.exports = __webpack_public_path__ + \"static/media/bookings.643c26df.svg\";","module.exports = __webpack_public_path__ + \"static/media/invoices.5d19e5ea.svg\";","module.exports = __webpack_public_path__ + \"static/media/customers.447022b2.svg\";","module.exports = __webpack_public_path__ + \"static/media/settings.a9024419.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.a2bbcb83.svg\";","module.exports = __webpack_public_path__ + \"static/media/login.bdc66b5c.svg\";","module.exports = __webpack_public_path__ + \"static/media/register.942bbc12.svg\";","module.exports = __webpack_public_path__ + \"static/media/view.df717228.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrowDown.19bfcf60.svg\";","const owners = [\"Jamie\", \"Francesco\", \"Fabrizio\"];\n\nexport default owners;\n","import moment from \"moment\";\n\nfunction updatedDate(date, newHour, newMinute) {\n  const newDate = new Date(date);\n  newDate.setHours(newHour);\n  newDate.setMinutes(newMinute);\n  newDate.setSeconds(0);\n  newDate.setMilliseconds(0);\n  return newDate;\n}\n\nfunction addDays(date, daysDelta) {\n  const newDate = new Date(date);\n  newDate.setDate(newDate.getDate() + daysDelta);\n  return newDate;\n}\n\nfunction startOfWeek() {\n  return moment()\n    .startOf(\"week\")\n    .toDate();\n}\n\nfunction endOfWeek() {\n  return moment()\n    .endOf(\"week\")\n    .toDate();\n}\n\nfunction startOfUpcomingWeek() {\n  return moment()\n    .add(1, 'weeks')\n    .startOf(\"isoWeek\")\n    .toDate();\n}\n\nfunction endOfUpcomingWeek() {\n  return moment()\n    .add(2, 'weeks')\n    .endOf(\"isoWeek\")\n    .toDate();\n}\n\nfunction isBookingWithDates(booking, startDate, endDate) {\n  for (const slot of booking.slots) {\n    switch (slot.kind) {\n      case \"multi-day\":\n        for (const date of slot.dateRange) {\n          const dateValue = (new Date(date)).getTime();\n          if (\n            // typeof date.getTime === 'function' && startDate.getTime() < date.getTime() &&\n            // date.getTime() < endDate.getTime()\n            dateValue !== 0 && startDate.getTime() < dateValue && dateValue < endDate.getTime()\n          ) {\n            return true;\n          }\n        }\n\n        break;\n\n      case \"single-day\":\n        const dateValue = (new Date(slot.date)).getTime();\n        if (\n          // typeof slot.date.getTime === 'function' && startDate.getTime() < slot.date.getTime() &&\n          // slot.date.getTime() < endDate.getTime()\n          dateValue !== 0 && startDate.getTime() < dateValue && dateValue < endDate.getTime()\n        ) {\n          return true;\n        }\n        break;\n\n      default:\n        throw new Error();\n    }\n  }\n  return false;\n}\n\nexport { \n  updatedDate, \n  startOfWeek, \n  endOfWeek, \n  startOfUpcomingWeek,\n  endOfUpcomingWeek,\n  isBookingWithDates, \n  addDays \n};\n","// import uuidV4 from \"../utils/uuidV4\";\nimport owners from \"./owners\";\nimport { addDays } from \"../utils/dates\";\n\nfunction createEmptyBooking() {\n  return {\n    id: -1,\n    received: new Date(),\n    source: \"Email\",\n    eventName: \"\",\n    venueId: null,\n    spaceId: null,\n    status: \"Enquiry\",\n    customerId: null,\n    ownerId: null,\n    slots: [],\n    invoices: [],\n    quotes: [],\n    currency: \"GBP\",\n    discount: 0,\n    total: 0\n  };\n}\n\nfunction createEmptyInvoice(number, booking) {\n  return {\n    number: number,\n    status: \"Unpaid\",\n    created: new Date(),\n    slots: (booking && Array.from(booking.slots)) || [],\n    costItems: [],\n    discount: 0,\n    booking: booking,\n    grand_total: 0\n  };\n}\n\nfunction createEmptyQuote(booking) {\n  return {\n    id: -1,\n    createdAt: new Date(),\n    slots: Array.from(booking.slots) || [],\n    costItems: [],\n    value: 0,\n    discount: 0,\n    note: \"\",\n  };\n}\n\nfunction convertQuoteToInvoice(quote, invoiceNumber, booking) {\n  return {\n    number: invoiceNumber,\n    status: \"Unpaid\",\n    created: new Date(),\n    slots: quote.slots,\n    costItems: quote.costItems,\n    discount: quote.discount,\n    booking: booking,\n    amount: quote.value\n  };\n}\n\nfunction createEmptyCostItem({ vatRate }) {\n  return {\n    name: \"\",\n    description: \"\",\n    quantity: 0,\n    unitPrice: 0,\n    vatRate: vatRate || 0.0,\n    vatRateText: (vatRate && `${vatRate}`) || \"0\"\n  };\n}\n\nconst bookings = [\n  {\n    id: \"29576b51-3e17-4c1f-b912-b7ff1ded7077\",\n    received: addDays(new Date(), -60),\n    source: \"Word of mouth\",\n    title: \"Art Exhibition\",\n    venue: \"gallery\",\n    space: \"lounge\",\n    status: \"Proposal\",\n    customer: \"opgreat\",\n    owner: owners[0],\n    slots: [\n      {\n        kind: \"multi-day\",\n        dateRange: [new Date(), addDays(new Date(), 1)],\n        startHour: 9,\n        startMinute: 0,\n        endHour: 18,\n        endMinute: 0\n      }\n    ],\n    quotes: [],\n    invoices: [\n      {\n        number: 1,\n        created: new addDays(Date(), -20),\n        amount: 300,\n        paymentMethod: \"Online Payment\",\n        status: \"Unpaid\",\n        discount: 0,\n        costItems: [\n          {\n            name: \"Food & Beverages\",\n            description: \"\",\n            quantity: 1,\n            unitPrice: 300,\n            vatRate: 0,\n            vatRateText: \"18\"\n          }\n        ],\n        slots: [\n          {\n            kind: \"single-day\",\n            date: addDays(new Date(), -1),\n            startHour: 15,\n            startMinute: 0,\n            endHour: 17,\n            endMinute: 0\n          }\n        ]\n      },\n      {\n        number: 2,\n        created: new addDays(Date(), -10),\n        amount: 1000,\n        paymentMethod: \"Online Payment\",\n        status: \"Unpaid\",\n        discount: 0,\n        costItems: [\n          {\n            name: \"Venue Hire\",\n            description: \"\",\n            quantity: 1,\n            unitPrice: 1000,\n            vatRate: 0,\n            vatRateText: \"18\"\n          }\n        ],\n        slots: [\n          {\n            kind: \"single-day\",\n            date: addDays(new Date(), -1),\n            startHour: 15,\n            startMinute: 0,\n            endHour: 17,\n            endMinute: 0\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: \"99af5d47-3837-4623-be55-f85c0b511c0f\",\n    received: addDays(new Date(), -10),\n    source: \"Email\",\n    title: \"CrossFit Class\",\n    venue: \"gym\",\n    space: \"func\",\n    status: \"Paid\",\n    customer: \"super\",\n    owner: owners[0],\n    paymentMethod: \"Online Payment\",\n    slots: [\n      {\n        kind: \"single-day\",\n        date: addDays(new Date(), -1),\n        startHour: 15,\n        startMinute: 0,\n        endHour: 17,\n        endMinute: 0\n      }\n    ],\n    quotes: [\n      {\n        created: new Date(),\n        value: 1200,\n        discount: 0,\n        slots: [\n          {\n            kind: \"single-day\",\n            date: addDays(new Date(), -1),\n            startHour: 15,\n            startMinute: 0,\n            endHour: 17,\n            endMinute: 0\n          }\n        ],\n        note:\n          \"The price includes the venue hire and beverages. I also added a discount because I like you.\",\n        costItems: [\n          {\n            name: \"Venue Hire\",\n            description: \"\",\n            quantity: 1,\n            unitPrice: 1000,\n            vatRate: 18,\n            vatRateText: \"18\"\n          },\n          {\n            name: \"Drinks for after class\",\n            description: \"\",\n            quantity: 1,\n            unitPrice: 200,\n            vatRate: 18,\n            vatRateText: \"18\"\n          }\n        ]\n      }\n    ],\n    invoices: [\n      {\n        number: 3,\n        created: new addDays(Date(), -3),\n        amount: 3000,\n        paymentMethod: \"Online Payment\",\n        status: \"Paid\",\n        discount: 0,\n        slots: [\n          {\n            kind: \"single-day\",\n            date: addDays(new Date(), -1),\n            startHour: 15,\n            startMinute: 0,\n            endHour: 17,\n            endMinute: 0\n          }\n        ],\n        costItems: [\n          {\n            name: \"Venue Hire\",\n            description: \"\",\n            quantity: 1,\n            unitPrice: 1000,\n            vatRate: 18,\n            vatRateText: \"18\"\n          },\n          {\n            name: \"Drinks for after class\",\n            description: \"\",\n            quantity: 1,\n            unitPrice: 200,\n            vatRate: 18,\n            vatRateText: \"18\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: \"5bc16979-f56b-405b-82bb-839f3b018200\",\n    received: addDays(new Date(), -10),\n    source: \"Email\",\n    title: \"Soccer Match\",\n    venue: \"soccer\",\n    space: \"field1\",\n    status: \"Accepted\",\n    customer: \"super\",\n    owner: owners[1],\n    slots: [\n      {\n        kind: \"single-day\",\n        date: addDays(new Date(), -1),\n        startHour: 16,\n        startMinute: 0,\n        endHour: 18,\n        endMinute: 0\n      }\n    ],\n    quotes: [],\n    invoices: []\n  }\n];\n\nexport {\n  createEmptyBooking,\n  createEmptyCostItem,\n  createEmptyQuote,\n  createEmptyInvoice,\n  convertQuoteToInvoice,\n  bookings\n};\n","export function computeCostItemsSummary(costItems, discount) {\n  const netSubtotal =\n    costItems &&\n    costItems.reduce(\n      (acc, item) =>\n        acc + item.quantity * item.unitPrice * (1 - discount / 100),\n      0\n    );\n\n  const taxes =\n    costItems &&\n    costItems.reduce(\n      (acc, item) =>\n        acc +\n        (item.quantity * item.unitPrice * (1 - discount / 100) * item.vatRate) /\n          100,\n      0\n    );\n\n  const grandTotal = netSubtotal + taxes;\n\n  return [netSubtotal, taxes, grandTotal];\n}\n","// Venus Action Types\nexport const REQUEST_GET_VENUE = \"Request get venue\";\nexport const GET_VENUE_SUCCESS = \"Get venue success\";\nexport const GET_VENUE_ERROR = \"Get venue error\";\nexport const REQUEST_ADD_VENUE = \"Request create venue\";\nexport const GET_ADD_VENUE_SUCCESS = \"Get add venue success\";\nexport const GET_ADD_VENUE_ERROR = \"Get add venue error\";\nexport const REQUEST_DELETE_VENUE = \"Request delete venue\";\nexport const GET_DELETE_VENUE_SUCCESS = \"Get delete venue success\";\nexport const GET_DELETE_VENUE_ERROR = \"Get delete venue error\";\nexport const REQUEST_EDIT_VENUE = \"Request edit venue\";\nexport const GET_EDIT_VENUE_SUCCESS = \"Get edit venue success\";\nexport const GET_EDIT_VENUE_ERROR = \"Get edit venue error\";\n\n// Venus Spaces Action Types\nexport const REQUEST_GET_VENUE_SPACES = \"Request get spaces of venue\";\nexport const GET_VENUE_SPACES_SUCCESS = \"Get spaces of venue success\";\nexport const GET_VENUE_SPACES_ERROR = \"Get spaces of venue error\";\nexport const REQUEST_ADD_VENUE_SPACE = \"Request add space of venue\";\nexport const GET_ADD_VENUE_SPACE_SUCCESS = \"Get add space of venue success\";\nexport const GET_ADD_VENUE_SPACE_ERROR = \"Get add space of venue error\";\nexport const REQUEST_EDIT_VENUE_SPACE = \"Request edit space of venue\";\nexport const GET_EDIT_VENUE_SPACE_SUCCESS = \"Get edit space of venue success\";\nexport const GET_EDIT_VENUE_SPACE_ERROR = \"Get edit space of venue error\";\nexport const REQUEST_DELETE_VENUE_SPACE = \"Request delete space of venue\";\nexport const GET_DELETE_VENUE_SPACE_SUCCESS = \"Get delete space of venue success\";\nexport const GET_DELETE_VENUE_SPACE_ERROR = \"Get delete space of venue error\";\n\n// Company Info Action Types\nexport const REQUEST_GET_COMPANYINFO = \"Request get company info\";\nexport const GET_COMPANYINFO_SUCCESS = \"Get company info success\";\nexport const GET_COMPANYINFO_ERROR = \"Get company info error\";\n\n// Booking Status Section Action Types\nexport const REQUEST_GET_BOOKINGSTATUS = \"Request get booking status\";\nexport const GET_BOOKING_STATUS_SUCCESS = \"Get booking status success\";\nexport const GET_BOOKING_STATUS_ERROR = \"Get booking status error\";\nexport const REQUEST_ADD_BOOKING_STATUS = \"Request add booking status\";\nexport const GET_ADD_BOOKING_STATUS_SUCCESS = \"Get add booking status success\";\nexport const GET_ADD_BOOKING_STATUS_ERROR = \"Get add booking status error\";\nexport const REQUEST_UPDATE_BOOKING_STATUS = \"Request update booking status\";\nexport const GET_UPDATE_BOOKING_STATUS_SUCCESS = \"Get update booking status success\";\nexport const GET_UPDATE_BOOKING_STATUS_ERROR = \"Get update booking status error\";\nexport const REQUEST_DELETE_BOOKING_STATUS = \"Request delete booking status\";\nexport const GET_DELETE_BOOKING_STATUS_SUCCESS = \"Get delete booking status success\";\nexport const GET_DELETE_BOOKING_STATUS_ERROR = \"Get delete booking status error\";\nexport const APPEND_CUSTOM_STATUS = \"Append new booking status\";\nexport const REMOVE_NEW_BOOKING_STATUS = \"Remove appended new booking status\";\nexport const SET_BOOKING_STATUS_PAGE_STATUS = \"Set booking status page status\";\nexport const UPDATE_ALL_BOOKINGSTATUS_SUCCESS = \"Update all booking status\";\n// Customer Actions\nexport const REQUEST_GET_CUSTOMERS = \"Request get customers\";\nexport const GET_CUSTOMERS_SUCCESS = \"Get customers success\";\nexport const GET_CUSTOMERS_ERROR = \"Get customers error\";\nexport const REQUEST_ADD_CUSTOMER = \"Request add customer\";\nexport const GET_ADD_CUSTOMER_SUCCESS = \"Get add customer success\";\nexport const GET_ADD_CUSTOMER_ERROR = \"Get add customer error\";\nexport const REQUEST_UPDATE_CUSTOMER = \"Request update customer\";\nexport const GET_UPDATE_CUSTOMER_SUCCESS = \"Get update customer success\";\nexport const GET_UPDATE_CUSTOMER_ERROR = \"Get update customer error\";\nexport const REQUEST_DELETE_CUSTOMER = \"Request delete customer\";\nexport const GET_DELETE_CUSTOMER_SUCCESS = \"Get delete customer success\";\nexport const GET_DELETE_CUSTOMER_ERROR = \"Get delete customer error\";\n\n// Booking Actions\nexport const REQUEST_GET_BOOKINGS = \"Request get bookings\";\nexport const GET_BOOKINGS_SUCCESS = \"Get bookings success\";\nexport const GET_BOOKINGS_ERROR = \"Get bookings error\";\nexport const REQUSET_ADD_BOOKING = \"Request add booking\";\nexport const GET_ADD_BOOKING_SUCCESS = \"Get add booking success\";\nexport const GET_ADD_BOOKING_ERROR = \"Get add booking error\";\nexport const REQUEST_UPDATE_BOOKING = \"Request update booking\";\nexport const GET_UPDATE_BOOKING_SUCCESS = \"Get update booking success\";\nexport const GET_UPDATE_BOOKIG_ERROR = \"Get update booking error\";\nexport const REQUEST_DELETE_BOOKING = \"Request delete booking\";\nexport const GET_DELETE_BOOKING_SUCCESS = \"Request delete booking success\";\nexport const GET_DELETE_BOOKING_ERROR = \"Request delete booking error\"\nexport const REQUSET_GET_BOOKING_CUSTOMER = \"Request get customer for booking\";\nexport const GET_BOOKING_CUSTOMER_SUCCESS = \"Success get customer for booking\";\nexport const GET_BOOKING_CUSTOMER_ERROR = \"Error get customer for booking\";\nexport const REQUSET_GET_BOOKING_VENUES = \"Request get venue for booking\";\nexport const GET_BOOKING_VENUES_SUCCESS = \"Success get venue for booking\";\nexport const GET_BOOKING_VENUES_ERROR = \"Error get venue for booking\";\nexport const REQUEST_GET_BOOKING_SPACES = \"Request get booking spaces\";\nexport const GET_BOOKING_SPACES_SUCCESS = \"Success get booking spaces\";\nexport const GET_BOOKING_SPACES_ERROR = \"Error get booking spaces\";\nexport const REQUEST_GET_BOOKING_BOOKINGSTATUS = \"Request get booking booking status\";\nexport const GET_BOOKING_BOOKINGSTATUS_SUCCESS = \"Get booking booking status success\";\nexport const GET_BOOKING_BOOKINGSATTUS_ERROR = \"Get booking booking status error\";\nexport const UPDATE_ADD_BOOKINGFORM_VALIDATE = \"Change add booking form validate\";\n\n// Booking Quote\nexport const REQUEST_GET_BOOKING_QUOTE = \"Request get booking quote\";\nexport const GET_BOOKING_QUOTE_SUCCESS = \"Get booking quote success\";\nexport const GET_BOOKING_QUOTE_ERROR = \"Get booking quote error\";\nexport const REQUEST_CREATE_BOOKING_QUOTE = \"Request create booking quote\";\nexport const GET_CREATE_BOOKING_QUOTE_SUCCESS = \"Get create booking quote success\";\nexport const GET_CREATE_BOOKING_QUOTE_ERROR = \"Get create booking quote error\";\nexport const REQUEST_UPDATE_BOOKING_QUOTE = \"Request update booking quote\";\nexport const UPDATE_BOOKING_QUOTE_SUCCESS = \"Update booking quote success\";\nexport const UPDATE_BOOKING_QUOTE_ERROR = \"Update booking quote error\";\nexport const REQUEST_DELETE_BOOKING_QUOTE = \"Request delete bookig quote\";\nexport const DELETE_BOOKING_QUOTE_SUCCESS = \"Delete booking quote success\";\nexport const DELETE_BOOKING_QUOTE_ERROR = \"Delete booking quote error\";\n\n\n// Booking Invoice\nexport const REQUEST_GET_BOOKING_INVOICE = \"Request get booking invoice\";\nexport const GET_BOOKING_INVOICE_SUCCESS = \"Get booking invoice success\";\nexport const GET_BOOKING_INVOICE_ERROR = \"Get booking invoice error\";\nexport const REQUEST_CREATE_BOOKING_INVOICE = \"Request create booking invoice\";\nexport const GET_CREATE_BOOKING_INVOICE_SUCCESS = \"Get create booking invoice success\";\nexport const GET_CREATE_BOOKING_INVOICE_ERROR = \"Get create booking invoice error\";\nexport const REQUEST_UPDATE_BOOKING_INVOICE = \"Request update booking invoice\";\nexport const UPDATE_BOOKING_INVOICE_SUCCESS = \"Update booking invoice success\";\nexport const UPDATE_BOOKING_INVOICE_ERROR = \"Update booking invoice error\";\nexport const REQUEST_DELETE_BOOKING_INVOICE = \"Request delete bookig invoice\";\nexport const DELETE_BOOKING_INVOICE_SUCCESS = \"Delete booking invoice success\";\nexport const DELETE_BOOKING_INVOICE_ERROR = \"Delete booking invoice error\";\n\nexport const CLEAR_BOOKING_DATA = \"CLEAR BOOKING DATA\";\n\n// Payment Action Type\nexport const REQUEST_SAVE_PAYMENT_INFORMATION = 'Request save user payment information';\nexport const SAVE_PAYMENT_INFORMATION_SUCCESS = 'Save user payment information success';\nexport const SAVE_PAYMENT_INFORMATION_ERROR   = 'Save user payment information error';\nexport const STRIPE_CONNECTION_SUCCESS        = 'Set User Stripe connection status';\n\n// Custom Booking Color Types\nexport const REQUEST_GET_CUSTOM_BOOKING_COLOR   = 'Request get custom booking color settings'\nexport const GET_CUSTOM_BOOKING_COLOR_SUCCESS   = 'Get custom booking color setting success'\nexport const GET_CUSTOM_BOOKING_COLOR_ERROR     = 'Get custom booking color setting error'\n\n// Create Views for Calendar\nexport const REQUEST_GET_CALENDAR_CUSTOM_VIEW     = 'Request get calendar custom views'\nexport const GET_CALENDAR_CUSTOM_VIEW_SUCCESS     = 'Get calendar custom views success'\nexport const GET_CALENDAR_CUSTOM_VIEW_ERROR       = 'Get calendar custom views error'\nexport const REQUEST_CREATE_CALENDAR_CUSTOM_VIEW  = 'Request create calendar custom view'\nexport const CREATE_CALENDAR_CUSTOM_VIEW_SUCCESS  = 'Create calendar custom view success'\nexport const CREATE_CALENDAR_CUSTOM_VIEW_ERROR    = 'Create calendar custom view error'\nexport const REQUSET_UPDATE_CALENDAR_CUSTOM_VIEW  = 'Request update calendar custom view success'\nexport const UPDATE_CALENDAR_CUSTOM_VIEW_SUCCESS  = 'Update calendar custom view success'\nexport const UPDATE_CALENDAR_CUSTOM_VIEW_ERROR    = 'Update calendar custom view error'\nexport const REQUEST_GET_USERS_ALL_SPACES         = 'Request get all spaces of logged in user'\nexport const GET_USERS_ALL_SPACES_SUCCESS         = 'Get all spaces of login user success'\nexport const GET_USERS_ALL_SPACES_ERROR           = 'Get all spaces of login user error'\nexport const SET_CURRENT_CALENDAR_VIEW            = 'Set current calendar view'\n\n// Calendar Setting Types\nexport const GET_CALENDAR_SETTING_SUCCESS         = 'Get calendar setting success'\nexport const GET_CALENDAR_SETTING_ERROR           = 'Get calendar setting error'\nexport const REQUEST_SAVE_CALENDAR_SETTING        = 'Request save calendar setting'\nexport const SAVE_CALENDAR_SETTING_SUCCESS        = 'Save calendar setting success'\nexport const SAVE_CALENDAR_SETTING_ERROR          = 'Save calendar setting error'\nexport const CREATE_CALENDAR_SETTING_SUCCESS      = 'Create calendar setting success'\nexport const CREATE_CALENDAR_SETTING_ERROR        = 'Create calendar setting error'\nexport const UPDATE_CALENDAR_SETTING_SUCCESS      = 'Update calendar setting success'\nexport const UPDATE_CALENDAR_SETTING_ERROR        = 'Update calendar setting error'\nexport const SET_CALENDAR_SETTING_DATA            = 'Set calendar Setting';\n\n// Dashboard Types\nexport const SET_RECENT_BOOKINGS_PERIOD              = 'Set Dashboard Recent Bookings Period';\nexport const SET_UPCOMING_BOOKINGS_PERIOD          = 'Set Upcoming booking period';\n","import {\n  createEmptyQuote,\n  createEmptyCostItem,\n  convertQuoteToInvoice\n} from \"../models/bookings\";\nimport { addDays } from \"date-fns/esm\";\nimport { computeCostItemsSummary } from \"../utils/costItemsMath\";\n\nimport {\n  REQUSET_ADD_BOOKING,\n  GET_ADD_BOOKING_SUCCESS,\n  GET_ADD_BOOKING_ERROR,\n  REQUEST_UPDATE_BOOKING,\n  GET_UPDATE_BOOKING_SUCCESS,\n  GET_UPDATE_BOOKIG_ERROR,\n  REQUEST_GET_BOOKINGS,\n  GET_BOOKINGS_SUCCESS,\n  GET_BOOKINGS_ERROR,\n  REQUEST_DELETE_BOOKING,\n  GET_DELETE_BOOKING_SUCCESS,\n  GET_DELETE_BOOKING_ERROR,\n  REQUEST_GET_BOOKING_BOOKINGSTATUS,\n  GET_BOOKING_BOOKINGSTATUS_SUCCESS,\n  GET_BOOKING_BOOKINGSATTUS_ERROR,\n  REQUEST_GET_BOOKING_QUOTE,\n  GET_BOOKING_QUOTE_SUCCESS,\n  GET_BOOKING_QUOTE_ERROR,\n  REQUEST_CREATE_BOOKING_QUOTE,\n  GET_CREATE_BOOKING_QUOTE_SUCCESS,\n  GET_CREATE_BOOKING_QUOTE_ERROR,\n  REQUEST_UPDATE_BOOKING_QUOTE,\n  UPDATE_BOOKING_QUOTE_SUCCESS,\n  UPDATE_BOOKING_QUOTE_ERROR,\n  REQUEST_DELETE_BOOKING_QUOTE,\n  DELETE_BOOKING_QUOTE_SUCCESS,\n  DELETE_BOOKING_QUOTE_ERROR,\n  REQUEST_CREATE_BOOKING_INVOICE,\n  GET_CREATE_BOOKING_INVOICE_SUCCESS,\n  GET_CREATE_BOOKING_INVOICE_ERROR,\n  REQUEST_UPDATE_BOOKING_INVOICE,\n  UPDATE_BOOKING_INVOICE_SUCCESS,\n  UPDATE_BOOKING_INVOICE_ERROR,\n  REQUEST_DELETE_BOOKING_INVOICE,\n  DELETE_BOOKING_INVOICE_SUCCESS,\n  DELETE_BOOKING_INVOICE_ERROR,\n  GET_BOOKING_INVOICE_ERROR,\n  REQUEST_GET_BOOKING_INVOICE,\n  GET_BOOKING_INVOICE_SUCCESS,\n  CLEAR_BOOKING_DATA,\n} from \"../reducers/actionType\";\n\nlet quoteBackup = null;\n\nfunction bookingsReducer(state, action) {\n  switch (action.type) {\n    case REQUEST_GET_BOOKINGS:\n      return {\n        ...state,\n        loadBooking: true,\n      }\n    case CLEAR_BOOKING_DATA:\n      return {\n        ...state,\n        quotes: \"\",\n        invoices: \"\",\n      }\n    case GET_BOOKINGS_SUCCESS:\n      const newBookings = action.payload.map(item => {\n        if(item.slots)\n          item.slots = JSON.parse(item.slots);\n        return item;\n      })\n      return {\n        ...state,\n        loadBooking: false,\n        bookings: [ ...newBookings ]\n      }\n    case GET_BOOKINGS_ERROR:\n      return {\n        ...state,\n        loadBooking: false,\n      }\n    case REQUSET_ADD_BOOKING:\n      return {\n        ...state,\n        loadBookingAction: true,\n      }\n    case GET_ADD_BOOKING_SUCCESS:\n      const newBookingss = action.payload;\n      if(newBookingss.slots)\n        newBookingss.slots = JSON.parse(newBookingss.slots);\n      return {\n        ...state,\n        loadBookingAction: false,\n        bookings: [ ...state.bookings, newBookingss ]\n      }\n    case GET_ADD_BOOKING_ERROR:\n      return {\n        ...state,\n        loadBookingAction: false,\n        bookings: [],\n      }\n    case REQUEST_UPDATE_BOOKING:\n      return {\n        ...state,\n        loadBookingAction: true,\n      }\n    case GET_UPDATE_BOOKING_SUCCESS:\n      return {\n        ...state,\n        loadBookingAction: false,\n        bookings: state.bookings.map(item => {\n          if (item.id === action.payload.id) {\n            return {...action.payload, slots: JSON.parse(action.payload.slots)};\n          }\n          else return item;\n        })\n      }\n    case GET_UPDATE_BOOKIG_ERROR:\n      return {\n        ...state,\n        loadBookingAction: false,\n      }\n    case REQUEST_DELETE_BOOKING:\n      return {\n        ...state,\n        loadBookingAction: true,\n      }\n    case GET_DELETE_BOOKING_SUCCESS:\n      return {\n        ...state,\n        loadBookingAction: false,\n        bookings: state.bookings.filter(item => item.id !== action.payload)\n      }\n    case GET_DELETE_BOOKING_ERROR:\n      return {\n        ...state,\n        loadBookingAction: false,\n      }\n    case REQUEST_GET_BOOKING_BOOKINGSTATUS:\n      return {\n        ...state,\n        loadBooking: true,\n      }\n    case GET_BOOKING_BOOKINGSTATUS_SUCCESS:\n      return {\n        ...state,\n        // loadBooking: false,\n        bookingStatus: [ ...action.payload ]\n      }\n    case GET_BOOKING_BOOKINGSATTUS_ERROR:\n      return {\n        ...state,\n        loadBooking: false,\n      }\n    case \"upsert_booking\": {\n      const newState = Array.from(state);\n\n      const existingBookingIndex = state.findIndex(\n        booking => booking.id === action.booking.id\n      );\n\n      if (existingBookingIndex !== -1) {\n        // update\n        newState[existingBookingIndex] = action.booking;\n      } else {\n        // insert\n        newState.push(action.booking);\n      }\n\n      return newState;\n    }\n    case \"update_booking_status\": {\n      const newState = Array.from(state);\n\n      const bookingIndex = state.findIndex(booking => booking.id === action.id);\n      newState[bookingIndex].status = action.status;\n\n      return newState;\n    }\n    case \"delete_booking\": {\n      const newState = Array.from(state);\n      newState.splice(action.index, 1);\n      return newState;\n    }\n\n    // QUOTES\n    case REQUEST_GET_BOOKING_QUOTE:\n      return {\n        ...state,\n        loadingQuotes: true,\n      }\n    case GET_BOOKING_QUOTE_SUCCESS:\n      return {\n        ...state,\n        loadingQuotes: false,\n        quotes: action.payload.map(item => {\n          item.slots = JSON.parse(item.slots);\n          item.costItems = JSON.parse(item.costItems);\n          return item;\n        })\n      }\n    case GET_BOOKING_QUOTE_ERROR:\n      return {\n        ...state,\n        loadingQuotes: false,\n      }\n    case REQUEST_CREATE_BOOKING_QUOTE:\n      return {\n        ...state,\n        loadingQuotes: true,\n      }\n    case GET_CREATE_BOOKING_QUOTE_SUCCESS:\n      return {\n        ...state,\n        loadingQuotes: false,\n        quotes: [\n          ...state.quotes,\n          {\n            ...action.payload,\n            slots: JSON.parse(action.payload.slots),\n            costItems: JSON.parse(action.payload.costItems),\n          }\n        ]        \n      }\n    case GET_CREATE_BOOKING_QUOTE_ERROR:\n      return {\n        ...state,\n        loadingQuotes: false,\n      }\n    case REQUEST_UPDATE_BOOKING_QUOTE:\n      return {\n        ...state,\n        loadingQuotes: true,\n      }\n    case UPDATE_BOOKING_QUOTE_SUCCESS:\n      return {\n        ...state,\n        loadingQuotes: false,\n        quotes: [\n          ...state.quotes.map(item => {\n            if (item.id === action.payload.id) {\n              return {\n                ...action.payload,\n                slots: JSON.parse(action.payload.slots),\n                costItems: JSON.parse(action.payload.costItems),\n              }\n            }\n            return item;\n          })\n        ]\n      }\n    case UPDATE_BOOKING_QUOTE_ERROR:\n      return {\n        ...state,\n        loadingQuotes: false,\n      }\n    case REQUEST_DELETE_BOOKING_QUOTE:\n      return {\n        ...state,\n        loadingQuotes: true,\n      }\n    case DELETE_BOOKING_QUOTE_SUCCESS:\n      return {\n        ...state,\n        quotes: state.quotes.filter(item => item.id !== action.payload),\n        loadingQuotes: false,\n      }\n    case DELETE_BOOKING_QUOTE_ERROR:\n      return {\n        ...state,\n        loadingQuotes: false,\n      }\n    case \"convert_quote_to_invoice\": {\n      const newState = Array.from(state);\n      const booking = newState.find(booking => booking.id === action.booking);\n      const quote = booking.quotes[action.quote];\n      const invoiceNumber =\n        state.reduce((acc, booking) => acc + booking.invoices.length, 0) + 1;\n      const invoice = convertQuoteToInvoice(quote, invoiceNumber, booking);\n      booking.invoices.push(invoice);\n\n      return newState;\n    }\n\n    case \"quote_update_total\": {\n      const quote = state.quotes[action.quote];\n      if (!quote)\n        return {\n          ...state,\n        }\n      else {\n        return {\n          ...state,\n          quotes: state.quotes.map((item, nIndex) => {\n            if (nIndex === action.quote) {\n              item.value = computeCostItemsSummary( item.costItems, item.discount )[2];\n            }\n            return item;\n          })\n        }\n      }\n    }\n\n    // INVOICES\n\n    case \"update_invoice_status\": {\n      return {\n        ...state,\n        invoices: state.invoices.map((item, nIndex) => {\n          if (nIndex === action.index) {\n            item.status = action.status;\n          }\n          return item;\n        })\n      }\n    }\n\n    case \"delete_invoice\": {\n      return {\n        ...state,\n        invoices: state.invoices.filter((item, nIndex) => nIndex !== action.index)\n      }\n    }\n\n    // INVOICES\n\n    case \"update_invoice\": {\n      const newState = Array.from(state);\n      // const booking = newState.find(booking => booking.id === action.booking);\n      // booking.invoices[action.index] = action.invoice;\n      return newState;\n    }\n\n    case \"append_invoice\": {\n      let newInvoice = state.invoices;\n      newInvoice.push(action.invoice);\n      return {\n        ...state,\n        invoices: newInvoice\n      };\n    }\n\n    case REQUEST_GET_BOOKING_INVOICE:\n      return {\n        ...state,\n        loadingInvoice: true,\n      }\n    case GET_BOOKING_INVOICE_SUCCESS:\n      return {\n        ...state,\n        loadingInvoice: false,\n        invoices: action.payload.map(item => {\n          item.slots = item.slots && JSON.parse(item.slots);\n          item.costItems = item.cost_items && JSON.parse(item.cost_items);\n          return item;\n        })\n      }\n    case GET_BOOKING_INVOICE_ERROR:\n      return {\n        ...state,\n        loadingInvoice: false,\n      }\n    case REQUEST_CREATE_BOOKING_INVOICE:\n      return {\n        ...state,\n        loadingInvoice: true,\n      }\n    case GET_CREATE_BOOKING_INVOICE_SUCCESS:\n      const invoices = state.invoices;\n      const newInvoice = action.payload;\n\n      newInvoice.BookingId = parseInt(newInvoice.BookingId);\n      newInvoice.slots = newInvoice.slots && JSON.parse(newInvoice.slots);\n      newInvoice.costItems = newInvoice.cost_items && JSON.parse(newInvoice.cost_items);\n      invoices.push(newInvoice)\n\n      return {\n        ...state,\n        loadingInvoice: false,\n        invoices: [ ...invoices ],\n      };\n    case GET_CREATE_BOOKING_INVOICE_ERROR:\n      return {\n        ...state,\n        loadingInvoice: false,\n      }\n    case REQUEST_UPDATE_BOOKING_INVOICE:\n      return {\n        ...state,\n        loadingInvoice: true,\n      }\n    case UPDATE_BOOKING_INVOICE_SUCCESS:  \n      return {\n        ...state,\n        loadingInvoice: false,\n        invoices: state.invoices.map(item => {\n          if( item.id === action.payload.id ) {\n            item = action.payload;\n            item.slots = action.payload.slots ? JSON.parse(action.payload.slots) : [];\n            item.costItems = action.payload.cost_items ? JSON.parse(action.payload.cost_items) : [];\n          }\n          return item;\n        })\n      }\n\n    case UPDATE_BOOKING_INVOICE_ERROR:\n      return {\n        ...state,\n        loadingInvoice: false,\n      }\n    case REQUEST_DELETE_BOOKING_INVOICE:\n      return {\n        ...state,\n        loadingInvoice: true,\n      }\n    case DELETE_BOOKING_INVOICE_SUCCESS:\n      return {\n        ...state,\n        invoices: state.invoices.filter(item => item.id !== action.payload),\n        loadingInvoice: false,\n      }\n    case DELETE_BOOKING_INVOICE_ERROR:\n      return {\n        ...state,\n        loadingInvoice: false,\n      }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport default bookingsReducer;\n","function reorder(list, startIndex, endIndex) {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n  return result;\n}\n\nexport default reorder;\n","import reorder from \"../utils/reorder\";\n\nimport {\n  REQUEST_GET_VENUE,\n  GET_VENUE_SUCCESS,\n  GET_VENUE_ERROR,\n  REQUEST_ADD_VENUE,\n  GET_ADD_VENUE_SUCCESS,\n  GET_ADD_VENUE_ERROR,\n  REQUEST_DELETE_VENUE,\n  GET_DELETE_VENUE_SUCCESS,\n  GET_DELETE_VENUE_ERROR,\n  REQUEST_EDIT_VENUE,\n  GET_EDIT_VENUE_SUCCESS,\n  GET_EDIT_VENUE_ERROR,\n  REQUEST_GET_VENUE_SPACES,\n  GET_VENUE_SPACES_SUCCESS,\n  GET_VENUE_SPACES_ERROR,\n  REQUEST_ADD_VENUE_SPACE,\n  GET_ADD_VENUE_SPACE_SUCCESS,\n  GET_ADD_VENUE_SPACE_ERROR,\n  REQUEST_EDIT_VENUE_SPACE,\n  GET_EDIT_VENUE_SPACE_SUCCESS,\n  GET_EDIT_VENUE_SPACE_ERROR,\n  REQUEST_DELETE_VENUE_SPACE,\n  GET_DELETE_VENUE_SPACE_SUCCESS,\n  GET_DELETE_VENUE_SPACE_ERROR,\n  REQUEST_GET_BOOKINGSTATUS,\n  GET_BOOKING_STATUS_SUCCESS,\n  GET_BOOKING_STATUS_ERROR,\n  REQUEST_ADD_BOOKING_STATUS,\n  GET_ADD_BOOKING_STATUS_SUCCESS,\n  GET_ADD_BOOKING_STATUS_ERROR,\n  REQUEST_UPDATE_BOOKING_STATUS,\n  GET_UPDATE_BOOKING_STATUS_SUCCESS,\n  GET_UPDATE_BOOKING_STATUS_ERROR,\n  REQUEST_DELETE_BOOKING_STATUS,\n  GET_DELETE_BOOKING_STATUS_SUCCESS,\n  GET_DELETE_BOOKING_STATUS_ERROR,  \n  APPEND_CUSTOM_STATUS,\n  REMOVE_NEW_BOOKING_STATUS,\n  SET_BOOKING_STATUS_PAGE_STATUS,\n  REQUEST_GET_COMPANYINFO,\n  GET_COMPANYINFO_SUCCESS,\n  GET_COMPANYINFO_ERROR,\n  UPDATE_ALL_BOOKINGSTATUS_SUCCESS,\n} from \"./actionType\";\n\nfunction settingsReducer(state = {}, action) {\n  switch (action.type) {\n    case APPEND_CUSTOM_STATUS: {\n      const bookingStatuses = Array.from(state.bookingStatuses);\n      bookingStatuses.push({\n        id: -1,\n        name: \"\",\n        type: \"custom\",\n        active: true\n      });\n\n      return {\n        ...state,\n        bookingStatuses\n      };\n    }\n    case \"reorder_status\": {\n      const bookingStatuses = reorder(\n        state.bookingStatuses,\n        action.from,\n        action.to\n      );\n      return {\n        ...state,\n        bookingStatuses\n      };\n    }\n\n    case UPDATE_ALL_BOOKINGSTATUS_SUCCESS:{\n      return {\n        ...state,\n        bookingStatusActionLoading: false,\n        bookingStatuses: [ ...action.payload ],\n      }\n    }\n    // VENUES AND SPACES\n    case REQUEST_GET_VENUE: {\n      return {\n        ...state,\n        loading: true,\n      }\n    }\n    case GET_VENUE_SUCCESS: {\n      return {\n        ...state,\n        loading: false,\n        venues: [\n          ...action.payload\n        ]\n      }\n    }\n    case GET_VENUE_ERROR: {\n      return {\n        ...state,\n        loading: false,\n        venues: [],\n      }\n    }\n    case REQUEST_ADD_VENUE: {\n      return {\n        ...state,\n        venueActionLoading: true,\n      }\n    }\n    case GET_ADD_VENUE_SUCCESS: {\n      return {\n        ...state,\n        venueActionLoading: false,\n        venues: [\n          ...state.venues,\n          action.payload\n        ]\n      }\n    }\n    case GET_ADD_VENUE_ERROR: {\n      return {\n        ...state,\n        venueActionLoading: false,\n      }\n    }\n    case REQUEST_DELETE_VENUE: {\n      return {\n        ...state,\n        venueActionLoading: true,\n      }\n    }\n    case GET_DELETE_VENUE_SUCCESS: {\n      return {\n        ...state,\n        venueActionLoading: false,\n        venues: [...state.venues.filter(item => item.id !== action.payload)]\n      }\n    }\n    case GET_DELETE_VENUE_ERROR: {\n      return {\n        ...state,\n        venueActionLoading: false,\n      }\n    }\n    case REQUEST_EDIT_VENUE: {\n      return {\n        ...state,\n        venueActionLoading: true,\n      }\n    }\n    case GET_EDIT_VENUE_SUCCESS: {\n      return {\n        ...state,\n        venueActionLoading: false,\n        venues: [\n          ...state.venues.map(item => {\n            if (item.id === action.payload.id)\n              item.name = action.payload.name;\n            return item;\n          })\n        ]\n      }\n    }\n    case GET_EDIT_VENUE_ERROR: {\n      return {\n        ...state,\n        venueActionLoading: false,\n      }\n    }\n    case REQUEST_GET_VENUE_SPACES: {\n      return {\n        ...state,\n        spacesLoading: true,\n      }\n    }\n    case GET_VENUE_SPACES_SUCCESS: {\n      return {\n        ...state,\n        spacesLoading: false,\n        selectedVenueSpaces: [...action.payload]\n      }\n    }\n    case GET_VENUE_SPACES_ERROR: {\n      return {\n        ...state,\n        spacesLoading: false,\n        selectedVenueSpaces: [],\n      }\n    }\n    case REQUEST_ADD_VENUE_SPACE: {\n      return {\n        ...state,\n        spaceActionLoading: true,\n      }\n    }\n    case GET_ADD_VENUE_SPACE_SUCCESS: {\n      return {\n        ...state,\n        spaceActionLoading: false,\n        selectedVenueSpaces: [...state.selectedVenueSpaces, action.payload]\n      }\n    }\n    case GET_ADD_VENUE_SPACE_ERROR: {\n      return {\n        ...state,\n        spaceActionLoading: false,\n      }\n    }\n    case REQUEST_EDIT_VENUE_SPACE: {\n      return {\n        ...state,\n        spaceActionLoading: true,\n      }\n    }\n    case GET_EDIT_VENUE_SPACE_SUCCESS: {\n      return {\n        ...state,\n        spaceActionLoading: false,\n        selectedVenueSpaces: [\n          ...state.selectedVenueSpaces.map(item => {\n            if (item.id === action.payload.id)\n              item.name = action.payload.name;\n            return item;\n          })\n        ]\n      }\n    }\n    case GET_EDIT_VENUE_SPACE_ERROR: {\n      return {\n        ...state,\n        spaceActionLoading: false,\n      }\n    }\n    case REQUEST_DELETE_VENUE_SPACE: {\n      return {\n        ...state,\n        spaceActionLoading: true,\n      }\n    }\n    case GET_DELETE_VENUE_SPACE_SUCCESS: {\n      return {\n        ...state,\n        spaceActionLoading: false,\n        selectedVenueSpaces: state.selectedVenueSpaces.filter(item => item.id !== action.payload)\n      }\n    }\n    case GET_DELETE_VENUE_SPACE_ERROR: {\n      return {\n        ...state,\n        spaceActionLoading: false,\n      }\n    }\n    // BOOKING STATUS SECTION\n    case REQUEST_GET_BOOKINGSTATUS: {\n      return {\n        ...state,\n        bookingStatusesLoading: true,\n      }\n    }\n    case GET_BOOKING_STATUS_SUCCESS: {\n      return {\n        ...state,\n        bookingStatusesLoading: false,\n        bookingStatuses: [ ...action.payload ],\n      }\n    }\n    case GET_BOOKING_STATUS_ERROR: {\n      return {\n        ...state,\n        bookingStatusesLoading: false,\n        bookingStatuses: [],\n      }\n    }\n    case SET_BOOKING_STATUS_PAGE_STATUS: {\n      return {\n        ...state,\n        enableBookingSection: action.payload,\n      }\n    }\n    case REQUEST_ADD_BOOKING_STATUS: {\n      return {\n        ...state,\n        bookingStatusActionLoading: true,\n      }\n    }\n    case GET_ADD_BOOKING_STATUS_SUCCESS: {\n      return {\n        ...state,\n        bookingStatusActionLoading: false,\n        bookingStatuses:[\n          ...state.bookingStatuses.map(item => {\n            if (item.id === -1)\n              return action.payload;\n            else return item;\n          })\n        ]\n      }\n    }\n    case GET_ADD_BOOKING_STATUS_ERROR: {\n      return {\n        ...state,\n        bookingStatusActionLoading: false,\n      }\n    }\n    case REQUEST_UPDATE_BOOKING_STATUS: {\n      return {\n        ...state,\n        bookingStatusActionLoading: true,\n      }\n    }\n    case GET_UPDATE_BOOKING_STATUS_SUCCESS: {\n      return {\n        ...state,\n        bookingStatusActionLoading: false,\n        bookingStatuses:[\n          ...state.bookingStatuses.map(item => {\n            if (item.id === action.payload.id)\n              return action.payload;\n            else return item;\n          })\n        ]\n      }\n    }\n    case GET_UPDATE_BOOKING_STATUS_ERROR: {\n      return {\n        ...state,\n        bookingStatusActionLoading: false,\n      }\n    }\n    case REQUEST_DELETE_BOOKING_STATUS: {\n      return {\n        ...state,\n        bookingStatusActionLoading: true,\n      }\n    }\n    case GET_DELETE_BOOKING_STATUS_SUCCESS: {\n      return {\n        ...state,\n        bookingStatusActionLoading: false,\n        bookingStatuses: [...state.bookingStatuses.filter(item => item.id !== action.payload)]\n      }\n    }\n    case GET_DELETE_BOOKING_STATUS_ERROR: {\n      return {\n        ...state,\n        bookingStatusActionLoading: false,\n      }    \n    }\n    case REMOVE_NEW_BOOKING_STATUS: {\n      return {\n        ...state,\n        bookingStatuses: [ ...state.bookingStatuses.filter(item => item.id !== -1)],\n        enableBookingSection: true,\n      }\n    }\n    case REQUEST_GET_COMPANYINFO: {\n      return {\n        ...state,\n        companyLoading: true,\n      }\n    }\n    case GET_COMPANYINFO_SUCCESS: {\n      return {\n        ...state,\n        companyLoading: false,\n        companyInfo: { ...action.payload },\n      }\n    }\n    case GET_COMPANYINFO_ERROR: {\n      return {\n        ...state,\n        companyLoading: false,\n      }\n    }\n    default:\n      return state;\n  }\n}\n\nexport default settingsReducer;\n","import {\n  REQUEST_GET_CUSTOMERS,\n  GET_CUSTOMERS_SUCCESS,\n  GET_CUSTOMERS_ERROR,\n  REQUEST_ADD_CUSTOMER,\n  GET_ADD_CUSTOMER_SUCCESS,\n  GET_ADD_CUSTOMER_ERROR,\n  REQUEST_UPDATE_CUSTOMER,\n  GET_UPDATE_CUSTOMER_SUCCESS,\n  GET_UPDATE_CUSTOMER_ERROR,\n  REQUEST_DELETE_CUSTOMER,\n  GET_DELETE_CUSTOMER_SUCCESS,\n  GET_DELETE_CUSTOMER_ERROR,\n} from \"./actionType\";\n\nfunction customersReducer(state = {}, action) {\n  switch (action.type) {\n    case \"delete_customer\": {\n      const newState = Array.from(state);\n      const index = newState.findIndex(customer => customer.id === action.id);\n      if (index !== -1) {\n        newState.splice(index, 1);\n      }\n      return newState;\n    }\n    case \"append_customer\": {\n      const newState = Array.from(state);\n      newState.push(action.customer);\n      return newState;\n    }\n    \n    case REQUEST_GET_CUSTOMERS: \n      return {\n        ...state,\n        loadingCustomers: true,\n      }\n    case GET_CUSTOMERS_SUCCESS:\n      return {\n        ...state,\n        loadingCustomers: false,\n        customers: [ ...action.payload ]\n      }\n    case GET_CUSTOMERS_ERROR:\n      return {\n        ...state,\n        loadingCustomers: false,\n        customers: []\n      }\n    case REQUEST_ADD_CUSTOMER:\n      return {\n        ...state,\n        loadingCustomers: true,        \n      }\n    case GET_ADD_CUSTOMER_SUCCESS:\n      return {\n        ...state,\n        loadingCustomers: false,   \n        customers: [...state.customers, action.payload]     \n      }\n    case GET_ADD_CUSTOMER_ERROR:\n      return {\n        ...state,\n        loadingCustomers: false,\n      }\n    case REQUEST_UPDATE_CUSTOMER:\n      return {\n        ...state,\n        loadingCustomers: false,        \n      }\n    case GET_UPDATE_CUSTOMER_SUCCESS:    \n      const newCustomers = state.customers.map(item => {\n        if (item.id === action.payload.id)\n          return action.payload;\n        else return item;\n      });\n      return {\n        ...state,\n        loadingCustomers: false,\n        customers: [ ...newCustomers ],\n      }\n    case GET_UPDATE_CUSTOMER_ERROR:\n      return {\n        ...state,\n        loadingCustomers: false,        \n      }\n    case REQUEST_DELETE_CUSTOMER:\n      return {\n        ...state,\n        loadingCustomers: true,\n      }\n    case GET_DELETE_CUSTOMER_SUCCESS:\n      return {\n        ...state,\n        loadingCustomers: false,\n        customers: state.customers.filter(item => item.id !== action.payload)\n      }\n    case GET_DELETE_CUSTOMER_ERROR: \n      return {\n        ...state,\n        loadingCustomers: false,\n      }\n    default:\n      return state;\n  }\n}\n\nexport default customersReducer;\n","import axios from 'axios';\n\nconst setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common['Authorization'] = token;\n  } else {\n    delete axios.defaults.headers.common['Authorization'];\n  }\n};\n\nexport default setAuthToken;\n","import setAuthToken from \"../utils/setAuthToken\";\n\nimport {\n  REQUEST_SAVE_PAYMENT_INFORMATION,\n  SAVE_PAYMENT_INFORMATION_SUCCESS,\n  SAVE_PAYMENT_INFORMATION_ERROR,\n  STRIPE_CONNECTION_SUCCESS,\n} from \"./actionType\";\n\nfunction authReducer(state, action) {\n  switch(action.type) {\n    \n    case \"get_login_success\":\n      localStorage.setItem('token', action.payload.token);\n      setAuthToken(localStorage.token);\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: true,\n        user: {...action.payload.user},\n        token: action.payload.token,\n      };\n    case \"get_login_error\":\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: {...action.payload},\n      }\n    case \"user_load_success\":\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: true,\n        user: {\n          ...action.payload.user\n        },\n        token: localStorage.token,\n      }\n    case \"auth_error\":\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: { email: \"\", password: \"\"}\n      }\n    case \"set_logout\":\n      localStorage.removeItem('token');\n      setAuthToken(localStorage.token);\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        user: { email: \"\", password: \"\"}\n      }    \n    case REQUEST_SAVE_PAYMENT_INFORMATION:\n      return {\n        ...state,\n        loadingPayment: true,\n      }\n    case SAVE_PAYMENT_INFORMATION_SUCCESS:\n      return {\n        ...state,\n        loadingPayment: false,\n        user: {\n          ...state.user,\n          stripe_public_key: action.public_key,\n        }\n      }\n    case SAVE_PAYMENT_INFORMATION_ERROR:\n      return {\n        ...state,\n        loadingPayment: false,\n      }\n    case STRIPE_CONNECTION_SUCCESS: {\n      return  {\n        ...state,\n        user: {\n          ...state.user,\n          stripe_status: action.payload,\n        }\n      }\n    }\n    default:\n      return state;\n  }\n}\n\nexport default authReducer;","import {\n  REQUEST_GET_CUSTOM_BOOKING_COLOR, GET_CUSTOM_BOOKING_COLOR_SUCCESS, GET_CUSTOM_BOOKING_COLOR_ERROR,\n} from \"./actionType\";\n\nfunction customBookingColorReducer(state = {}, action) {  \n  switch (action.type) {    \n    case REQUEST_GET_CUSTOM_BOOKING_COLOR: \n      return {\n        ...state,\n        loading: true,\n      }\n    case GET_CUSTOM_BOOKING_COLOR_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        bookingColors: [ ...action.payload ],\n      }\n    case GET_CUSTOM_BOOKING_COLOR_ERROR:\n      return {\n        ...state,\n        loading: false,\n      }\n    default:\n      return state;\n  }\n}\n\nexport default customBookingColorReducer;\n","import {\n  REQUEST_GET_CALENDAR_CUSTOM_VIEW, GET_CALENDAR_CUSTOM_VIEW_SUCCESS, GET_CALENDAR_CUSTOM_VIEW_ERROR,\n  REQUEST_CREATE_CALENDAR_CUSTOM_VIEW, CREATE_CALENDAR_CUSTOM_VIEW_SUCCESS, CREATE_CALENDAR_CUSTOM_VIEW_ERROR,\n  REQUSET_UPDATE_CALENDAR_CUSTOM_VIEW, UPDATE_CALENDAR_CUSTOM_VIEW_SUCCESS, UPDATE_CALENDAR_CUSTOM_VIEW_ERROR,\n  REQUEST_GET_USERS_ALL_SPACES, GET_USERS_ALL_SPACES_SUCCESS, GET_USERS_ALL_SPACES_ERROR,\n  SET_CURRENT_CALENDAR_VIEW,\n} from './actionType'\n\nfunction calendarCustomViewReducer(state = {}, action) {  \n  switch (action.type) {    \n    case REQUEST_GET_CALENDAR_CUSTOM_VIEW: \n      return {\n        ...state,\n        loading: true,\n      }\n    case GET_CALENDAR_CUSTOM_VIEW_SUCCESS:\n      const newOne = {\n        id: action.payload.id ? action.payload.id : -1,\n        views: action.payload.views ? [ ...JSON.parse(action.payload.views) ] : [],\n      }\n      return {\n        ...state,\n        loading: false,\n        calendarViewData: { ...newOne }\n      }\n    case GET_CALENDAR_CUSTOM_VIEW_ERROR:\n      return {\n        ...state,\n        loading: false,\n      }\n    case REQUEST_CREATE_CALENDAR_CUSTOM_VIEW:\n      return {\n        ...state,\n        loading: true,\n      }\n    case CREATE_CALENDAR_CUSTOM_VIEW_SUCCESS:\n      return {\n        ...state,\n        loading: false,  \n        calendarViewData: { \n          id: action.payload.id,\n          views: JSON.parse(action.payload.views)\n         }\n      }\n    case CREATE_CALENDAR_CUSTOM_VIEW_ERROR:\n      return {\n        ...state,\n        loading: false,\n      }\n    case REQUSET_UPDATE_CALENDAR_CUSTOM_VIEW:\n      return {\n        ...state,\n        loading: true,        \n      }\n    case UPDATE_CALENDAR_CUSTOM_VIEW_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        calendarViewData: {\n          id: action.payload.id,\n          views: JSON.parse(action.payload.views)\n        }\n      }\n    case UPDATE_CALENDAR_CUSTOM_VIEW_ERROR:\n      return {\n        ...state,\n        loading: false,\n      }\n    case REQUEST_GET_USERS_ALL_SPACES:\n      return {\n        ...state,\n        loading: true,\n      }\n    case GET_USERS_ALL_SPACES_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        allSpaces: [ ...action.payload ],\n      }\n    case GET_USERS_ALL_SPACES_ERROR:\n      return {\n        ...state,\n        loading: false\n      }\n    case SET_CURRENT_CALENDAR_VIEW:\n      return {\n        ...state,\n        curView: action.payload,\n      }\n    default:\n      return state;\n  }\n}\n\nexport default calendarCustomViewReducer;","import {\n  GET_CALENDAR_SETTING_SUCCESS, GET_CALENDAR_SETTING_ERROR,\n  CREATE_CALENDAR_SETTING_SUCCESS, CREATE_CALENDAR_SETTING_ERROR,\n  UPDATE_CALENDAR_SETTING_SUCCESS,\n  SET_CALENDAR_SETTING_DATA,\n  REQUEST_SAVE_CALENDAR_SETTING, SAVE_CALENDAR_SETTING_ERROR,\n} from './actionType'\n\nfunction calendarSettingReducer(state = {}, action) {  \n  switch (action.type) {        \n    case REQUEST_SAVE_CALENDAR_SETTING:\n      return {\n        ...state,\n        loading: true,\n      }\n    case SAVE_CALENDAR_SETTING_ERROR:\n      return {\n        ...state,\n        loading: false,\n      }\n    case GET_CALENDAR_SETTING_SUCCESS:{\n      if (action.payload) \n        return {\n          ...state,\n          ...action.payload,\n        }\n      else return { ...state }\n    }    \n    case CREATE_CALENDAR_SETTING_SUCCESS:\n    case UPDATE_CALENDAR_SETTING_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n      }\n    case GET_CALENDAR_SETTING_ERROR:\n    case CREATE_CALENDAR_SETTING_ERROR:    \n      return {\n        ...state,\n      }            \n    case SET_CALENDAR_SETTING_DATA:\n      return {\n        ...state,\n        ...action.payload,\n      }\n    default:\n      return { ...state };\n  }\n}\n\nexport default calendarSettingReducer;","import {\n  SET_RECENT_BOOKINGS_PERIOD,\n  SET_UPCOMING_BOOKINGS_PERIOD,\n} from './actionType'\n\nfunction dashboardReducer(state = {}, action) {\n  switch (action.type) {\n    case SET_RECENT_BOOKINGS_PERIOD:\n      return {\n        ...state,\n        recentBookingsPeriod: action.payload,\n      }\n    case SET_UPCOMING_BOOKINGS_PERIOD:\n      return {\n        ...state,\n        upcomingBookingPeriod: action.payload,\n      }\n    default:\n      return state;\n  }\n}\n\nexport default dashboardReducer;\n","import React from \"react\";\nimport bookingsReducer            from \"../reducers/bookingsReducer\";\nimport settingsReducer            from \"../reducers/settingsReducer\";\nimport customersReducer           from \"../reducers/customersReducer\";\nimport authReducer                from \"../reducers/authReducer\";\nimport customBookingColorReducer  from \"../reducers/customBookingColorReducer\";\nimport calendarViewReducer        from \"../reducers/calendarCustomViewReducer\";\nimport calendarSettingReducer     from \"../reducers/calendarSettingReducer\";\nimport dashboardReducer           from  \"../reducers/dashboardReducer\";\n\nimport {\n  LAST_7_DAYS,\n  NEXT_7_DAYS,\n} from '../constants'\n\nconst AppReducerContext = React.createContext(null);\n\nconst initialState = {\n  bookings: {\n    bookings:[],\n    bookingStatus: [],\n    loadBooking: false,\n    loadBookingAction: false,\n    quotes: [],\n    loadingQuotes: false,\n    loadingInvoice: false,\n    invoices: [],\n    owners: [],\n  },\n  settings: {\n    companyLoading: false,\n    companyInfo: {\n      name: \"\",\n      vatId: \"\",\n      street: \"\",\n      city: \"\",\n      postCode: \"\",\n      phone: \"\",\n      currency: \"\",\n      vatRate: \"\",\n      logoImg: \"\",\n    },\n    bookingStatuses: [],\n    enableBookingSection: true,\n    bookingStatusLoading: false,\n    bookingStatusActionLoading: false,\n\n    venues: [],\n    loading: false,\n    selectedVenueSpaces: [],\n    venuesLoading: false,\n    venueActionLoading: false,\n    spacesLoading: false,\n    spaceActionLoading: false,\n\n    payment: {      \n      public_key: \"\",\n    },    \n  },\n\n  customers: {\n    customers: [],\n    loadingCustomers: false,\n  },\n\n  auth: {\n    isAuthenticated: false,\n    loading: true,\n    user: {\n      email: \"\",\n      password: \"\"\n    },\n    token: localStorage.getItem('token'),\n    loadingPayment: false,\n  },\n\n  customBookingColor: {\n    loading: true,\n    bookingColors: [],\n  },\n\n  calendarViews: {\n    loading: true,\n    calendarViewData: {},\n    allSpaces: [],\n    curView: 'spaces',\n  },\n\n  calendarSettings: {    \n    loading: false,\n    selectedDate: new Date(),\n    viewMode: 'week',\n    viewExpand: true\n  },\n\n  dashboard: {\n    recentBookingsPeriod: LAST_7_DAYS,\n    upcomingBookingPeriod: NEXT_7_DAYS\n  }\n};\n\nconst reducer = combineReducers({\n  settings: settingsReducer,\n  bookings: bookingsReducer,\n  customers: customersReducer,\n  auth: authReducer,\n  customBookingColor: customBookingColorReducer,\n  calendarViews: calendarViewReducer, \n  calendarSettings: calendarSettingReducer,\n  dashboard: dashboardReducer,\n});\n\nfunction combineReducers(reducers) {\n  return (state = {}, action) => {\n    return Object.keys(reducers).reduce((nextState, key) => {\n      nextState[key] = reducers[key](state[key], action);\n      return nextState;\n    }, {});\n  };\n}\n\n// state selectors\n\nfunction statusesNameAndColors(state) {\n  const statuses = state.settings.bookingStatuses.filter(\n    s => (s.enabled === undefined || s.enabled === true) && s.name.length > 0\n  );\n  const bookingStatesNames = statuses.map(s => s.name);\n  const bookingStatesColors = statuses.map(s => s.color || \"grey\");\n\n  return [bookingStatesNames, bookingStatesColors];\n}\n\nconst getStatuColor = (statusName) => {\n  if (statusName === \"Enquiry\") {\n    return \"#EECB2D\";\n  } else if (statusName === \"Proposal\") {\n    return \"#F68F56\";\n  } else if (statusName === \"Accepted\") {\n    return \"#E92579\";\n  } else if (statusName === \"Paid\") {\n    return  \"#52DDC2\";\n  } else {\n    return \"grey\";\n  }\n}\n\nexport { AppReducerContext, statusesNameAndColors, reducer, initialState, getStatuColor };\n","export const CUSTOMER_OPTION_CREATE_USER  = -10;\nexport const CUSTOMER_OPTION_CASUAL_USER  = -11;\nexport const CALENDAR_REDIRECT_VALUE      = 'returnUrl='\n\nexport const BOOKING_COLOR_CONDITION_KEYS = [\n  // {\n  //   condition_key: { value:'slot_type', label: 'Slot Type' },\n  //   condition_types: [\n  //     { value: 'equal', label:'Is Equal To' }\n  //   ],\n  //   condition_values: [\n  //     { value: 'single_day', label: 'Single Day' },\n  //     { value: 'multi_day', label: 'Multi Day'}\n  //   ]\n  // },\n  {\n    condition_key: {\n      value: 'payment_status', label: 'The Payment Status',\n    },\n    condition_types: [\n      { value: 'equal', label: 'Is Equal To' },\n      { value: 'not_equal', label: 'Is Not Equal' }\n    ],\n    condition_values: [\n      { value: 'enquiry', label: 'Enquiry' },\n      { value: 'proposal', label: 'Proposal' },\n      { value: 'accepted', label: 'Accepted' },\n      { value: 'paid', label: 'Paid' }\n    ]    \n  },  \n  {\n    condition_key: {\n      value: 'title', label: 'Title',\n    },\n    condition_types: [\n      {value: 'contains', label: 'Contains'},\n      {value: 'not_contains', label: 'Does Not Contains'}\n    ],    \n  },\n]\n\nexport const BOOKING_COLORS = [\n  '#6389ea', \n  '#4a9454', \n  '#F2D600', \n  '#FF9317', \n  '#EB5A46',\n  '#C377E0',\n  '#FF80CE',\n  '#00C2E0',\n  '#4E8EF0',\n  '#51E898',\n  '#4d4d4d',\n  '#a9a9a9',\n]\n\nexport const getSubDomain = () => {\n  const a = window.location.href\n  return a.substring(a.indexOf('://') + 3, a.indexOf('.'))  \n}\n\nexport const getReturnUrlSlots = () => {\n  const startDateStr = window.location.href.substring(\n    window.location.href.indexOf('start=') + 'start='.length,\n    window.location.href.indexOf('end=')\n  )\n  const endDateStr = window.location.href.substring(\n    window.location.href.indexOf('end=') + 'end='.length,\n    window.location.href.length\n  )\n  return ({start: new Date(parseInt(startDateStr)), end: new Date(parseInt(endDateStr))})\n}\n\nexport const DASHBOARD_RECENT_BOOKINGS_PANEL    = 'Dashboard Recent Bookings'\nexport const DASHBOARD_UPCOMING_BOOKING_PANEL   = 'Upcoming Bookings'\n\nexport const LAST_7_DAYS      = 'Last 7 days'\nexport const LAST_30_DAYS     = 'Last 30 days'\nexport const NEXT_7_DAYS      = 'Next 7 days'\nexport const NEXT_30_DAYS     = 'Next 30 days'","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { AppReducerContext } from \"../contexts/AppReducerContext\";\n\n\nconst PrivateRoute = ({\n  component: Component,\n  ...rest\n}) => {\n\n  const { state } = useContext(AppReducerContext);\n  const { isAuthenticated, loading } = state.auth;\n  return (\n    <Route\n    {...rest}\n    render={props =>\n      !isAuthenticated && !loading && rest.computedMatch.path !== 'calendar' ? (\n        <Redirect to='/login' />\n      ) : (\n        <Component {...props} />\n      )\n    }\n  />\n  )\n}  \n\nexport default PrivateRoute;\n","import React from \"react\";\nimport { css, cx } from \"emotion\";\n\nconst SvgButton = props => {\n  const { width, height, size, svg, onClick, style } = props;\n  const actualWidth = width || size;\n  const actualHeight = height || size;\n\n  return (\n    <div\n      onClick={onClick}\n      style={style}\n      {...props}\n      className={\n        cx( props.className, \n          css`\n            width: ${actualWidth}px;\n            height: ${actualHeight}px;\n            background: url(${svg});\n            background-size: 100% 100%;\n            cursor: pointer;\n\n            :active {\n              opacity: 0.5;\n            }\n          `\n        )\n      }\n    />\n  );\n};\n\nexport default SvgButton;\n","export default {\n  accent_green: \"#52DDC2\",\n  accent_yellow: \"#EECB2D\",\n  accent_pink: \"#E92579\",\n  status_pending: \"#F68F56\",\n  white: \"#FFFFFF\",\n  black: \"#000000\",\n  transparent: \"rgba(255,255,255,.6)\",\n  ultra_dark: \"#1B1D20\",\n  darker: \"#24272C\",\n  dark: \"#3F4548\",\n  grey: \"#93989F\",\n  light_grey: \"#C2C4C7\",\n  light: \"#E6E8E9\",\n  lighter: \"#F2F5F7\",\n  lightest: \"#F6F7F9\"\n};","import React from \"react\";\nimport ReactModal from \"react-modal\";\nimport SvgButton from \"../buttons/SvgButton\";\nimport close from \"../../images/ui/close.svg\";\nimport colors from \"../style/colors\";\n\nconst Modal = props => {\n  const { width = null, onClose, children } = props;\n\n  const style = {\n    overlay: {\n      backgroundColor: colors.ultra_dark + \"60\",\n      zIndex: 1000\n    },\n    content: {\n      left: 0,\n      right: 0,\n      padding: 0,\n      overflow: \"visible\",\n      top: \"3em\",\n      width: width || \"56em\",\n      maxWidth: \"90%\",\n      bottom: \"3em\",\n      margin: \"0 auto\",\n      border: \"none\",\n      background: \"transparent\"\n    }\n  };\n\n  return (\n    <ReactModal style={style} {...props}>\n      <SvgButton\n        svg={close}\n        width={22}\n        height={22}\n        style={{\n          position: \"absolute\",\n          right: -11,\n          top: -11,\n          zIndex: 999\n        }}\n        onClick={onClose}\n      />\n      {children}\n    </ReactModal>\n  );\n};\n\nexport default Modal;\n","import styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst H3 = styled.h3`\n  font-size: 1.3em;\n  text-align: ${props => (props.center ? \"center\" : \"left\")};\n  color: ${props => (props.color ? colors[props.color] : colors.dark)};\n  margin: 0.1em 0 0.6em;\n  font-weight: 500;\n  line-height: 1.55;\n  @media (max-width: 640px) {\n    font-size: 1.6em;\n  }\n`;\n\nexport default H3;\n","import styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst P1 = styled.p`\n  font-size: 1em;\n  text-align: ${props => (props.center ? \"center\" : \"left\")};\n  color: ${props => (props.color ? colors[props.color] : colors.grey)};\n  margin: 0.3em 0 0.8em;\n  font-weight: ${props => (props.strong ? 500 : 400)};\n  line-height: 1.8;\n  ${props =>\n    props.ellipses\n      ? `\n    overflow: hidden;\n    text-overflow: ellipsis;\n  `\n      : ``}\n  @media (max-width: 640px) {\n    font-size: 1.3em;\n  }\n  ${props =>\n    props.serif &&\n    `\n    font-family: Lora, \"Palatino Linotype\", \"Book Antiqua\", Palatino, Georgia,\n      serif;\n    color: ${colors.ultra_dark};\n    margin: 0.3em 0 0.8em;\n    font-weight: 400;\n    line-height: 1.8;\n    font-size: 1.2em;\n  `}\n`;\n\nexport default P1;\n","import React from \"react\";\nimport P1 from \"../typography/P1\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst TabBar = props => {\n  const { items, selectedItem, onOptionSelected, itemsSideMargin = 0 } = props;\n\n  const Container = styled.div`\n    border-bottom: 1px solid ${colors.light};\n    p {\n      display: inline-block;\n      margin: 0 1em 0 0;\n      cursor: pointer;\n      padding: 0 0 0.5em;\n      :first-child {\n        margin-left: ${itemsSideMargin}px;\n      }\n      :last-child {\n        margin-right: ${itemsSideMargin}px;\n      }\n    }\n    .selected {\n      color: ${colors.accent_pink};\n      font-weight: 500;\n      border-bottom: 2px solid ${colors.accent_pink};\n    }\n  `;\n\n  return (\n    <Container>\n      {items.map(item => {\n        return (\n          <P1\n            key={item}\n            className={selectedItem === item ? \"selected\" : \"\"}\n            onClick={() => onOptionSelected(item)}\n          >\n            {item}\n          </P1>\n        );\n      })}\n    </Container>\n  );\n};\n\nexport default TabBar;\n","import styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst P2 = styled.p`\n  font-size: 0.9em;\n  text-align: ${props => (props.center ? \"center\" : \"left\")};\n  color: ${props => (props.color ? colors[props.color] : colors.dark)};\n  margin: 0.1em 0 0.6em;\n  font-weight: ${props => (props.strong ? 500 : 400)};\n  line-height: 1.7;\n`;\n\nexport default P2;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport colors from \"../style/colors.js\";\nimport P2 from \"../typography/P2.js\";\n\nconst loadingAni = keyframes`\n  50% {\n    opacity: .35;\n  }\n`;\n\nconst ButtonWrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: ${props => (props.big ? \"1.2em\" : \"1em\")};\n  text-align: center;\n  border: 1px solid ${colors.light};\n  border-radius: 0.25em;\n  height: 34px;\n  padding: 0 0.7em;\n  width: ${props => (props.wide ? \"100%\" : \"auto\")};\n  flex: 0 0 auto;\n\n  background: #ffffff;\n  color: ${colors.grey};\n  box-shadow: 0px 1.5px 1px rgba(0, 0, 0, 0.05);\n\n  p {\n    margin: 0;\n    line-height: 1.5;\n  }\n\n  ${props =>\n    (props.selected || props.primary) && `border-color: ${colors.accent_pink};`}\n\n  ${props =>\n    props.softSelected &&\n    `\n    p {color: ${colors.darker}}\n  `}\n\n  ${props =>\n    props.primary &&\n    `\n    background: ${colors.accent_pink};\n    p {color: white;}\n    box-shadow: 0px 2px 2px rgba(202, 97, 142, 0.3);\n  `}\n\n  ${props =>\n    props.oulined &&\n    `\n    background: transparent;\n    border: 1px solid ${colors.light};\n    box-shadow: none;\n  `}\n\n\n  cursor: pointer;\n  outline: none;\n  user-select: none;\n\n  animation: ${props => props.loading && loadingAni} 1s 0.3s linear infinite;\n  animation-timing-function: ease-in-out;\n\n  &:active {\n    opacity: 0.8;\n  }\n\n  ${props =>\n    props.disabled &&\n    `\n    opacity: 0.7;\n    cursor: not-allowed;\n  `}\n`;\n\nconst Button = props => {\n  const { onClick, icon, iconComponent } = props;\n\n  return (\n    <>\n      <ButtonWrapper onClick={onClick} {...props} type={props.type}>\n        {iconComponent && iconComponent()} {icon && <img src={icon} alt=\"\" />}{\" \"}\n        <P2 color=\"grey\">{props.children}</P2>\n      </ButtonWrapper>\n    </>\n  );\n};\n\nexport default Button;\n","import styled from \"styled-components\";\n\nconst ColoredDot = styled.span`\n  width: 8px;\n  height: 8px;\n  border-radius: 4px;\n  display: inline-block;\n  background-color: ${props => props.color};\n`;\n\nexport default ColoredDot;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport colors from \"../style/colors.js\";\nimport P2 from \"../typography/P2.js\";\nimport arrowDown from \"../../images/ui/arrowDown.svg\";\nimport ColoredDot from \"./ColoredDot.js\";\n\nconst loadingAni = keyframes`\n  50% {\n    opacity: .35;\n  }\n`;\n\nconst Wrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: ${props => (props.big ? \"1.2em\" : \"1em\")};  \n  border: 1px solid ${props => (props.isValidate? colors.light : \"#E92579\")};\n  border-radius: 0.25em;\n  height: 34px;\n  padding: 0 0.7em;\n  width: ${props => (props.wide ? \"100%\" : \"auto\")};\n  background: #ffffff;\n  color: ${colors.grey};\n  box-shadow: 0px 1.5px 1px rgba(0, 0, 0, 0.05);  \n  p {\n    margin: 0;\n    line-height: 1.5;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n\n  ${props =>\n    props.selected &&\n    `\n    border-color: ${colors.accent_pink};\n  `}\n\n  ${props =>\n    props.primary &&\n    `\n    background: ${colors.accent_pink};\n    p {color: white;}\n    box-shadow: 0px 2px 2px rgba(202, 97, 142, 0.3);\n  `}\n\n  ${props =>\n    props.oulined &&\n    `\n    background: transparent;\n    border: 1px solid ${colors.light};\n    box-shadow: none;\n  `}\n\n\n  cursor: pointer;\n  outline: none;\n  user-select: none;\n\n  animation: ${props => props.loading && loadingAni} 1s 0.3s linear infinite;\n  animation-timing-function: ease-in-out;\n\n  &:active {\n    opacity: 0.8;\n  }\n\n  ${props =>\n    props.disabled &&\n    `\n    opacity: 0.7;\n    cursor: not-allowed;\n  `}\n`;\n\nconst Dropdown = styled.div`\n  position: relative;\n  display: inline-block;\n\n  input {\n    width: 80%;\n    font-size: 0.9em;\n    border: none;\n\n    :focus {\n      outline-style: none;\n      box-shadow: none;\n      border-color: transparent;\n    }\n  }\n`;\n\nconst DropdownContent = styled.div`\n  display: ${props => (props.show ? \"aboslute\" : \"none\")};\n  position: absolute;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  width: 100%;\n  max-height: 250px;\n  overflow-y: scroll;\n  z-index: 1;\n  background: #ffffff;\n  color: ${colors.grey};\n  box-shadow: 0px 1.5px 1px rgba(0, 0, 0, 0.05);\n  padding: 5px 10px;\n  border: 1px solid ${colors.light};\n  border-radius: 0.25em;\n\n  p {\n    cursor: pointer;\n    :hover {\n      opacity: 0.7;\n    }\n    :last-child {\n      margin-bottom: 0;\n    }\n  }\n`;\n\nconst PickerButton = props => {\n  const {\n    options = [],\n    colors = null, // array, same order as `options`\n    selectedOption,\n    displayTransformer = null, // function that transforms an option for display\n    onOptionSelected,\n    noSelectionText = \"None\",\n    searchEnabled = false,\n    offersToCreateIfNotFound = false,\n    optionsForSearch = [],\n  } = props;\n\n  const [opened, setOpened] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const handleDocumentClick = event => {\n      if (ref.current) {\n        if (!ReactDOM.findDOMNode(ref.current).contains(event.target)) {\n          if (opened) {\n            setOpened(false);\n          }\n        }\n      }\n    };\n\n    document.addEventListener(\"click\", handleDocumentClick, false);\n\n    return () => {\n      document.removeEventListener(\"click\", handleDocumentClick, false);\n    };\n  }, [ref, opened]);\n\n  const filteredOptions = (() => {\n    if (searchEnabled) {\n\n      return (\n        options &&\n        options.filter(\n          opt => {\n            const filteredOne = optionsForSearch.filter(item => item.value === opt);\n            if (filteredOne.length > 0) {\n              if (filteredOne[0].label.toString().toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1) {\n                return true;\n              } else return false;\n            } else return false;\n          }\n        )\n      );\n    } else {\n      return options;\n    }\n  })();\n\n  function selectFirstFilteredOption() {\n    if (filteredOptions.length >= 0) {\n      onOptionSelected(filteredOptions[0]);\n      setSearchQuery(\"\");\n      setOpened(false);\n    }\n  }\n\n  const transformedSelectedOption =\n    displayTransformer && selectedOption\n      ? displayTransformer(selectedOption)\n      : selectedOption;\n\n  const searchOptionComponent = () => (\n    <input\n      placeholder=\"Search\"\n      value={searchQuery}\n      onChange={e => setSearchQuery(e.target.value)}\n      onKeyPress={e => e.key === \"Enter\" && selectFirstFilteredOption()}\n      ref={ref => ref && ref.focus()}\n    />\n  );\n\n  const selectedOptionComponent = () => {\n    if (opened && searchEnabled) {\n      return searchOptionComponent();\n    }\n\n    if (!selectedOption) {\n      return <P2 color=\"grey\">{noSelectionText}</P2>;\n    }\n\n    if (colors) {\n      const optionIndex = options.indexOf(selectedOption);\n      const color = colors[optionIndex];\n\n      return (\n        <>\n          <ColoredDot color={color} />\n          <P2 style={{ marginLeft: 5 }}>{transformedSelectedOption}</P2>\n        </>\n      );\n    } else {\n      return <P2>{transformedSelectedOption}</P2>;\n    }\n  };\n\n  const makeOptionComponent = option => {\n    const optionIndex = options.indexOf(option);\n    const color = colors && colors[optionIndex];\n\n    return (\n      <React.Fragment key={option}>\n        <P2\n          color={option === selectedOption ? \"dark\" : \"grey\"}\n          style={{\n            marginRight: 10\n          }}\n          onClick={() => {\n            setOpened(!opened);\n            if (opened) {\n              setSearchQuery(\"\");\n            }\n\n            onOptionSelected(option);\n          }}\n        >\n          {color && <ColoredDot color={color} style={{ marginRight: 8 }} />}\n          {displayTransformer ? displayTransformer(option) : option}\n        </P2>\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <Dropdown ref={ref}>\n      <Wrapper\n        onClick={() => {\n          if (options && options.length) {\n            setOpened(!opened);\n            if (opened) {\n              setSearchQuery(\"\");\n            }\n          }\n        }}\n        style={props.style}\n        isValidate={props.isValidate}\n      >\n        {selectedOptionComponent()}\n        <img\n          src={arrowDown}\n          alt=\"Show options\"\n          style={{ transform: opened ? \"scaleY(-1)\" : \"\", marginLeft: 5 }}\n        />\n      </Wrapper>\n      <DropdownContent className=\"tablepicker-dropdown-menu\" show={opened}>\n        {(() => {\n          if (searchEnabled) {\n            if (filteredOptions) {\n              if (filteredOptions.length) {\n                return filteredOptions.map(makeOptionComponent);\n              } else if (offersToCreateIfNotFound) {\n                return (\n                  <span\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() => {\n                      onOptionSelected(searchQuery);\n                      setSearchQuery(\"\");\n                      setOpened(false);\n                    }}\n                  >\n                    Click to create <strong>\"{searchQuery}\"</strong>\n                  </span>\n                );\n              } else {\n                return \"None found\";\n              }\n            }\n          } else {\n            return options && options.map(makeOptionComponent);\n          }\n        })()}\n      </DropdownContent>\n    </Dropdown>\n  );\n};\n\nPickerButton.defaultProps = {\n  isValidate: true,\n}\n\nexport default PickerButton;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\n\nconst GridWrapper = styled.div`\n  display: grid;\n  min-height: ${props => (props.fullheight ? \"100%\" : \"auto\")};\n  grid-template-columns: ${props => props.columns || \"1fr\"};\n  grid-template-rows: ${props => props.rows};\n  grid-gap: ${props => props.gap || \"1.4em\"};\n  @media (max-width: ${props => props.break}) {\n    grid-template-columns: 1fr;\n  }\n  @media (max-width: ${props => props.split}) {\n    grid-template-columns: 1fr 1fr;\n  }\n  overflow: visible;\n  > * {\n    min-width: 0;\n  }\n  &:empty {\n    display: block;\n  }\n`;\n\nconst Grid = props => <GridWrapper {...props}>{props.children}</GridWrapper>;\n\nGrid.propTypes = {\n  fullheight: PropTypes.bool,\n  columns: PropTypes.string,\n  rows: PropTypes.string,\n  gap: PropTypes.string,\n  break: PropTypes.string,\n  split: PropTypes.string\n};\n\nexport default Grid;\n","import styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst H5 = styled.h5`\n  font-size: 0.82em;\n  font-weight: 500;\n  line-height: 1.55;\n  margin: 0.3em 0 0.6em;\n  text-align: ${props => (props.center ? \"center\" : \"left\")};\n  color: ${props => (props.color ? colors[props.color] : colors.dark)};\n`;\n\nexport default H5;\n","import styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst H4 = styled.h4`\n  font-size: 1.125em;\n  text-align: ${props => (props.center ? \"center\" : \"left\")};\n  color: ${props => (props.color ? colors[props.color] : colors.dark)};\n  margin: 0.3em 0 0.8em;\n  font-weight: 500;\n  line-height: 1.55;\n`;\n\nexport default H4;\n","import React from \"react\";\nimport \"../../css/validate.css\";\nimport colors from \"../style/colors\";\nimport { css, cx } from \"emotion\";\n\nconst InputField = props => {\n  return (\n    <input\n      {...props}\n      className={\n        cx(props.className,\n        css`\n        font-size: 0.95em;\n        display: inline-flex;\n        align-items: center;\n        justify-content: flex-start;\n        text-align: left;\n        border: 1px solid #e6e8e9;\n        border-radius: 0.25em;\n        color: ${colors.dark};\n        height: 34px;\n        padding: 0 0.6em;\n        flex: 0 0 auto;\n      `)}      \n    />\n  );\n};\n\nexport default InputField;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\n// Styled like an H5\n\nconst InputLabelWrapper = styled.label`\n  font-size: 0.82em;\n  font-weight: 500;\n  line-height: 1.55;\n  color: ${colors.grey};\n  margin-bottom: 0.3em;\n`;\n\nconst InputLabel = props => {\n  return <InputLabelWrapper {...props} />;\n};\n\nexport default InputLabel;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst StyledTextAreaWrapper = styled.textarea`\n  font-size: 0.95em;\n  display: inline-flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n  border: 1px solid #e6e8e9;\n  border-radius: 0.25em;\n  color: ${colors.dark};\n  min-height: 34px;\n  padding: 0.5em 0.6em;\n  flex: 0 0 auto;\n  resize: none;\n`;\n\nconst TextArea = props => {\n  return <StyledTextAreaWrapper {...props} />;\n};\n\nexport default TextArea;\n","import React from \"react\";\nimport H5 from \"../typography/H5\";\nimport P1 from \"../typography/P1\";\nimport styled from \"styled-components\";\nimport H4 from \"../typography/H4\";\nimport colors from \"../style/colors\";\nimport Grid from \"../layout/Grid\";\nimport InputField from \"../buttons/InputField\";\nimport InputLabel from \"../buttons/InputLabel\";\nimport PickerButton from \"../buttons/PickerButton\";\nimport TextArea from \"../buttons/TextArea\";\n\nconst TableLabel = props => {\n  const { color = \"grey\", tall, right } = props;\n  return (\n    <H5\n      style={{\n        margin: 0,\n        lineHeight: tall && \"2.6\",\n        textAlign: right && \"right\"\n      }}\n      color={color}\n      {...props}\n    />\n  );\n};\n\nconst TableValue = props => {\n  const { color = \"dark\", centered = false } = props;\n  return (\n    <P1\n      style={{\n        margin: 0,\n        textAlign: centered ? \"center\" : \"left\"\n      }}\n      color={color}\n      {...props}\n      ellipses\n    />\n  );\n};\n\nconst TableEditableValue = props => {\n  const {\n    style,\n    label,\n    placeholder,\n    value,\n    defaultValue,\n    longText,\n    type = \"text\",\n    onChange,\n    autoFocus,\n    tabIndex,\n    longTextHeight = '120px'\n  } = props;\n\n  let mergedStyle = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    ...style\n  };\n\n  return (\n    <div style={mergedStyle}>\n      {label && <InputLabel htmlFor={label}>{label}</InputLabel>}\n      {longText ? (\n        <TextArea\n          id={label}\n          value={value}\n          placeholder={placeholder}\n          defaultValue={defaultValue}\n          onChange={event => onChange && onChange(event.target.value)}\n          tabIndex={tabIndex}\n          rows={6}\n          style={{maxHeight: longTextHeight}}\n        />\n      ) : (\n        <InputField\n          id={label}\n          type={type}\n          value={value}\n          placeholder={placeholder}\n          defaultValue={defaultValue}\n          tabIndex={tabIndex}\n          onChange={event => onChange && onChange(event.target.value)}\n          autoFocus={autoFocus}\n          className={props.className}\n        />\n      )}\n    </div>\n  );\n};\n\nconst TablePicker = props => {\n  const { label, style } = props;\n\n  let mergedStyle = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    ...style\n  };\n\n  return (\n    <div style={mergedStyle}>\n      {label && <InputLabel htmlFor={label}>{label}</InputLabel>}\n      <PickerButton {...props} />\n    </div>\n  );\n};\n\nconst TableItem = props => {\n  const { label, value, labelColor = \"grey\", valueColor = \"dark\" } = props;\n\n  const Container = styled.div``;\n\n  return (\n    <Container style={props.style}>\n      <TableLabel color={labelColor}>{label}</TableLabel>\n      <TableValue color={valueColor}>{value}</TableValue>\n    </Container>\n  );\n};\n\nconst TableSectionHeader = props => {\n  const { title, style } = props;\n\n  const Container = styled.div`\n    border-bottom: 1px solid ${colors.light};\n    margin: 1.6em 0 0.5em;\n    width: 100%;\n  `;\n\n  return (\n    <Container style={style}>\n      <H4 style={{ marginBottom: 3 }}>{title}</H4>\n    </Container>\n  );\n};\n\nconst TableDivider = props => {\n  const Container = styled.div`\n    border-bottom: 1px solid ${colors.light};\n    padding-top: 1.4em;\n    margin-bottom: 1.4em;\n    width: 100%;\n  `;\n\n  return <Container />;\n};\n\nconst Table = props => {\n  const { rows, columns, columnTitles = [], style, children } = props;\n  return (\n    <Grid\n      rows={rows}\n      columns={columns}\n      gap=\"0.8em\"\n      style={{ minWidth: \"100%\", ...style }}\n    >\n      {columnTitles.map((t, index) => (\n        <TableLabel style={{ margin: 0 }} key={index}>\n          {t}\n        </TableLabel>\n      ))}\n      {children}\n    </Grid>\n  );\n};\n\nexport {\n  TableItem,\n  TableSectionHeader,\n  Table,\n  TableValue,\n  TableEditableValue,\n  TablePicker,\n  TableLabel,\n  TableDivider\n};\n","import React from \"react\";\n\nconst AddGlyph = props => {\n  const { side = 24, fill = \"#E92579\" } = props;\n  return (\n    <svg\n      width={side.toString()}\n      height={side.toString()}\n      viewBox={`0 0 ${side} ${side}`}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M12 6L12 18\"\n        stroke={fill}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M6 12L18 12\"\n        stroke={fill}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n};\n\nexport default AddGlyph;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport colors from \"../style/colors.js\";\nimport P2 from \"../typography/P2.js\";\n\nconst loadingAni = keyframes`\n  50% {\n    opacity: .35;\n  }\n`;\n\nconst OutlinedButtonWrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: ${props => (props.big ? \"1.2em\" : \"1em\")};\n  text-align: center;\n  border: 1px solid ${colors.light};\n  border-radius: 0.25em;\n  height: 34px;\n  padding: 0 0.7em;\n  width: ${props => (props.wide ? \"100%\" : \"auto\")};\n  flex: 0 0 auto;\n\n  background: transparent;\n\n  img {\n    display: inline;\n    /* border: 1px solid red; */\n    margin: 0;\n  }\n\n  p {\n    margin: 0;\n    line-height: 1.3;\n    margin-left: 5px;\n  }\n\n  ${props => props.primary && `border-color: ${colors.accent_pink};`}\n\n  cursor: pointer;\n  outline: none;\n  user-select: none;\n\n  animation: ${props => props.loading && loadingAni} 1s 0.3s linear infinite;\n  animation-timing-function: ease-in-out;\n\n  &:active {\n    opacity: 0.8;\n  }\n\n  ${props =>\n    props.disabled &&\n    `\n    opacity: 0.7;\n    cursor: not-allowed;\n  `}\n`;\n\nconst OutlinedButton = props => {\n  const { onClick, icon, iconComponent } = props;\n\n  return (\n    <>\n      <OutlinedButtonWrapper onClick={onClick} {...props}>\n        {iconComponent && iconComponent()}\n        {icon && <img src={icon} alt=\"\" />}\n        <P2 color={props.primary ? \"accent_pink\" : \"grey\"}>{props.children}</P2>\n      </OutlinedButtonWrapper>\n    </>\n  );\n};\n\nexport default OutlinedButton;\n","import styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst ModalContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: ${colors.lightest};\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n  border-radius: 0.5em;\n  box-shadow: 0px 13px 32px rgba(0, 0, 0, 0.22);\n`;\n\nconst ModalTopSection = styled.div`\n  background-color: white;\n  position: sticky;\n  top: 0;\n  border-radius: 0.25em 0.25em 0 0;\n  z-index: 1;\n  border-bottom: 1px solid ${colors.light};\n`;\n\nconst ModalTitleAndButtons = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0 20px 15px;\n  padding-top: 20px;\n`;\n\nconst ModalBottomSection = styled.div`\n  width: 100%;\n  flex: 1 1 auto;\n  padding: 20px 20px 15px;\n  overflow: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  > * {\n  }\n`;\n\nexport {\n  ModalContainer,\n  ModalTopSection,\n  ModalTitleAndButtons,\n  ModalBottomSection\n};\n","import styled from \"styled-components\";\n\nconst Spacer = styled.div`\n  flex: 1 0 1.5em;\n`;\n\nexport default Spacer;\n","import React from 'react';\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  display: ${props => (props.loading === \"true\" ? \"flex\" : \"none\" )};\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  flex-direction: row;\n  justify-content: center;\n  pointer-events: none;\n  z-index: 999;\n\n  .lds-ring {\n    display: inline-block;\n    position: relative;\n    width: 64px;\n    height: 64px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n  .lds-ring div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 51px;\n    height: 51px;\n    margin: 6px;\n    border: 6px solid #E92579;\n    border-radius: 50%;\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: #E92579 transparent transparent transparent;\n  }\n  .lds-ring div:nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  .lds-ring div:nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  .lds-ring div:nth-child(3) {\n    animation-delay: -0.15s;\n  }\n  @keyframes lds-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n`;\n\nconst SpinnerContainer = props => {\n  return (\n    <Container loading={props.loading}>\n      <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n    </Container>\n  )\n}\n\nexport default SpinnerContainer;","import React from \"react\";\nimport { css } from \"emotion\";\nimport Grid from \"../../../layout/Grid\";\nimport { TableEditableValue } from \"../../../tables/tables\";\n\nconst CustomerSection = props => {\n\t\n    const { customerData, dispatch } = props;\n  \n    const handleChangeName = (value) => {      \n\t  dispatch({\n\t\t  type: 'select_customer_data',\n\t\t  key: 'name',\n\t\t  value: {value, validate: value.length !== 0}\n\t  })\n    }\n  \n    return (\n      <React.Fragment>        \n\t\t<TableEditableValue\n\t\t\tlabel=\"Name\"\n\t\t\tvalue={customerData.name.value}\n\t\t\tonChange={value =>\n\t\t\t\thandleChangeName(value)\n\t\t\t}\n\t\t\tstyle={{ width: \"100%\", marginTop: \"1.4rem\" }}\n\t\t\tclassName={(!customerData.name.validate? \"error\" : \"\")}\n\t\t/>\n\t\t{\n\t\t\t!customerData.name.validate && \n\t\t\t<p \n\t\t\t\tclassName={\n\t\t\t\tcss`\n\t\t\t\t\tcolor: #E92579;            \n\t\t\t\t\tmargin: 0.2em 0 0 0;\n\t\t\t\t\tpadding: 0 0.6em;\n\t\t\t\t\tfont-size: 0.8em;\n\t\t\t\t`\n\t\t\t\t}\n\t\t\t>\n\t\t\t\tCompany Name is required.\n\t\t\t</p>\n\t\t}        \n  \n        <Grid columns=\"1fr 1fr\" style={{ width: \"100%\", marginTop: \"1.4rem\" }}>\n          <TableEditableValue\n            label=\"Phone Number\"\n            value={customerData.phone.value}\n\t\t\tonChange={value =>\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'select_customer_data',\n\t\t\t\t\tkey: 'phone',\n\t\t\t\t\tvalue: {value}\n\t\t\t\t})              \n            }\n          />\n  \n          <TableEditableValue\n            label=\"Email\"\n            value={customerData.email.value}\n\t\t\tonChange={value =>\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'select_customer_data',\n\t\t\t\t\tkey: 'email',\n\t\t\t\t\tvalue: {value}\n\t\t\t\t})              \n            }\n          />\n  \n          {/* <TableEditableValue\n            label=\"Address\"\n            value={customerData.address.value}\n            onChange={value =>\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'select_customer_data',\n\t\t\t\t\tkey: 'address',\n\t\t\t\t\tvalue: {value}\n\t\t\t\t})\n            }\n          />\n  \n          <TableEditableValue\n            label=\"VAT Number\"\n            value={customerData.vatNumber.value}\n            onChange={value =>\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'select_customer_data',\n\t\t\t\t\tkey: 'vatNumber',\n\t\t\t\t\tvalue: {value}\n\t\t\t\t})\n            }\n          /> */}\n        </Grid>\n  \n        {/* <TableEditableValue\n          label=\"Private Notes\"\n          value={customerData.note.value}\n          longText\n          style={{\n            width: \"100%\",\n            marginTop: \"1.4rem\",\n          }}\n          longTextHeight = \"60px\"\n\t\t  onChange={value =>\n\t\t\tdispatch({\n\t\t\t\ttype: 'select_customer_data',\n\t\t\t\tkey: 'note',\n\t\t\t\tvalue: {value}\n\t\t\t})\t\t\t\n          }\n        /> */}\n      </React.Fragment>\n    )\n  }\n  \n  export default CustomerSection;","function currencySymbol(name) {\n  const currencySymbols = {\n    CAD: \"C$\", // US Dollar\n    USD: \"$\", // US Dollar\n    EUR: \"\", // Euro\n    CRC: \"\", // Costa Rican Coln\n    GBP: \"\", // British Pound Sterling\n    ILS: \"\", // Israeli New Sheqel\n    INR: \"\", // Indian Rupee\n    JPY: \"\", // Japanese Yen\n    KRW: \"\", // South Korean Won\n    NGN: \"\", // Nigerian Naira\n    PHP: \"\", // Philippine Peso\n    PLN: \"z\", // Polish Zloty\n    PYG: \"\", // Paraguayan Guarani\n    THB: \"\", // Thai Baht\n    UAH: \"\", // Ukrainian Hryvnia\n    VND: \"\" // Vietnamese Dong\n  };\n  return currencySymbols[name] || name;\n}\n\nfunction formatCurrency(num, currency) {\n  const formattedNumber = num.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\"); // 12,345.67\n  return `${currencySymbol(currency)}${formattedNumber}`;\n}\n\nfunction formatPercentage(num, digits = 0) {\n  return Number(num).toLocaleString(undefined, {\n    style: \"percent\",\n    minimumFractionDigits: digits\n  });\n}\n\nexport { formatCurrency, formatPercentage };\n","import React from \"react\"\nimport styled from \"styled-components\";\nimport { css } from \"emotion\";\nimport axios from \"axios\";\nimport { CardElement, injectStripe, Elements } from \"react-stripe-elements\";\n\nimport { formatCurrency } from '../../../../utils/numbers'\n\nconst CardPaymentForm = styled.form`\n  background-color: #fff;\n  width: 100%;\n  transition-property: opacity, transform;\n  transition-duration: 0.35s;\n  transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);\n\n  &.success {\n    opacity: 0;\n    transform: scale(0.9);\n    pointer-events: none;\n  }\n\n  .StripeElement {\n    width: 100%;\n    padding: 11px 15px;\n    background-color: #7a98f5;\n    border-radius: 0.2em;  \n  }\n\n  .info-div {\n    padding: 0;\n    border-style: none;\n    background-color: #7795f8;\n    box-shadow: 0 6px 9px rgba(50, 50, 93, 0.06), 0 2px 5px rgba(0, 0, 0, 0.08), inset 0 1px 0 #829fff;\n    border-radius: 0.2em;\n    margin-bottom: 1.25em;    \n  }\n\n  .submit-button {\n    width: 100%;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1em;\n    text-align: center;\n    border: 1px solid #E6E8E9;\n    border-radius: 0.25em;\n    height: 34px;\n    padding: 0 0.7em;\n    flex: 0 0 auto;\n    background: #ffffff;\n    color: #93989F;\n    box-shadow: 0px 1.5px 1px rgba(0,0,0,0.05);\n    border-color: #E92579;\n    background: #E92579;\n    box-shadow: 0px 2px 2px rgba(202,97,142,0.3);\n    cursor: pointer;\n    outline: none;\n    user-select: none;\n    animation: 1s 0.3s linear infinite;\n    animation-timing-function: ease-in-out;\n    color: white;\n    font-size: 0.9em;\n    font-weight: 400;\n    margin-top: 2.5em;\n    &:active {\n      opacity: 0.8;\n    }\n  }\n`\n\nconst InputRow = styled.div`\n  display: flex;\n  align-items: center;\n  margin-left: 15px;\n  border-top-color:rgb(129, 158, 252);\n  border-top-style:solid;\n  border-top-width:1px;\n  &:first-child {\n    border: none;\n  }\n\n  label {\n    font-size: 0.95em;\n    color: #95adf7;\n    min-width: 60px;\n    padding: 11px 0;    \n  }\n\n  input {\n    font-size: 0.95em;\n    background: transparent;\n    border: none;\n    outline: none;\n    color: white;\n    padding: 11px 0;    \n    width: 100%;\n    border: none !important;\n    &::placeholder {\n      color: #88bafa;\n    }\n\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n      border: inherit;\n      -webkit-text-fill-color: white;      \n      transition: background-color 5000s ease-in-out 0s;\n      font-size: 0.95em;\n    }\n\n  }\n` \n\nconst ErrMsgDiv = styled.div`\n  display: flex;    \n  justify-content: center;\n  width: 100%;\n  top: 100%;\n  margin-top: 20px;\n  left: 0;\n  padding: 0 15px;\n  font-size: 13px !important;\n  opacity: 0;\n  transform: translateY(10px);\n  transition-property: opacity, transform;\n  transition-duration: 0.35s;\n  transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);\n\n  &.visible {\n    opacity: 1;\n    transform: none;\n  }\n\n  svg {\n    margin-right: 10px;\n    .base {\n      fill: #7a98f5;\n    }\n    .glyph {\n      fill: white;\n    }\n  } \n\n  .message {\n    color: #7a98f5;\n  }\n`\n\nconst SuccessDiv = styled.div`\n\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);    \n  text-align: center;\n  opacity: ${props => (props.isSuccess ? 1 : 0)};\n  \n  .icon {\n    .border {\n      stroke: #87bbfd;\n      stroke-dasharray: 0;\n    }\n    .checkmark {\n      stroke: #87bbfd;\n      stroke-dasharray: 60;\n      stroke-dashoffset: ${props => (props.isSuccess ? \"0 !important\" : \"60\")};\n      transition: stroke-dashoffset 0.35s cubic-bezier(0.165, 0.84, 0.44, 1) 0.35s;\n    }\n  }\n\n  .title {\n    color: #87bbfd;\n  }\n\n  .message {\n    color: #87bbfd;\n  }\n\n  .reset {\n    path {\n      fill: #fff;\n    }\n  }\n  \n  &.submitting {\n    .icon {\n      .border {\n        stroke-dasharray: 251;\n        stroke-dashoffset: 62.75;\n        transform-origin: 50% 50%;\n        transition: stroke-dashoffset 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);\n        animation: spin 1s linear infinite;\n      }\n    }\n  }\n`\n\nconst createOptions = (fontSize, padding) => {\n  return {\n    style: {\n      base: {\n        fontSize,\n        color: '#424770',\n        letterSpacing: '0.025em',\n        fontFamily: 'Source Code Pro, monospace',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n        padding,\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n  };\n};\n\nclass _CardForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isValidate: true,\n      errMsg: \"\",\n      success: false,\n    }\n  }\n\n  changeCardElement = () => {\n    this.setState({\n      isValidate: true,\n      errMsg: \"\",\n    })\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault();\n\n    axios.post(\n      '/bookings/createPaymentIntent',\n      {\n        payment_method_types: [\"card\"],\n        amount: this.props.chargeData.amount * 100,\n        currency: this.props.chargeData.currency,\n        metadata: {\n          name: ev.target[0].value,\n          email: ev.target[1].value,\n          tel: ev.target[2].value,\n        }\n      }\n    )\n      .then(res => {\n        this.props.stripe.\n          handleCardPayment(res.data.client_secret)\n          .then(payload => {    \n            debugger;        \n            if (payload.error) {\n              this.setState({\n                isValidate: false,\n                processing: false,\n                errMsg: payload.error.message\n              })\n            } else {\n              this.setState({\n                isValidate: true,\n                processing: false,\n                errMsg: \"\",\n                success: true,\n              })\n            }\n          }\n        )  \n      }\n    )\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <CardPaymentForm \n          onSubmit={this.handleSubmit} \n          isSuccss={this.state.success}\n          className={this.state.success ? \"success\" : \"\"}\n        >        \n          <div className=\"info-div\">\n            <InputRow>\n              <label>Name</label>\n              <input type=\"text\" placeholder=\"Jane Doe\" required={true} autocomplete=\"name\" name=\"name\" />\n            </InputRow>\n            <InputRow>\n              <label>Email</label>\n              <input type=\"email\" placeholder=\"janedoe@gmail.com\" required={true} autocomplete=\"email\" name=\"email\" />\n            </InputRow>\n            <InputRow>\n              <label>Phone</label>\n              <input type=\"tel\" placeholder=\"(941) 555-0123\" required={true} autocomplete=\"tel\" name=\"tel\" />\n            </InputRow>\n          </div>\n\n          <CardElement\n            hidePostalCode={true} \n            iconStyle={'solid'}\n            onChange={this.changeCardElement}\n            style={{              \n              base: {\n                iconColor: '#c4f0ff',\n                color: '#fff',\n                fontWeight: 500,\n                fontFamily: 'Roboto, Open Sans, Segoe UI, sans-serif',\n                fontSize: '16px',\n                fontSmoothing: 'antialiased',\n        \n                ':-webkit-autofill': {\n                  color: '#fce883',\n                },\n                '::placeholder': {\n                  color: '#87BBFD',\n                },\n              },\n              invalid: {\n                iconColor: '#FFC7EE',\n                color: '#FFC7EE',\n              },              \n            }}\n          />\n          <button className=\"submit-button\">        \n            {\"Pay \" + formatCurrency(this.props.chargeData.amount, this.props.chargeData.currency)}\n          </button>\n\n          <ErrMsgDiv className={!this.state.isValidate ? \"visible\" : \"\"}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"17\" viewBox=\"0 0 17 17\">\n              <path className=\"base\" fill=\"#000\" d=\"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z\"></path>\n              <path className=\"glyph\" fill=\"#FFF\" d=\"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z\"></path>\n            </svg>\n            <span className=\"message\">{this.state.errMsg}</span>\n          </ErrMsgDiv>\n\n        </CardPaymentForm>\n\n        <SuccessDiv isSuccess={this.state.success}>\n          <div className=\"icon\">\n            <svg \n              width=\"84px\" height=\"84px\" \n              viewBox=\"0 0 84 84\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle \n                className=\"border\" cx=\"42\" cy=\"42\" r=\"40\" \n                strokeLinecap=\"round\" strokeWidth=\"4\" stroke=\"#000\" fill=\"none\"></circle>\n              <path \n                className=\"checkmark\" \n                strokeLinecap=\"round\" strokeLinejoin=\"round\" \n                d=\"M23.375 42.5488281 36.8840688 56.0578969 64.891932 28.0500338\" \n                strokeWidth=\"4\" stroke=\"#000\" fill=\"none\">                  \n              </path>\n            </svg>\n          </div>\n          <h3 \n            className=\"title\">\n            Payment successful\n          </h3>              \n        </SuccessDiv>\n      </React.Fragment>\n    );\n  }\n}\nconst CardForm = injectStripe(_CardForm);\n\nconst CheckoutDiv = styled.div`\n  background-color: #fff;\n  width: 75%;\n  margin: 0.5em auto;\n  padding: 4em 2em 2em;\n  position: relative;\n`;\n\nclass Checkout extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      elementFontSize: window.innerWidth < 450 ? '14px' : '18px',\n    };\n    window.addEventListener('resize', () => {\n      if (window.innerWidth < 450 && this.state.elementFontSize !== '14px') {\n        this.setState({elementFontSize: '14px'});\n      } else if (\n        window.innerWidth >= 450 &&\n        this.state.elementFontSize !== '18px'\n      ) {\n        this.setState({elementFontSize: '18px'});\n      }\n    });\n  }\n\n  render() {\n    const { chargeData } = this.props;\n    return (\n      <CheckoutDiv>\n        <Elements>\n          <CardForm chargeData={chargeData} />\n        </Elements>\n      </CheckoutDiv>\n    );\n  }\n}\n\nexport default Checkout;","import React, { useReducer, useEffect, useContext } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHome, faUser, faUserPlus } from '@fortawesome/free-solid-svg-icons'\nimport axios from 'axios';\nimport styled from \"styled-components\";\nimport { css } from \"emotion\";\nimport H3 from \"../../typography/H3\";\nimport colors from \"../../style/colors\";\nimport Button from \"../../buttons/Button\";\nimport Grid from \"../../layout/Grid\";\nimport {\n  TableSectionHeader,\n  Table,\n  TableEditableValue,\n  TablePicker\n} from \"../../tables/tables\";\nimport AddGlyph from \"../../../images/Glyphs/AddGlyph\";\nimport RemoveSvg from \"../../../images/ui/remove.svg\";\nimport OutlinedButton from \"../../buttons/OutlinedButton\";\nimport SvgButton from \"../../buttons/SvgButton\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"../../../css/date-picker.css\";\nimport { updatedDate, addDays } from \"../../../utils/dates\";\nimport {\n  ModalContainer,\n  ModalTitleAndButtons,\n  ModalBottomSection,\n  ModalTopSection\n} from \"../../modals/containers\";\nimport Spacer from \"../../layout/Spacer\";\nimport { AppReducerContext } from \"../../../contexts/AppReducerContext\";\nimport SpinnerContainer from \"../../layout/Spinner\";\nimport CustomerSection from \"./sections/customer\";\nimport CardPaymentForm from './CardPaymentForm/CardPaymentForm';\n\nimport \"../../../css/common.css\";\n\nimport {\n  REQUSET_GET_BOOKING_CUSTOMER,\n  GET_BOOKING_CUSTOMER_SUCCESS,\n  GET_BOOKING_CUSTOMER_ERROR,\n  REQUSET_GET_BOOKING_VENUES,\n  GET_BOOKING_VENUES_SUCCESS,\n  GET_BOOKING_VENUES_ERROR,\n  REQUEST_GET_BOOKING_SPACES,\n  GET_BOOKING_SPACES_SUCCESS,\n  GET_BOOKING_SPACES_ERROR,\n  UPDATE_ADD_BOOKINGFORM_VALIDATE,  \n} from \"../../../reducers/actionType\";\n\nimport {\n  CUSTOMER_OPTION_CREATE_USER,\n  CUSTOMER_OPTION_CASUAL_USER,\n} from '../../../constants';\n\nconst SvgButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst BookingForm = props => {\n  const { booking, dispatch } = props;\n  const { state } = useContext(AppReducerContext);\n  const bookingCustomers = [\n    {value: CUSTOMER_OPTION_CREATE_USER, label: 'Create a new user'},\n    // {value: CUSTOMER_OPTION_CASUAL_USER, label: 'Casual User'},\n    ...booking.customers.map(customer => {\n        return {value: customer.id, label: customer.name}\n    })\n  ]\n\n  if (booking.ownerId === null ) \n    dispatch({\n      type: \"select_owner\",\n      value: state.auth.user.id\n    })\n  \n  useEffect(() => {\n    if(booking.venueId === null)\n      return;\n    const getSpaces = async () => {\n      try {\n        dispatch({ type: REQUEST_GET_BOOKING_SPACES });\n\n        const res = await axios.get(`/spaces/venue/${booking.venueId}`);\n\n        dispatch({\n          type: GET_BOOKING_SPACES_SUCCESS,\n          payload: res.data.spaces\n        })\n\n      } catch (err) {\n        dispatch({ type: GET_BOOKING_SPACES_ERROR });\n      }\n    }\n    getSpaces();\n  }, [booking.venueId])\n\n  return (\n    <>\n      <TableEditableValue\n        label=\"Event Name\"\n        value={booking.eventName}\n        onChange={title => dispatch({ type: \"set_title\", value: title })}\n        style={{ width: \"100%\" }}\n        className={(!booking.validateForm.eventName? \"error\" : \"\")}\n      />\n      {\n        !booking.validateForm.eventName &&\n        <p\n          className={\n            css`\n              color: #E92579;\n              margin: 0.2em 0 0 0;\n              padding: 0 0.6em;\n              font-size: 0.8em;\n            `\n          }\n        >\n          Booking Event Name is required.\n        </p>\n      }\n      <Grid columns=\"1fr 1fr\" style={{ width: \"100%\", marginTop: \"1.4rem\" }}>\n        <div>\n          <TablePicker\n            label=\"Venue\"\n            selectedOption={booking.venueId}\n            options={booking.venues.map(venue => venue.id)}\n            searchEnabled\n            optionsForSearch={\n              booking.venues.map(item => {\n                return {value: item.id, label: item.name}\n              })\n            }\n            displayTransformer={opt => {\n              const filteredVenue = booking.venues.filter(v => v.id === opt);\n              if (filteredVenue.length > 0)\n                return filteredVenue[0].name;\n              return null;\n            }}\n            onOptionSelected={venueID =>\n              dispatch({\n                type: \"select_venue\",\n                venue: venueID\n              })\n            }\n            style={{ width: \"100%\" }}\n            isValidate={booking.validateForm.venueId}\n          />\n          {\n            !booking.validateForm.venueId &&\n            <p\n              className={\n                css`\n                  color: #E92579;\n                  margin: 0.2em 0 0 0;\n                  padding: 0 0.6em;\n                  font-size: 0.8em;\n                `\n              }\n            >\n              Venue is required.\n            </p>\n          }\n        </div>\n        <div>\n          <TablePicker\n            label=\"Space\"\n            selectedOption={booking.spaceId}\n            options={booking.venueId && booking.spaces.map(s => s.id)}\n            displayTransformer={spaceId => {\n              const filteredSpace = booking.spaces.filter(s => s.id === spaceId);\n              if (filteredSpace.length > 0)\n                return filteredSpace[0].name;\n              else return null;\n            }}\n            onOptionSelected={spaceID => {\n              dispatch({ type: \"select_space\", space: spaceID });\n            }}\n            searchEnabled\n            optionsForSearch={\n              booking.spaces.map(item => {\n                return {value: item.id, label: item.name}\n              })\n            }\n            style={{ width: \"100%\" }}\n            isValidate={booking.validateForm.spaceId}\n          />\n          {\n            !booking.validateForm.spaceId &&\n            <p\n              className={\n                css`\n                  color: #E92579;\n                  margin: 0.2em 0 0 0;\n                  padding: 0 0.6em;\n                  font-size: 0.8em;\n                `\n              }\n            >\n              Space is required.\n            </p>\n          }\n        </div>\n\n        <div>\n          <TablePicker            \n            label=\"Customer\"            \n            options={bookingCustomers.map(customer => customer.value)}\n            optionsForSearch={bookingCustomers}\n            selectedOption={booking.customerId}\n            displayTransformer={customerId => {\n              if (customerId === CUSTOMER_OPTION_CREATE_USER)\n                return <span className=\"select-option-icon\">\n                  <FontAwesomeIcon className=\"fa-icons\" icon={faUserPlus} />\n                  Create a new user\n                </span>\n              if (customerId === CUSTOMER_OPTION_CASUAL_USER)\n                return <span className=\"select-option-icon\">\n                    <FontAwesomeIcon className=\"fa-icons\" icon={faHome} />\n                    Casual User \n                  </span>\n              const filteredCustomer = booking.customers.filter(c => c.id === customerId);\n              if (filteredCustomer.length > 0)\n                return <span className=\"select-option-icon\">\n                    <FontAwesomeIcon className=\"fa-icons\" icon={faUser} />\n                    {filteredCustomer[0].name}\n                  </span>\n              else return \"\";\n            }}\n            searchEnabled\n            onOptionSelected={customerId => {\n              dispatch({\n                type: \"select_customer\",\n                customer: customerId\n              });\n            }}\n            style={{ width: \"100%\" }}\n            isValidate={booking.validateForm.customerId}\n          />\n          {\n            !booking.validateForm.customerId &&\n            <p\n              className={\n                css`\n                  color: #E92579;\n                  margin: 0.2em 0 0 0;\n                  padding: 0 0.6em;\n                  font-size: 0.8em;\n                `\n              }\n            >\n              Customer is required.\n            </p>\n          }\n        </div>\n\n        <div>\n          <TablePicker\n            label=\"Owner\"\n            options={[state.auth.user.id]}\n            selectedOption={booking.ownerId}\n            onOptionSelected={owner =>\n              dispatch({\n                type: \"select_owner\",\n                value: owner\n              })\n            }\n            style={{ width: \"100%\" }}\n            isValidate={booking.validateForm.ownerId}\n            displayTransformer={ownerId => {\n              if (ownerId === state.auth.user.id)\n                return state.auth.user.lastName + \" \" + state.auth.user.firstName;\n              else return \"\";\n            }}\n          />\n          {\n            !booking.validateForm.ownerId &&\n            <p\n              className={\n                css`\n                  color: #E92579;\n                  margin: 0.2em 0 0 0;\n                  padding: 0 0.6em;\n                  font-size: 0.8em;\n                `\n              }\n            >\n              Owner is required.\n            </p>\n          }\n        </div>\n      </Grid>\n      {\n        (booking.customerId === CUSTOMER_OPTION_CREATE_USER)\n        && <CustomerSection customerData={booking.customerData} dispatch={dispatch}/>\n      }      \n\n      <TableSectionHeader title={\"Booking Slots\"} />\n\n      {booking.slots.length > 0 && (\n        <Table\n          columns=\"1fr 1fr 1fr auto\"\n          columnTitles={[\"Date\", \"Start\", \"End\", \"\"]}\n        >\n          {booking.slots\n            .map((slot, index) => {\n              switch (slot.kind) {\n                case \"multi-day\":\n                  const startDate = new Date(slot.dateRange[0]);\n                  const endDate = new Date(slot.dateRange[slot.dateRange.length - 1]);\n                  return (\n                    <React.Fragment key={index}>\n                       <div style={{ display: \"flex\" }}>\n                         <DatePicker\n                          selected={startDate}\n                          startDate={startDate}\n                          endDate={endDate}\n                          selectsEnd\n                          onChange={date =>\n                            dispatch({\n                              type: \"update_multiday_slot_start\",\n                              index: index,\n                              value: date\n                            })\n                          }\n                          dateFormat=\"dd/MM/yyyy\"\n                        />\n                        <DatePicker\n                          selected={endDate}\n                          startDate={startDate}\n                          endDate={endDate}\n                          minDate={startDate}\n                          selectsEnd\n                          onChange={date =>\n                            dispatch({\n                              type: \"update_multiday_slot_end\",\n                              index: index,\n                              value: date\n                            })\n                          }\n                          dateFormat=\"dd/MM/yyyy\"\n                        />\n                      </div>\n                      <DatePicker\n                        selected={updatedDate(\n                          new Date(),\n                          slot.startHour,\n                          slot.startMinute\n                        )}\n                        onChange={date =>\n                          dispatch({\n                            type: \"update_slot_start_time\",\n                            index: index,\n                            key: \"date\",\n                            date: date\n                          })\n                        }\n                        showTimeSelect\n                        showTimeSelectOnly\n                        timeIntervals={15}\n                        dateFormat=\"h:mm aa\"\n                      />\n                      <DatePicker\n                        selected={updatedDate(\n                          new Date(),\n                          slot.endHour,\n                          slot.endMinute\n                        )}\n                        onChange={date =>\n                          dispatch({\n                            type: \"update_slot_end_time\",\n                            index: index,\n                            key: \"date\",\n                            date: date\n                          })\n                        }\n                        showTimeSelect\n                        showTimeSelectOnly\n                        timeIntervals={15}\n                        dateFormat=\"h:mm aa\"\n                      />\n                      <SvgButtonWrapper>\n                        <SvgButton\n                          svg={RemoveSvg}\n                          width={20}\n                          height={20}\n                          onClick={() =>\n                            dispatch({ type: \"remove_slot\", index: index })\n                          }\n                        />\n                      </SvgButtonWrapper>\n                    </React.Fragment>\n                  );\n                case \"single-day\":\n                  return (\n                    <React.Fragment key={index}>\n                      <DatePicker\n                        selected={new Date(slot.date)}\n                        onChange={date =>\n                          dispatch({\n                            type: \"update_slot\",\n                            index: index,\n                            key: \"date\",\n                            value: date\n                          })\n                        }\n                        dateFormat=\"dd/MM/yyyy\"\n                      />\n                      <DatePicker\n                        selected={updatedDate(\n                          new Date(),\n                          slot.startHour,\n                          slot.startMinute\n                        )}\n                        onChange={date =>\n                          dispatch({\n                            type: \"update_slot_start_time\",\n                            index: index,\n                            key: \"date\",\n                            date: date\n                          })\n                        }\n                        showTimeSelect\n                        showTimeSelectOnly\n                        timeIntervals={15}\n                        dateFormat=\"h:mm aa\"\n                      />\n                      <DatePicker\n                        selected={updatedDate(\n                          new Date(),\n                          slot.endHour,\n                          slot.endMinute\n                        )}\n                        onChange={date =>\n                          dispatch({\n                            type: \"update_slot_end_time\",\n                            index: index,\n                            key: \"date\",\n                            date: date\n                          })\n                        }\n                        showTimeSelect\n                        showTimeSelectOnly\n                        timeIntervals={15}\n                        dateFormat=\"h:mm aa\"\n                      />\n                      <SvgButtonWrapper>\n                        <SvgButton\n                          svg={RemoveSvg}\n                          width={20}\n                          height={20}\n                          onClick={() =>\n                            dispatch({ type: \"remove_slot\", index: index })\n                          }\n                        />\n                      </SvgButtonWrapper>\n                    </React.Fragment>\n                  );\n                default:\n                  throw new Error();\n              }\n            })\n            .flat()}\n        </Table>\n      )}\n      <div style={{ display: \"flex\" }}>\n        <OutlinedButton\n          style={{ marginTop: 10 }}\n          onClick={() => dispatch({ type: \"append_slot\" })}\n          iconComponent={() => <AddGlyph fill={colors.grey} />}\n        >\n          Add Single Date\n        </OutlinedButton>\n        <OutlinedButton\n          style={{ marginTop: 10, marginLeft: 10 }}\n          onClick={() => dispatch({ type: \"append_slot_multi\" })}\n          iconComponent={() => <AddGlyph fill={colors.grey} />}\n        >\n          Add Date Range\n        </OutlinedButton>\n      </div>\n      {/* <CardPaymentForm \n        chargeData={{\n          amount: 25,\n          currency: 'GBP',\n        }}\n      /> */}\n    </>\n  );\n};\n\nconst BookingDetailEdit = props => {\n  const { booking: bookingToEdit, onEndEditing, startDate, endDate } = props;\n\n  const [state, dispatch] = useReducer(\n    singleBookingReducer,\n    {\n      ...bookingToEdit,\n      loadingBookingDetilas: false,\n      customers: [],\n      venues: [],\n      spaces: [],\n      owners: [],\n      validateForm: {\n        eventName: true,\n        venueId: true,\n        spaceId: true,\n        customerId: true,\n        ownerId: true,\n      },\n      customerData: {\n        name: {value: \"\", validate: true},\n        phone: {value: \"\"},\n        email: {value: \"\"},\n        address: {value: \"\"},\n        vatNumber: {value: \"\"},\n        note: {value: \"\"},\n      }\n    }\n  );\n\n  useEffect(() => {\n    const getCustomers = async () => {\n      try {\n        dispatch({ type: REQUSET_GET_BOOKING_CUSTOMER });\n\n        const res = await axios.get('/customers');\n\n        dispatch({\n          type: GET_BOOKING_CUSTOMER_SUCCESS,\n          payload: res.data.customers\n        })\n\n      } catch (err) {\n        dispatch({ type: GET_BOOKING_CUSTOMER_ERROR });\n      }\n    }\n    getCustomers();\n\n    const getVenues = async () => {\n      try {\n        dispatch({ type: REQUSET_GET_BOOKING_VENUES });\n\n        const res = await axios.get('/venues');\n        const venues = res.data.venues;\n        venues.map(item => {\n          if (!item.spaces) {\n            item.spaces = [];\n          }\n          return item;\n        })\n\n        dispatch({\n          type: GET_BOOKING_VENUES_SUCCESS,\n          payload: venues\n        })\n\n      } catch (err) {\n        console.log(\"Get Venus Setting failed.\")\n        dispatch({ type: GET_BOOKING_VENUES_ERROR });\n      }\n    }\n\n    getVenues();\n\n  }, [])\n\n  useEffect(() => {\n\n    if (startDate && endDate) {\n      // opened from dragging in the calendar to create a new booking\n      // with the time range selected in the calendar\n\n      dispatch({ type: \"remove_slot\", index: 0 });\n\n      dispatch({\n        type: \"append_slot\",\n        date: startDate,\n        startDate: startDate,\n        endDate: endDate\n      });\n    }\n  }, [startDate, endDate, dispatch]);\n\n  const handleClickSave = () => {\n    let isValidate = true;\n    // check title\n    if (state.validateForm.eventName === null || state.validateForm.eventName.length === 0) {\n      dispatch({\n        type: UPDATE_ADD_BOOKINGFORM_VALIDATE,\n        payload: {key: 'eventName', value: false}\n      })\n      isValidate = false;\n    }\n  \n    if (state.ownerId === null || state.ownerId.length === 0) {\n      dispatch({\n        type: UPDATE_ADD_BOOKINGFORM_VALIDATE,\n        payload: {key: 'ownerId', value: false}\n      })\n      isValidate = false;\n    }\n\n    const filteredVenue = state.venues.filter(item => item.id === state.venueId)\n    if (filteredVenue.length === 0) {\n      dispatch({\n        type: UPDATE_ADD_BOOKINGFORM_VALIDATE,\n        payload: {key: 'venueId', value: false}\n      })\n      isValidate = false;\n    }\n\n    const filteredSpace = state.spaces.filter(item => item.id === state.spaceId)\n    if (filteredSpace.length === 0) {\n      dispatch({\n        type: UPDATE_ADD_BOOKINGFORM_VALIDATE,\n        payload: {key: 'spaceId', value: false}\n      })\n      isValidate = false;\n    }\n\n    const filteredCustomer = state.customers.filter(item => item.id === state.customerId)\n    if (filteredCustomer.length === 0 && state.customerId !== CUSTOMER_OPTION_CREATE_USER) {\n      dispatch({\n        type: UPDATE_ADD_BOOKINGFORM_VALIDATE,\n        payload: {key: 'customerId', value: false}\n      })\n      isValidate = false;\n    }\n    \n    if (state.customerId === CUSTOMER_OPTION_CREATE_USER) {\n      if (state.customerData.name.value.length === 0) {\n        isValidate = false;\n        dispatch({ \n          type: \"select_customer_data\",\n          key: 'name',\n          value: {value: \"\", validate: false,}\n        });        \n      }\n    }    \n\n    if (isValidate) {\n      onEndEditing(state)\n    }\n  }\n\n  return (\n    <ModalContainer>\n      <SpinnerContainer loading={state.loadingBookingDetilas.toString()} />\n      <ModalTopSection>\n        <ModalTitleAndButtons>\n          <H3>{state.eventName || \"New Booking\"}</H3>\n          <div>\n            <Button\n              style={{ marginRight: 10 }}\n              onClick={() => onEndEditing(null)}\n            >\n              Cancel\n            </Button>\n            <Button\n              primary\n              style={{ marginRight: 10 }}\n              onClick={handleClickSave}\n            >\n              Save\n            </Button>\n          </div>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n\n      <ModalBottomSection>\n        <BookingForm booking={state} dispatch={dispatch} />\n        <Spacer />\n      </ModalBottomSection>\n    </ModalContainer>\n  );\n};\n\nfunction singleBookingReducer(state, action) {\n  switch (action.type) {\n    case REQUSET_GET_BOOKING_CUSTOMER:\n      return {\n        ...state,\n        loadingBookingDetilas: true,\n      }\n    case GET_BOOKING_CUSTOMER_SUCCESS:\n      return {\n        ...state,\n        loadingBookingDetilas: false,\n        customers: [ ...action.payload ]\n      }\n    case GET_BOOKING_CUSTOMER_ERROR:\n      return {\n        ...state,\n        loadingBookingDetilas: false,\n      }\n    case REQUSET_GET_BOOKING_VENUES:\n      return {\n        ...state,\n        loadingBookingDetilas: true,\n      }\n    case GET_BOOKING_VENUES_SUCCESS:\n      return {\n        ...state,\n        loadingBookingDetilas: false,\n        venues: [ ...action.payload ]\n      }\n    case GET_BOOKING_VENUES_ERROR:\n      return {\n        ...state,\n        loadingBookingDetilas: false,\n      }\n    case REQUEST_GET_BOOKING_SPACES:\n      return {\n        ...state,\n        loadingBookingDetilas: true,\n      }\n    case GET_BOOKING_SPACES_SUCCESS:\n      return {\n        ...state,\n        loadingBookingDetilas: false,\n        spaces: [ ...action.payload ]\n      }\n    case GET_BOOKING_SPACES_ERROR:\n      return {\n        ...state,\n        loadingBookingDetilas: false,\n      }\n    case UPDATE_ADD_BOOKINGFORM_VALIDATE:{\n      const newValidateForm = { ...state.validateForm };\n      newValidateForm[action.payload.key] = action.payload.value;\n      return {\n        ...state,\n        validateForm: { ...newValidateForm },\n      }\n    }\n    case \"set_title\": {\n      const newValidateForm = { ...state.validateForm };\n      newValidateForm.eventName = (action.value.length > 0);\n      return {\n        ...state,\n        eventName: action.value,\n        validateForm: { ...newValidateForm }\n      };\n    }\n\n    case \"update_slot\": {\n      const slot = state.slots[action.index];\n      slot[action.key] = action.value;\n      return {\n        ...state,\n        slots: [\n          ...state.slots.slice(0, action.index),\n          slot,\n          ...state.slots.slice(action.index + 1)\n        ]\n      };\n    }\n    case \"update_multiday_slot_start\": {\n      const slot = state.slots[action.index];\n      slot.dateRange[0] = action.value;\n      return {\n        ...state,\n        slots: [\n          ...state.slots.slice(0, action.index),\n          slot,\n          ...state.slots.slice(action.index + 1)\n        ]\n      };\n    }\n    case \"update_multiday_slot_end\": {\n      const slot = state.slots[action.index];\n      slot.dateRange[1] = action.value;\n      return {\n        ...state,\n        slots: [\n          ...state.slots.slice(0, action.index),\n          slot,\n          ...state.slots.slice(action.index + 1)\n        ]\n      };\n    }\n    case \"update_slot_start_time\": {\n      const slot = state.slots[action.index];\n      slot.startHour = action.date.getHours();\n      slot.startMinute = action.date.getMinutes();\n      return {\n        ...state,\n        slots: [\n          ...state.slots.slice(0, action.index),\n          slot,\n          ...state.slots.slice(action.index + 1)\n        ]\n      };\n    }\n    case \"update_slot_end_time\": {\n      const slot = state.slots[action.index];\n      slot.endHour = action.date.getHours();\n      slot.endMinute = action.date.getMinutes();\n      return {\n        ...state,\n        slots: [\n          ...state.slots.slice(0, action.index),\n          slot,\n          ...state.slots.slice(action.index + 1)\n        ]\n      };\n    }\n\n    case \"append_slot\":\n      return {\n        ...state,\n        slots: [\n          ...state.slots,\n          {\n            kind: \"single-day\",\n            date: action.date || (new Date()).valueOf(),\n            startHour: (action.startDate && action.startDate.getHours()) || 9,\n            startMinute:\n              (action.startDate && action.startDate.getMinutes()) || 0,\n            endHour: (action.endDate && action.endDate.getHours()) || 18,\n            endMinute: (action.endDate && action.endDate.getMinutes()) || 0\n          }\n        ]\n      };\n\n    case \"append_slot_multi\":\n      return {\n        ...state,\n        slots: [\n          ...state.slots,\n          {\n            kind: \"multi-day\",\n            dateRange: [new Date(), addDays(new Date(), 1)],\n            startHour: 9,\n            startMinute: 0,\n            endHour: 18,\n            endMinute: 0\n          }\n        ]\n      };\n\n    case \"remove_slot\":\n      return {\n        ...state,\n        slots: [\n          ...state.slots.slice(0, action.index),\n          ...state.slots.slice(action.index + 1)\n        ]\n      };\n\n    case \"update_discount\": {\n      return {\n        ...state,\n        discount: Math.min(Math.max(action.value, 0), 99)\n      };\n    }\n    case \"select_venue\": {\n      const newValidateForm = { ...state.validateForm };\n      newValidateForm.venueId = (action.venue !== null);\n      return {\n        ...state,\n        venueId: action.venue,\n        space: null,\n        validateForm: { ...newValidateForm },\n      };\n    }\n    case \"select_space\": {\n      const newValidateForm = { ...state.validateForm };\n      newValidateForm.spaceId = (action.space !== null);\n      return {\n        ...state,\n        spaceId: action.space,\n        validateForm: newValidateForm,\n      };\n    }\n    case \"select_customer\": {\n      const newValidateForm = { ...state.validateForm };\n      newValidateForm.customerId = (action.customer !== null);\n      let newCustomerData = { ...state.customerData };\n      if (newValidateForm.customerId >= 0) {\n        newCustomerData = {\n          name: {value: \"\", validate: true},\n          phone: {value: \"\"},\n          email: {value: \"\"},\n          address: {value: \"\"},\n          vatNumber: {value: \"\"},\n          note: {value: \"\"},\n        }\n      }\n\n      return {\n        ...state,\n        customerId: action.customer,\n        validateForm: { ...newValidateForm },\n        customer: { ...newCustomerData},\n      };\n    }\n    case \"select_owner\": {\n      const newValidateForm = { ...state.validateForm };\n      newValidateForm.ownerId = (action.owner !== null);\n      return {\n        ...state,\n        ownerId: action.value,\n        validateForm: { ...newValidateForm }\n      };\n    }\n    case 'select_customer_data': {\n      const newCustomerData = { ...state.customerData};\n      newCustomerData[action.key] = action.value\n      return {\n        ...state,\n        customerData: { ...newCustomerData }\n      }\n    }    \n    default:\n      throw new Error();\n  }\n}\n\nexport default BookingDetailEdit;\n","import moment from \"moment\";\nimport { updatedDate } from \"./dates\";\n\nfunction formatEventStartEndTime(start, end) {\n  let startTime = moment(start).format(\"LT\");\n  let endTime = moment(end).format(\"LT\");\n\n  if (startTime.indexOf(\"AM\") > -1 && endTime.indexOf(\"AM\") > -1) {\n    startTime = startTime.replace(\" AM\", \"\");\n  }\n\n  if (startTime.indexOf(\"PM\") > -1 && endTime.indexOf(\"PM\") > -1) {\n    startTime = startTime.replace(\" PM\", \"\");\n  }\n\n  const res = `${startTime} - ${endTime}`;\n  return res.toLowerCase();\n}\n\nfunction formatEventDate(date) {\n  // June 13, 2019\n  return moment(date).format(\"MMMM D, YYYY\");\n}\n\nfunction formatSlotStartEndTime(date, slot) {\n  const startDate = updatedDate(date, slot.startHour, slot.startMinute);\n  const endDate = updatedDate(date, slot.endHour, slot.endMinute);\n  return formatEventStartEndTime(startDate, endDate);\n}\n\nexport { formatEventStartEndTime, formatEventDate, formatSlotStartEndTime };\n","import React from \"react\";\nimport Grid from \"../../../layout/Grid\";\nimport {\n  TableItem,\n  TableSectionHeader,\n  Table,\n  TableValue\n} from \"../../../tables/tables\";\nimport {\n  formatEventDate,\n  formatSlotStartEndTime\n} from \"../../../../utils/dateFormatting\";\nimport { getStatuColor } from \"../../../../contexts/AppReducerContext\";\n\nconst DetailsSection = props => {\n  const { booking } = props;\n  // const { state } = useContext(AppReducerContext);\n\n  const getBookingStatusColor = (selectedBooking) => {\n    if (selectedBooking.status && selectedBooking.status.name)\n      return getStatuColor(selectedBooking.status.name);\n    else return getStatuColor(\"\");\n  }\n\n  const getBookingVenueAndSpaceName = (selectedBooking) => {\n    const venueName = (selectedBooking.venue && selectedBooking.venue.name) ? selectedBooking.venue.name : \"\";    \n    const spaceName = (selectedBooking.space && selectedBooking.space.name) ? selectedBooking.space.name : \"\";\n    return (venueName + \"(\" + spaceName + \")\");\n  }\n\n  return (\n    <>\n      <Grid columns=\"1fr 1fr\">\n        <TableItem\n          style={{ color: `${getBookingStatusColor(booking)}} !important` }}\n          label={\"Venue (Space)\"}\n          value={getBookingVenueAndSpaceName(booking)}\n        />\n        <TableItem label={\"Customer\"} value={ (booking.customer && booking.customer.name) ? booking.customer.name : \"\"} />\n      </Grid>\n      <TableSectionHeader title={\"Booking Slots\"} />\n      <Table columns=\"20% auto\" columnTitles={[\"Date\", \"Time\"]}>\n        {booking.slots\n          .map(slot => {\n            switch (slot.kind) {\n              case \"multi-day\":\n                return slot.dateRange.map(date => (\n                  <React.Fragment key={booking.id + date.toString()}>\n                    <TableValue>{formatEventDate(date)}</TableValue>\n                    <TableValue>\n                      {formatSlotStartEndTime(date, slot)}\n                    </TableValue>\n                  </React.Fragment>\n                ));\n              case \"single-day\":\n                return (\n                  <React.Fragment key={booking.id + slot.date.toString()}>\n                    <TableValue>{formatEventDate(slot.date)}</TableValue>\n                    <TableValue>\n                      {formatSlotStartEndTime(slot.date, slot)}\n                    </TableValue>\n                  </React.Fragment>\n                );\n              default:\n                throw new Error();\n            }\n          })\n          .flat()}\n      </Table>\n    </>\n  );\n};\n\nexport default DetailsSection;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors.js\";\nimport P2 from \"../typography/P2.js\";\nimport menuSvg from \"../../images/Glyphs/menu.svg\";\nimport SvgButton from \"./SvgButton\";\n\nconst Dropdown = styled.div`\n  position: relative;\n  display: inline-block;\n\n  input {\n    width: 80%;\n    font-size: 0.9em;\n    border: none;\n\n    :focus {\n      outline-style: none;\n      box-shadow: none;\n      border-color: transparent;\n    }\n  }\n`;\n\nconst DropdownContent = styled.div`\n  display: ${props => (props.show ? \"aboslute\" : \"none\")};\n  position: absolute;\n  background-color: #f9f9f9;\n  right: 0;\n  max-height: 250px;\n  overflow-y: scroll;\n  z-index: 1;\n  background: #ffffff;\n  color: ${colors.grey};\n  box-shadow: 0px 1.5px 1px rgba(0, 0, 0, 0.05);\n  padding: 5px 10px;\n  border: 1px solid ${colors.light};\n  border-radius: 0.25em;\n  user-select: none;\n\n  p {\n    cursor: pointer;\n    :hover {\n      opacity: 0.7;\n    }\n    :last-child {\n      margin-bottom: 0;\n    }\n  }\n`;\n\nconst DropdownMenu = props => {\n  const {\n    items = [],\n    colors = null,\n    displayTransformer = null, // function that transforms an option for display\n    onItemSelected\n  } = props;\n\n  const [opened, setOpened] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const handleDocumentClick = event => {\n      if (ref.current) {\n        if (!ReactDOM.findDOMNode(ref.current).contains(event.target)) {\n          if (opened) {\n            setOpened(false);\n          }\n        }\n      }\n    };\n\n    document.addEventListener(\"click\", handleDocumentClick, false);\n\n    return () => {\n      document.removeEventListener(\"click\", handleDocumentClick, false);\n    };\n  }, [ref, opened]);\n\n  const makeItemComponent = (item, index) => {\n    const color = colors && colors[index];\n\n    return (\n      <React.Fragment key={item}>\n        <P2\n          style={{\n            marginRight: 10,\n            color\n          }}\n          onClick={() => {\n            setOpened(!opened);\n            onItemSelected(item);\n          }}\n        >\n          {displayTransformer ? displayTransformer(item) : item}\n        </P2>\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <Dropdown ref={ref}>\n      <SvgButton\n        size={24}\n        svg={menuSvg}\n        onClick={() => {\n          setOpened(!opened);\n        }}\n      />\n      <DropdownContent show={opened}>\n        {items && items.map(makeItemComponent)}\n      </DropdownContent>\n    </Dropdown>\n  );\n};\n\nexport default DropdownMenu;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { addDays } from \"date-fns/esm\";\nimport axios from 'axios';\n\nimport {\n  ModalContainer,\n  ModalTopSection,\n  ModalTitleAndButtons,\n  ModalBottomSection\n} from \"../../../modals/containers\";\nimport Button from \"../../../buttons/Button\";\nimport H3 from \"../../../typography/H3\";\nimport {\n  TableEditableValue,\n  TableSectionHeader,\n  Table,\n  TableValue,\n  TableLabel\n} from \"../../../tables/tables\";\nimport { formatEventDate } from \"../../../../utils/dateFormatting\";\nimport { AppReducerContext } from \"../../../../contexts/AppReducerContext\";\nimport OutlinedButton from \"../../../buttons/OutlinedButton\";\nimport AddGlyph from \"../../../../images/Glyphs/AddGlyph\";\nimport colors from \"../../../style/colors\";\nimport styled from \"styled-components\";\nimport DatePicker from \"react-datepicker\";\nimport { updatedDate } from \"../../../../utils/dates\";\nimport SvgButton from \"../../../buttons/SvgButton\";\nimport RemoveSvg from \"../../../../images/ui/remove.svg\";\nimport { formatCurrency } from \"../../../../utils/numbers\";\nimport { computeCostItemsSummary } from \"../../../../utils/costItemsMath\";\nimport SpinnerContainer from \"../../../layout/Spinner\";\n\nimport {  \n  createEmptyQuote,\n  createEmptyCostItem,  \n} from \"../../../../models/bookings\";\n\nimport { \n  GET_CREATE_BOOKING_QUOTE_SUCCESS, UPDATE_BOOKING_QUOTE_SUCCESS \n} from '../../../../reducers/actionType'\n\nconst SvgButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst EditQuote = props => {\n  const { booking, quoteId, onEndEditing } = props;\n\n  const { state, dispatch } = useContext(AppReducerContext);\n\n  const [selectedQuote, setSelectedQuote] = useState({})\n  const [netSubtotal, setNetSubTotal] = useState(0)\n  const [taxes, setTaxes] = useState(0)\n  const [grandTotal, setGrandTotal] = useState(0)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    if (quoteId === -1) {\n      setSelectedQuote({\n        ...createEmptyQuote(booking)\n      })\n    } else  {\n      const selectedOne = state.bookings.quotes.filter(item => item.id === quoteId)\n      setSelectedQuote({\n        ...selectedOne[0]\n      })\n    }    \n    setLoading(false)    \n  }, [])\n\n  useEffect(() => {\n    if (selectedQuote.costItems && selectedQuote.discount) {\n      let [netSubtotalValue, taxesValue, grandTotalValue] = computeCostItemsSummary(selectedQuote.costItems, selectedQuote.discount)\n      setNetSubTotal(netSubtotalValue)\n      setTaxes(taxesValue)\n      setGrandTotal(grandTotalValue)\n    }    \n  }, [selectedQuote.costItems, selectedQuote.discount])\n  \n  const handleChangeQuote = newQuote => {\n    if (newQuote.type === 'quote_update_slot') {\n      let newOne = { ...selectedQuote }\n      newOne.slots[newQuote.index][newQuote.key] = newQuote.value\n      setSelectedQuote({ ...newOne })\n    } else if (newQuote.type === 'quote_update_multiday_slot_start') {\n      setSelectedQuote({\n        ...selectedQuote,\n        slots: selectedQuote.slots.map((item, nIndex) => {\n          if (nIndex === newQuote.index)\n            item.dateRange[0] = newQuote.value  \n          return item\n        })\n      })\n    } else if (newQuote.type === 'quote_update_multiday_slot_end') {\n      setSelectedQuote({\n        ...selectedQuote,\n        slots: selectedQuote.slots.map((item, nIndex) => {\n          if (nIndex === newQuote.index)\n            item.dateRange[1] = newQuote.value  \n          return item\n        })\n      })\n    } else if (newQuote.type === 'quote_update_slot_start_time') {\n      setSelectedQuote({\n        ...selectedQuote,\n        slots: selectedQuote.slots.map((item, nIndex) => {\n          if (nIndex === newQuote.index) {\n            item.startHour = newQuote.date.getHours()\n            item.startMinute = newQuote.date.getMinutes()\n          }\n          return item\n        })\n      })\n    } else if (newQuote.type === 'quote_update_slot_end_time') {\n      setSelectedQuote({\n        ...selectedQuote,\n        slots: selectedQuote.slots.map((item, nIndex) => {\n          if (nIndex === newQuote.index) {\n            item.endHour = newQuote.date.getHours()\n            item.endMinute = newQuote.date.getMinutes()\n          }\n          return item\n        })\n      })\n    } else if (newQuote.type === 'quote_append_slot') {\n      setSelectedQuote({\n        ...selectedQuote,\n        slots: [\n          ...selectedQuote.slots,\n          {\n            kind: \"single-day\",\n            date: newQuote.date || new Date(),\n            startHour: (newQuote.startDate && newQuote.startDate.getHours()) || 9,\n            startMinute: (newQuote.startDate && newQuote.startDate.getMinutes()) || 0,\n            endHour: (newQuote.endDate && newQuote.endDate.getHours()) || 18,\n            endMinute: (newQuote.endDate && newQuote.endDate.getMinutes()) || 0\n          }\n        ]\n      })\n    } else if (newQuote.type === 'quote_append_slot_multi') {\n      setSelectedQuote({\n        ...selectedQuote,\n        slots: [\n          ...selectedQuote.slots,\n          {\n            kind: \"multi-day\",\n            dateRange: [new Date(), addDays(new Date(), 1)],\n            startHour: 9,\n            startMinute: 0,\n            endHour: 18,\n            endMinute: 0\n          }\n        ]\n      })\n    } else if (newQuote.type === 'quote_remove_slot') {\n      setSelectedQuote({\n        ...selectedQuote,\n        slots: selectedQuote.slots.filter((item, nIndex) => nIndex !== newQuote.index)\n      })\n    } else if (newQuote.type === 'update_cost_item') {\n      let newCostItems = [ ...selectedQuote.costItems ];\n      newCostItems[newQuote.index][newQuote.key] = newQuote.value;\n      setSelectedQuote({\n        ...selectedQuote,\n        costItems: [ ...newCostItems ]\n      })\n    } else if (newQuote.type === 'remove_cost_item') {\n      setSelectedQuote({\n        ...selectedQuote,\n        costItems: [ ...selectedQuote.costItems.filter((item, nIndex) => nIndex !== newQuote.index)]\n      })\n    } else if (newQuote.type === 'append_cost_item') {\n      setSelectedQuote({\n        ...selectedQuote,\n        costItems: [\n          ...selectedQuote.costItems,\n          createEmptyCostItem({ vatRate: newQuote.vatRate })\n        ]\n      })\n    } else if (newQuote.type === 'quote_update_discount') {      \n      let discount = 0\n      try {\n        discount = parseInt(newQuote.value)\n      } catch(err) {  \n        discount = 0\n      }\n\n      setSelectedQuote({\n        ...selectedQuote,\n        discount: discount,        \n        discountText: newQuote.value,\n      })\n    } else if (newQuote.type === 'set_quote_value') {\n      let newSelectedQuote = { ...selectedQuote }\n      newSelectedQuote[newQuote.key] = newQuote.value\n      setSelectedQuote({\n        ...newSelectedQuote\n      })\n    }\n  }\n\n  const handleClickSave = async () => {\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    try {      \n      if (quoteId === -1) {\n        const res = await axios.post(\n          `/bookings/${booking.id}/quotes`,\n          {\n            slots: JSON.stringify(selectedQuote.slots),\n            costItems: JSON.stringify(selectedQuote.costItems),\n            value: selectedQuote.value,\n            discount: selectedQuote.discount,        \n            note: selectedQuote.note\n          },\n          config\n        )  \n        dispatch({\n          type: GET_CREATE_BOOKING_QUOTE_SUCCESS,\n          payload: res.data.quote,\n        })\n      } else {\n        const res = await axios.put(\n          `/bookings/${booking.id}/quotes/${quoteId}`,\n          {\n            slots: JSON.stringify(selectedQuote.slots),\n            costItems: JSON.stringify(selectedQuote.costItems),\n            value: selectedQuote.value,\n            discount: selectedQuote.discount,        \n            note: selectedQuote.note\n          },\n          config\n        ) \n        dispatch({\n          type: UPDATE_BOOKING_QUOTE_SUCCESS,\n          payload: res.data.quote,\n        }) \n      }\n      \n    } catch (err) {      \n    }    \n    onEndEditing(false)\n  }\n\n  return (\n    <ModalContainer>\n      <SpinnerContainer loading={loading.toString()} />\n      <ModalTopSection>\n        <ModalTitleAndButtons>\n          <H3 style={{ margin: 0 }}>                                  \n            {quoteId === -1 ? \"New Quote\" : (\"Quote \" + quoteId)}  {formatEventDate(selectedQuote.createdAt)}\n          </H3>\n          <div>\n            <Button\n              style={{ marginRight: 10 }}\n              onClick={() => onEndEditing(null)}\n            >\n              Cancel\n            </Button>\n            <Button\n              primary\n              style={{ marginRight: 10 }}\n              onClick={() => handleClickSave()}\n            >\n              Save\n            </Button>\n          </div>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n\n      <ModalBottomSection>\n        {/* QUOTE SLOTS */}\n        <TableSectionHeader title={\"Booking Slots\"} />\n        {selectedQuote.slots && selectedQuote.slots.length > 0 && (\n          <Table\n            columns=\"1fr 1fr 1fr auto\"\n            columnTitles={[\"Date\", \"Start\", \"End\", \"\"]}\n          >\n            {selectedQuote.slots\n              .map((slot, slotIndex) => {\n                switch (slot.kind) {\n                  case \"multi-day\":\n                    const startDate = new Date(slot.dateRange[0]);\n                    const endDate = new Date(slot.dateRange[slot.dateRange.length - 1]);\n                    return (\n                      <React.Fragment key={slotIndex}>\n                        <div style={{ display: \"flex\" }}>\n                          <DatePicker\n                            selected={startDate}\n                            startDate={startDate}\n                            endDate={endDate}\n                            selectsEnd\n                            onChange={date =>\n                              handleChangeQuote({\n                                type: \"quote_update_multiday_slot_start\",\n                                booking: booking.id,\n                                index: slotIndex,\n                                value: date\n                              })\n                            }\n                            dateFormat=\"dd/MM/yyyy\"\n                          />\n                          <DatePicker\n                            selected={endDate}\n                            startDate={startDate}\n                            endDate={endDate}\n                            minDate={startDate}\n                            selectsEnd\n                            onChange={date =>\n                              handleChangeQuote({\n                                type: \"quote_update_multiday_slot_end\",\n                                booking: booking.id,\n                                index: slotIndex,\n                                value: date\n                              })\n                            }\n                            dateFormat=\"dd/MM/yyyy\"\n                          />\n                        </div>\n                        <DatePicker\n                          selected={updatedDate(\n                            new Date(),\n                            slot.startHour,\n                            slot.startMinute\n                          )}\n                          onChange={date =>\n                            handleChangeQuote({\n                              type: \"quote_update_slot_start_time\",\n                              booking: booking.id,\n                              index: slotIndex,\n                              key: \"date\",\n                              date: date\n                            })\n                          }\n                          showTimeSelect\n                          showTimeSelectOnly\n                          timeIntervals={15}\n                          dateFormat=\"h:mm aa\"\n                        />\n                        <DatePicker\n                          selected={updatedDate(\n                            new Date(),\n                            slot.endHour,\n                            slot.endMinute\n                          )}\n                          onChange={date =>\n                            handleChangeQuote({\n                              type: \"quote_update_slot_end_time\",\n                              booking: booking.id,\n                              index: slotIndex,\n                              key: \"date\",\n                              date: date\n                            })\n                          }\n                          showTimeSelect\n                          showTimeSelectOnly\n                          timeIntervals={15}\n                          dateFormat=\"h:mm aa\"\n                        />\n                        <SvgButtonWrapper>\n                          <SvgButton\n                            svg={RemoveSvg}\n                            width={20}\n                            height={20}\n                            onClick={() =>\n                              handleChangeQuote({\n                                type: \"quote_remove_slot\",\n                                booking: booking.id,\n                                index: slotIndex\n                              })\n                            }\n                          />\n                        </SvgButtonWrapper>\n                      </React.Fragment>\n                    );\n                  case \"single-day\":\n\n                    return (\n                      <React.Fragment key={slotIndex}>\n                        <DatePicker\n                          selected={new Date(slot.date)}\n                          onChange={date =>\n                            handleChangeQuote({\n                              type: \"quote_update_slot\",\n                              booking: booking.id,\n                              index: slotIndex,\n                              key: \"date\",\n                              value: date\n                            })\n                          }\n                          dateFormat=\"dd/MM/yyyy\"\n                        />\n                        <DatePicker\n                          selected={updatedDate(\n                            new Date(),\n                            slot.startHour,\n                            slot.startMinute\n                          )}\n                          onChange={date =>\n                            handleChangeQuote({\n                              type: \"quote_update_slot_start_time\",\n                              booking: booking.id,\n                              index: slotIndex,\n                              key: \"date\",\n                              date: date\n                            })\n                          }\n                          showTimeSelect\n                          showTimeSelectOnly\n                          timeIntervals={15}\n                          dateFormat=\"h:mm aa\"\n                        />\n                        <DatePicker\n                          selected={updatedDate(\n                            new Date(),\n                            slot.endHour,\n                            slot.endMinute\n                          )}\n                          onChange={date =>\n                            handleChangeQuote({\n                              type: \"quote_update_slot_end_time\",\n                              booking: booking.id,\n                              index: slotIndex,\n                              key: \"date\",\n                              date: date\n                            })\n                          }\n                          showTimeSelect\n                          showTimeSelectOnly\n                          timeIntervals={15}\n                          dateFormat=\"h:mm aa\"\n                        />\n                        <SvgButtonWrapper>\n                          <SvgButton\n                            svg={RemoveSvg}\n                            width={20}\n                            height={20}\n                            onClick={() =>\n                              handleChangeQuote({\n                                type: \"quote_remove_slot\",\n                                booking: booking.id,\n                                index: slotIndex\n                              })\n                            }\n                          />\n                        </SvgButtonWrapper>\n                      </React.Fragment>\n                    );\n                  default:\n                    throw new Error();\n                }\n              })\n              .flat()}\n          </Table>\n        )}\n        <div style={{ display: \"flex\" }}>\n          <OutlinedButton\n            style={{ marginTop: 10 }}\n            onClick={() =>\n              handleChangeQuote({\n                type: \"quote_append_slot\",\n              })\n            }\n            iconComponent={() => <AddGlyph fill={colors.grey} />}\n          >\n            Add Single Date\n          </OutlinedButton>\n          <OutlinedButton\n            style={{ marginTop: 10, marginLeft: 10 }}\n            onClick={() =>\n              handleChangeQuote({\n                type: \"quote_append_slot_multi\",\n              })\n            }\n            iconComponent={() => <AddGlyph fill={colors.grey} />}\n          >\n            Add Date Range\n          </OutlinedButton>\n        </div>\n        {/* COST ITEMS */}\n        <TableSectionHeader title={\"Cost Items\"} />\n        {selectedQuote.costItems && selectedQuote.costItems.length > 0 && (\n          <Table\n            columns=\"2fr 2fr 0.5fr 0.8fr 1fr 1fr auto\"\n            columnTitles={[\n              \"Name\",\n              \"Description\",\n              \"Quantity\",\n              \"VAT Rate (%)\",\n              \"Unit Price\",\n              \"Total\",\n              \"\"\n            ]}\n          >\n            {selectedQuote.costItems.map((item, costItemIndex) => {\n              return (\n                <React.Fragment key={costItemIndex}>\n                  <TableEditableValue\n                    value={item.name}\n                    placeholder=\"Item Name\"\n                    tabIndex=\"0\"\n                    onChange={value =>\n                      handleChangeQuote({\n                        type: \"update_cost_item\",\n                        key: \"name\",\n                        value: value,\n                        booking: booking.id,\n                        index: costItemIndex\n                      })\n                    }\n                  />\n                  <TableEditableValue\n                    value={item.description}\n                    placeholder=\"Description\"\n                    tabIndex=\"1\"\n                    onChange={value =>\n                      handleChangeQuote({\n                        type: \"update_cost_item\",\n                        key: \"description\",\n                        value: value,\n                        booking: booking.id,\n                        index: costItemIndex\n                      })\n                    }\n                  />\n                  <TableEditableValue\n                    value={item.quantity}\n                    placeholder=\"Quantity\"\n                    type=\"number\"\n                    onChange={value =>\n                      handleChangeQuote({\n                        type: \"update_cost_item\",\n                        key: \"quantity\",\n                        value: value,\n                        booking: booking.id,\n                        index: costItemIndex\n                      })\n                    }\n                  />\n                  <TableEditableValue\n                    value={item.vatRateText}\n                    placeholder=\"VAT\"\n                    type=\"number\"\n                    onChange={value => {\n                      handleChangeQuote({\n                        type: \"update_cost_item\",\n                        key: \"vatRate\",\n                        value:\n                          (value &&\n                            value.length &&\n                            parseFloat(value).toFixed(2)) ||\n                          0,\n                        booking: booking.id,\n                        index: costItemIndex\n                      });\n                      handleChangeQuote({\n                        type: \"update_cost_item\",\n                        key: \"vatRateText\",\n                        value: value,\n                        booking: booking.id,\n                        index: costItemIndex\n                      });\n                    }}\n                  />\n                  <TableEditableValue\n                    value={item.unitPrice}\n                    placeholder=\"Unit Price\"\n                    type=\"number\"\n                    onChange={value =>\n                      handleChangeQuote({\n                        type: \"update_cost_item\",\n                        key: \"unitPrice\",\n                        value: value,\n                        booking: booking.id,\n                        index: costItemIndex\n                      })\n                    }\n                  />\n\n                  <TableValue>\n                    {formatCurrency(\n                      item.unitPrice * item.quantity * (1 + item.vatRate / 100),\n                      state.settings.companyInfo.currency\n                    )}\n                  </TableValue>\n\n                  <SvgButtonWrapper>\n                    <SvgButton\n                      svg={RemoveSvg}\n                      width={20}\n                      height={20}\n                      onClick={() =>\n                        handleChangeQuote({\n                          type: \"remove_cost_item\",\n                          booking: booking.id,\n                          index: costItemIndex\n                        })\n                      }\n                    />\n                  </SvgButtonWrapper>\n                </React.Fragment>\n              );\n            })}\n          </Table>\n        )}\n        <OutlinedButton\n          style={{ marginTop: 10 }}\n          onClick={() =>\n            handleChangeQuote({\n              type: \"append_cost_item\",\n              booking: booking.id,\n              vatRate: state.settings.companyInfo.vatRate,\n            })\n          }\n          iconComponent={() => <AddGlyph fill={colors.grey} />}\n        >\n          Add Cost Item\n        </OutlinedButton>\n\n        {/* Summary */}\n\n        {selectedQuote.costItems && selectedQuote.costItems.length > 0 && (\n          <Table\n            rows=\"20px 20px 20px 20px\"\n            columns=\"5fr 1fr 1fr\"\n            style={{ marginTop: \"1em\" }}\n          >\n            <span>&nbsp;</span>\n            <TableLabel>Net subtotal</TableLabel>\n            <TableValue>{formatCurrency(netSubtotal, \"GBP\")}</TableValue>\n\n            <span>&nbsp;</span>\n            <TableLabel>Discount (%)</TableLabel>\n            <input\n              style={{\n                fontFamily: \"Circular Std\",\n                fontSize: \"0.9em\",\n                width: 80,\n                padding: 3\n              }}\n              type=\"number\"\n              value={booking.discountText || selectedQuote.discount || \"\"}\n              placeholder={\"Discount\"}\n              onChange={event =>\n                handleChangeQuote({\n                  type: \"quote_update_discount\",\n                  booking: booking.id,\n                  value: event.target.value\n                })\n              }\n            />\n\n            <span>&nbsp;</span>\n            <TableLabel>Taxes</TableLabel>\n            <TableValue>{formatCurrency(taxes, \"GBP\")}</TableValue>\n\n            <span>&nbsp;</span>\n            <TableLabel>Grand Total</TableLabel>\n            <TableValue>{formatCurrency(grandTotal, \"GBP\")}</TableValue>\n          </Table>\n        )}\n\n        {/* Notes */}\n\n        <TableSectionHeader title={\"Notes\"} />\n\n        <TableEditableValue\n          // label=\"Notes\"\n          placeholder={\"Optionally leave a note for the customer\"}\n          value={(selectedQuote.note) ? selectedQuote.note : \"\"}\n          longText\n          style={{\n            width: \"100%\"\n          }}\n          onChange={value => {\n            handleChangeQuote({\n              type: \"set_quote_value\",\n              booking: booking.id,\n              key: \"note\",\n              value\n            });\n          }}\n        />\n      </ModalBottomSection>\n    </ModalContainer>\n  );\n};\n\nexport default EditQuote;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport axios from 'axios';\nimport { Table, TableValue } from \"../../../tables/tables\";\nimport { formatEventDate } from \"../../../../utils/dateFormatting\";\nimport { formatCurrency } from \"../../../../utils/numbers\";\nimport OutlinedButton from \"../../../buttons/OutlinedButton\";\nimport addGlyph from \"../../../../images/Glyphs/add.svg\";\nimport { AppReducerContext } from \"../../../../contexts/AppReducerContext\";\nimport DropdownMenu from \"../../../buttons/DropdownMenu\";\nimport colors from \"../../../style/colors\";\nimport { css } from \"emotion\";\nimport Modal from \"../../../modals/modal\";\nimport EditQuote from \"./editQuote\";\n// import SpinnerContainer from \"../../../layout/Spinner\";\n\nimport {\n  REQUEST_GET_BOOKING_QUOTE,\n  GET_BOOKING_QUOTE_SUCCESS,\n  GET_BOOKING_QUOTE_ERROR,\n  REQUEST_CREATE_BOOKING_QUOTE,\n  GET_CREATE_BOOKING_QUOTE_SUCCESS,\n  GET_CREATE_BOOKING_QUOTE_ERROR,\n  REQUEST_UPDATE_BOOKING_QUOTE,\n  UPDATE_BOOKING_QUOTE_SUCCESS,\n  UPDATE_BOOKING_QUOTE_ERROR,\n  REQUEST_DELETE_BOOKING_QUOTE,\n  DELETE_BOOKING_QUOTE_SUCCESS,\n  DELETE_BOOKING_QUOTE_ERROR,\n} from \"../../../../reducers/actionType\";\n\nconst QuotesSection = props => {\n  const { booking, onQuoteConverted } = props;\n  const { state, dispatch } = useContext(AppReducerContext);\n  const [showEditQuoteModal, setShowEditQuoteModal] = useState(null)\n\n  const handleDelete = async (bookingId, quoteId) => {\n    try {\n      dispatch({ type: REQUEST_DELETE_BOOKING_QUOTE });\n\n      const res = await axios.delete(`/bookings/${bookingId}/quotes/${quoteId}`);\n\n      dispatch({\n        type: DELETE_BOOKING_QUOTE_SUCCESS,\n        payload: quoteId,\n      })\n    } catch (err) {\n      dispatch({ type: DELETE_BOOKING_QUOTE_ERROR })\n    }\n  }\n\n  return (\n    <>\n      {\n        showEditQuoteModal !== null && (\n          <Modal\n            isOpen={true}\n            onClose={() => {\n              setShowEditQuoteModal(null);\n            }}\n          >\n            <EditQuote\n              booking={booking}              \n              quoteId={showEditQuoteModal}\n              onEndEditing={() => {setShowEditQuoteModal(null)}}\n            />\n          </Modal>\n        )\n      }      \n      <div\n        className={css`\n          height: 100%;\n        `}\n      >\n        {/*<SpinnerContainer loading={state.bookings.loadingQuotes.toString()} />*/}\n\n        {state.bookings.quotes.length > 0 && (\n          <Table\n            columns=\"50px 120px 100px 120px\"\n            columnTitles={[\"ID\", \"createdAt\", \"Value\", \"\"]}\n          >\n            {state.bookings.quotes.map((quote, index) => {\n              return (\n                <React.Fragment key={index}>\n                  <TableValue>{index + 1}</TableValue>\n                  <TableValue>{formatEventDate(quote.createdAt)}</TableValue>\n                  <TableValue>\n                    {formatCurrency(quote.value, state.settings.companyInfo.currency)}\n                  </TableValue>\n                  <DropdownMenu\n                    items={[\"Edit\", \"Export\", \"Convert to Invoice\", \"Delete\"]}\n                    colors={[colors.grey, colors.grey, colors.grey, \"#D13636\"]}\n                    onItemSelected={item => {\n                      switch (item) {\n                        case \"Delete\":\n                          return handleDelete(booking.id, quote.id);\n                        case \"Edit\":                          \n                          setShowEditQuoteModal(quote.id)\n                          break;\n                        case \"Convert to Invoice\":\n                          onQuoteConverted && onQuoteConverted();\n                          setTimeout(\n                            () =>\n                              dispatch({\n                                type: \"convert_quote_to_invoice\",\n                                booking: booking.id,\n                                quote: index\n                              }),\n                            300\n                          );\n                          break;\n                        case \"Export\":\n                          break;\n                        default:\n                          throw new Error();\n                      }\n                    }}\n                  />\n                </React.Fragment>\n              );\n            })}\n          </Table>\n        )}\n        <br />\n        <OutlinedButton\n          primary\n          icon={addGlyph}\n          onClick={() => {            \n            setShowEditQuoteModal(-1)\n          }}\n        >\n          New Quote\n        </OutlinedButton>\n      </div>\n    </>\n  );\n};\n\nexport default QuotesSection;\n","const invoiceStates = [\"Paid\", \"Pending\", \"Unpaid\"];\nconst invoiceStatesColors = [\"#52DDC2\", \"#F68F56\", \"#E92579\"];\nconst invoicePaymentMethods = [\n  \"Cash\",\n  \"Cheque\",\n  \"Online Payment\",\n  // \"Credit Card\"\n];\n\nexport { invoiceStates, invoiceStatesColors, invoicePaymentMethods };\n","import { addDays } from \"date-fns\";\nimport { createEmptyCostItem } from \"../../../models/bookings\";\nimport { computeCostItemsSummary } from \"../../../utils/costItemsMath\";\n\nfunction invoiceDetailEditReducer(state, action) {\n  switch (action.type) {\n    case \"update_value\": {\n      return {\n        ...state,\n        [action.key]: action.value\n      };\n    }\n    // SLOTS\n    case \"update_slot\": {\n      const newState = { ...state };\n      const slot = state.slots[action.index];\n      slot[action.key] = action.value;\n      return newState;\n    }\n    case \"update_multiday_slot_start\": {\n      const newState = { ...state };\n      const slot = state.slots[action.index];\n      slot.dateRange[0] = action.value;\n      return newState;\n    }\n    case \"update_multiday_slot_end\": {\n      const newState = { ...state };\n      const slot = state.slots[action.index];\n      slot.dateRange[1] = action.value;\n      return newState;\n    }\n    case \"update_slot_start_time\": {\n      const newState = { ...state };\n      const slot = state.slots[action.index];\n      slot.startHour = action.date.getHours();\n      slot.startMinute = action.date.getMinutes();\n      return newState;\n    }\n    case \"update_slot_end_time\": {\n      const newState = { ...state };\n      const slot = state.slots[action.index];\n      slot.endHour = action.date.getHours();\n      slot.endMinute = action.date.getMinutes();\n      return newState;\n    }\n\n    case \"append_slot\":\n      const newState = { ...state };\n      newState.slots.push({\n        kind: \"single-day\",\n        date: action.date || new Date(),\n        startHour: (action.startDate && action.startDate.getHours()) || 9,\n        startMinute: (action.startDate && action.startDate.getMinutes()) || 0,\n        endHour: (action.endDate && action.endDate.getHours()) || 18,\n        endMinute: (action.endDate && action.endDate.getMinutes()) || 0\n      });\n      return newState;\n\n    case \"append_slot_multi\": {\n      const newState = { ...state };\n      newState.slots.push({\n        kind: \"multi-day\",\n        dateRange: [new Date(), addDays(new Date(), 1)],\n        startHour: 9,\n        startMinute: 0,\n        endHour: 18,\n        endMinute: 0\n      });\n      return newState;\n    }\n\n    case \"remove_slot\": {\n      const newState = { ...state };\n      newState.slots.splice(state.index, 1);\n      return newState;\n    }\n\n    // COST ITEMS\n\n    case \"append_cost_item\": {\n      const newState = { ...state };\n      newState.costItems.push(createEmptyCostItem({ vatRate: action.vatRate }));\n\n      newState.grand_total = computeCostItemsSummary(\n        newState.costItems,\n        newState.discount\n      )[2];\n\n      return newState;\n    }\n\n    case \"remove_cost_item\": {\n      const newState = { ...state };\n      newState.costItems.splice(action.index, 1);\n\n      newState.grand_total = computeCostItemsSummary(\n        newState.costItems,\n        newState.discount\n      )[2];\n\n      return newState;\n    }\n\n    case \"update_cost_item\": {\n      const newState = { ...state };\n      const costItem = state.costItems[action.index];\n      costItem[action.key] = action.value;\n\n      newState.costItems = [\n        ...newState.costItems.map((item, nIndex) => {\n          if (nIndex === action.index)\n            return costItem;\n          else return item;\n        })\n      ]\n      newState.grand_total = computeCostItemsSummary(\n        newState.costItems,\n        newState.discount\n      )[2];\n\n      return newState;\n    }\n\n    case \"update_discount\": {\n      const newState = { ...state };\n\n      if (action.value && action.value.length) {\n        try {\n          newState.discount = parseInt(action.value);\n        } catch (err) {\n          newState.discount = 0;\n        }\n      } else {\n        newState.discount = 0;\n      }\n\n      newState.discountText = action.value;\n      newState.grand_total = computeCostItemsSummary(\n        newState.costItems,\n        newState.discount\n      )[2];\n\n      return newState;\n    }\n\n    case \"update_total\": {\n      const newState = { ...state };\n      const grand_total = computeCostItemsSummary(\n        state.costItems,\n        state.discount\n      )[2];\n      newState.grand_total = grand_total;\n      return newState;\n    }\n\n    default:\n      throw new Error();\n  }\n}\n\nexport default invoiceDetailEditReducer;\n","import React, { useReducer, useContext } from \"react\";\nimport H3 from \"../../typography/H3\";\nimport Button from \"../../buttons/Button\";\nimport Grid from \"../../layout/Grid\";\nimport {\n  TableItem,\n  TableSectionHeader,\n  TableValue,\n  Table,\n  TableLabel,\n  TablePicker,\n  TableEditableValue\n} from \"../../tables/tables\";\nimport {\n  ModalContainer,\n  ModalTopSection,\n  ModalTitleAndButtons,\n  ModalBottomSection\n} from \"../../modals/containers\";\nimport { formatEventDate } from \"../../../utils/dateFormatting\";\nimport { invoicePaymentMethods } from \"../../../models/invoices\";\nimport { AppReducerContext } from \"../../../contexts/AppReducerContext\";\nimport { formatCurrency } from \"../../../utils/numbers\";\nimport { computeCostItemsSummary } from \"../../../utils/costItemsMath\";\nimport invoiceDetailEditReducer from \"./invoiceDetailEditReducer\";\nimport DatePicker from \"react-datepicker\";\nimport { updatedDate } from \"../../../utils/dates\";\nimport SvgButton from \"../../buttons/SvgButton\";\nimport styled from \"styled-components\";\nimport OutlinedButton from \"../../buttons/OutlinedButton\";\nimport colors from \"../../style/colors\";\nimport RemoveSvg from \"../../../images/ui/remove.svg\";\nimport AddGlyph from \"../../../images/Glyphs/AddGlyph\";\nimport SpinnerContainer from \"../../../components/layout/Spinner\"\n\nconst SvgButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst InvoiceDetailEdit = props => {\n  const { invoice: invoiceBeingEdited, onEndEditing } = props;\n  const { state } = useContext(AppReducerContext);\n  const [invoice, dispatch] = useReducer(\n    invoiceDetailEditReducer,\n    invoiceBeingEdited\n  );\n\n  const [netSubtotal, taxes, grandTotal] = computeCostItemsSummary(\n    invoice.costItems,\n    invoice.discount\n  );\n  \n  const getBookingTitle = (bookingId) => {\n    const filteredBooking = state.bookings.bookings.filter(item => item.id === bookingId)\n    if (filteredBooking.length > 0)\n      return filteredBooking[0].eventName;\n    else return '';\n  }\n\n  return (\n    <ModalContainer>\n      <ModalTopSection>\n        <ModalTitleAndButtons>\n          <H3 style={{ margin: 0 }}>Invoice #{invoice.number || props.invoice.coordinates.index + 1}</H3>\n          <div>\n            <Button\n              style={{ marginRight: 10 }}\n              onClick={() => onEndEditing(invoice, false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              primary\n              style={{ marginRight: 10 }}\n              onClick={() => onEndEditing(invoice, true)}\n            >\n              Save\n            </Button>\n          </div>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n\n      <ModalBottomSection>\n        <SpinnerContainer loading={state.bookings.loadingInvoice.toString()} />\n        <Grid columns=\"1fr 1fr\" style={{ width: \"100%\" }}>\n          <TableItem\n            label={\"Created\"}\n            value={formatEventDate(invoice.created)}\n          />\n          <TableItem \n            label={\"Booking\"} \n            value={getBookingTitle(invoice.booking.id)} \n          />\n          <TableItem\n            label={\"Customer\"}\n            // value={\n            //   (invoice.customerId && state.customers.customers && state.customers.customers.find(c => c.id === invoice.customerId) &&\n            //     state.customers.customers.find(c => c.id === invoice.customerId).name) || \"N/A\"\n            // }\n            value={invoice.booking.customer.name}\n          />\n          <TablePicker\n            label=\"Payment Method\"\n            options={invoicePaymentMethods}\n            selectedOption={invoice.payment_method}\n            onOptionSelected={value => {\n              dispatch({\n                type: \"update_value\",\n                key: \"payment_method\",\n                value: value\n              });\n            }}\n          />\n        </Grid>\n\n        {/* Booking Slots */}\n        <TableSectionHeader title={\"Booking Slots\"} />\n        {invoice.slots && invoice.slots.length > 0 && (\n          <Table\n            columns=\"1fr 1fr 1fr auto\"\n            columnTitles={[\"Date\", \"Start\", \"End\", \"\"]}\n          >\n            {invoice.slots\n              .map((slot, slotIndex) => {\n                switch (slot.kind) {\n                  case \"multi-day\":\n                    const startDate = slot.dateRange[0];\n                    const endDate = slot.dateRange[slot.dateRange.length - 1];\n                    return (\n                      <React.Fragment key={slotIndex}>\n                        <div style={{ display: \"flex\" }}>\n                          <DatePicker\n                            selected={new Date(startDate).getTime()}\n                            startDate={startDate}\n                            endDate={endDate}\n                            selectsEnd\n                            onChange={date => {\n                              dispatch({\n                                type: \"update_multiday_slot_start\",\n                                index: slotIndex,\n                                value: date\n                              });\n                            }}\n                            dateFormat=\"dd/MM/yyyy\"\n                          />\n                          <DatePicker\n                            selected={new Date(endDate).getTime()}\n                            startDate={startDate}\n                            endDate={endDate}\n                            minDate={startDate}\n                            selectsEnd\n                            onChange={date => {\n                              dispatch({\n                                type: \"update_multiday_slot_end\",\n                                index: slotIndex,\n                                value: date\n                              });\n                            }}\n                            dateFormat=\"dd/MM/yyyy\"\n                          />\n                        </div>\n                        <DatePicker\n                          selected={updatedDate(\n                            new Date(),\n                            slot.startHour,\n                            slot.startMinute\n                          )}\n                          onChange={date => {\n                            dispatch({\n                              type: \"update_slot_start_time\",\n                              index: slotIndex,\n                              key: \"date\",\n                              date: date\n                            });\n                          }}\n                          showTimeSelect\n                          showTimeSelectOnly\n                          timeIntervals={15}\n                          dateFormat=\"h:mm aa\"\n                        />\n                        <DatePicker\n                          selected={updatedDate(\n                            new Date(),\n                            slot.endHour,\n                            slot.endMinute\n                          )}\n                          onChange={date => {\n                            dispatch({\n                              type: \"update_slot_end_time\",\n                              index: slotIndex,\n                              key: \"date\",\n                              date: date\n                            });\n                          }}\n                          showTimeSelect\n                          showTimeSelectOnly\n                          timeIntervals={15}\n                          dateFormat=\"h:mm aa\"\n                        />\n                        <SvgButtonWrapper>\n                          <SvgButton\n                            svg={RemoveSvg}\n                            width={20}\n                            height={20}\n                            onClick={() => {\n                              dispatch({\n                                type: \"remove_slot\",\n                                index: slotIndex\n                              });\n                            }}\n                          />\n                        </SvgButtonWrapper>\n                      </React.Fragment>\n                    );\n                  case \"single-day\":\n                    return (\n                      <React.Fragment key={slotIndex}>\n                        <DatePicker\n                          selected={new Date(slot.date).getTime()}\n                          onChange={date => {\n                            dispatch({\n                              type: \"update_slot\",\n                              index: slotIndex,\n                              key: \"date\",\n                              value: date\n                            });\n                          }}\n                          dateFormat=\"dd/MM/yyyy\"\n                        />\n                        <DatePicker\n                          selected={updatedDate(\n                            new Date(),\n                            slot.startHour,\n                            slot.startMinute\n                          )}\n                          onChange={date => {\n                            dispatch({\n                              type: \"update_slot_start_time\",\n                              index: slotIndex,\n                              key: \"date\",\n                              date: date\n                            });\n                          }}\n                          showTimeSelect\n                          showTimeSelectOnly\n                          timeIntervals={15}\n                          dateFormat=\"h:mm aa\"\n                        />\n                        <DatePicker\n                          selected={updatedDate(\n                            new Date(),\n                            slot.endHour,\n                            slot.endMinute\n                          )}\n                          onChange={date => {\n                            dispatch({\n                              type: \"update_slot_end_time\",\n                              index: slotIndex,\n                              key: \"date\",\n                              date: date\n                            });\n                          }}\n                          showTimeSelect\n                          showTimeSelectOnly\n                          timeIntervals={15}\n                          dateFormat=\"h:mm aa\"\n                        />\n                        <SvgButtonWrapper>\n                          <SvgButton\n                            svg={RemoveSvg}\n                            width={20}\n                            height={20}\n                            onClick={() => {\n                              dispatch({\n                                type: \"remove_slot\",\n                                index: slotIndex\n                              });\n                            }}\n                          />\n                        </SvgButtonWrapper>\n                      </React.Fragment>\n                    );\n                  default:\n                    throw new Error();\n                }\n              })\n              .flat()}\n          </Table>\n        )}\n        <div style={{ display: \"flex\" }}>\n          <OutlinedButton\n            style={{ marginTop: 10 }}\n            onClick={() => {\n              dispatch({\n                type: \"append_slot\"\n              });\n            }}\n            iconComponent={() => <AddGlyph fill={colors.grey} />}\n          >\n            Add Single Date\n          </OutlinedButton>\n          <OutlinedButton\n            style={{ marginTop: 10, marginLeft: 10 }}\n            onClick={() => {\n              dispatch({\n                type: \"append_slot_multi\"\n              });\n            }}\n            iconComponent={() => <AddGlyph fill={colors.grey} />}\n          >\n            Add Date Range\n          </OutlinedButton>\n        </div>\n\n        {/* COST ITEMS */}\n        <TableSectionHeader title={\"Cost Items\"} />\n        {invoice.costItems && invoice.costItems.length > 0 && (\n          <Table\n            columns=\"2fr 2fr 0.5fr 0.8fr 1fr 1fr auto\"\n            columnTitles={[\n              \"Name\",\n              \"Description\",\n              \"Quantity\",\n              \"VAT Rate (%)\",\n              \"Unit Price\",\n              \"Total\",\n              \"\"\n            ]}\n          >\n            {invoice.costItems && invoice.costItems.map((item, costItemIndex) => {\n              return (\n                <React.Fragment key={costItemIndex}>\n                  <TableEditableValue\n                    value={item.name}\n                    placeholder=\"Item Name\"\n                    tabIndex=\"0\"\n                    onChange={value =>\n                      dispatch({\n                        type: \"update_cost_item\",\n                        key: \"name\",\n                        value: value,\n                        index: costItemIndex\n                      })\n                    }\n                  />\n                  <TableEditableValue\n                    value={item.description}\n                    placeholder=\"Description\"\n                    tabIndex=\"1\"\n                    onChange={value =>\n                      dispatch({\n                        type: \"update_cost_item\",\n                        key: \"description\",\n                        value: value,\n                        index: costItemIndex\n                      })\n                    }\n                  />\n                  <TableEditableValue\n                    value={item.quantity}\n                    placeholder=\"Quantity\"\n                    type=\"number\"\n                    onChange={value => {\n                      dispatch({\n                        type: \"update_cost_item\",\n                        key: \"quantity\",\n                        value: value,\n                        index: costItemIndex\n                      });\n                    }}\n                  />\n                  <TableEditableValue\n                    value={item.vatRateText}\n                    placeholder=\"VAT\"\n                    type=\"number\"\n                    onChange={value => {\n                      dispatch({\n                        type: \"update_cost_item\",\n                        key: \"vatRate\",\n                        value:\n                          (value &&\n                            value.length &&\n                            parseFloat(value).toFixed(2)) ||\n                          0,\n                        index: costItemIndex\n                      });\n                      dispatch({\n                        type: \"update_cost_item\",\n                        key: \"vatRateText\",\n                        value: value,\n                        index: costItemIndex\n                      });\n                    }}\n                  />\n                  <TableEditableValue\n                    value={item.unitPrice}\n                    placeholder=\"Unit Price\"\n                    type=\"number\"\n                    onChange={value => {\n                      dispatch({\n                        type: \"update_cost_item\",\n                        key: \"unitPrice\",\n                        value: value,\n                        index: costItemIndex\n                      });                      \n                    }}\n                  />\n\n                  <TableValue>\n                    {formatCurrency(\n                      item.unitPrice * item.quantity * (1 + item.vatRate / 100),\n                      state.settings.companyInfo.currency\n                    )}\n                  </TableValue>\n\n                  <SvgButtonWrapper>\n                    <SvgButton\n                      svg={RemoveSvg}\n                      width={20}\n                      height={20}\n                      onClick={() => {\n                        dispatch({\n                          type: \"remove_cost_item\",\n                          index: costItemIndex\n                        });\n                      }}\n                    />\n                  </SvgButtonWrapper>\n                </React.Fragment>\n              );\n            })}\n          </Table>\n        )}\n        <OutlinedButton\n          style={{ marginTop: 10 }}\n          onClick={() => {\n            dispatch({\n              type: \"append_cost_item\",\n              vatRate: state.settings.companyInfo.vatRate,              \n            });\n          }}\n          iconComponent={() => <AddGlyph fill={colors.grey} />}\n        >\n          Add Cost Item\n        </OutlinedButton>\n\n        <Table\n          rows=\"auto auto auto auto\"\n          columns=\"4fr 1fr\"\n          gap=\"0.8em\"\n          style={{ marginTop: \"2em\" }}\n        >\n          <TableLabel tall right>\n            Net subtotal\n          </TableLabel>\n          <TableValue>\n            {formatCurrency(netSubtotal || 0, state.settings.companyInfo.currency)}\n          </TableValue>\n\n          <TableLabel tall right>\n            Discount (%)\n          </TableLabel>\n          <input\n            style={{\n              fontFamily: \"Circular Std\",\n              fontSize: \"0.9em\",\n              width: 80,\n              padding: 3\n            }}\n            type=\"number\"\n            value={invoice.discountText || invoice.discount || \"\"}\n            placeholder={\"Discount\"}\n            onChange={event =>\n              dispatch({\n                type: \"update_discount\",\n                value: event.target.value\n              })\n            }\n          />\n\n          <TableLabel tall right>\n            Taxes\n          </TableLabel>\n          <TableValue>\n            {formatCurrency(taxes || 0, state.settings.companyInfo.currency)}\n          </TableValue>\n\n          <TableLabel tall right>\n            Grand Total\n          </TableLabel>\n          <TableValue>\n            {formatCurrency(grandTotal || 0, state.settings.companyInfo.currency)}\n          </TableValue>\n        </Table>\n      </ModalBottomSection>\n    </ModalContainer>\n  );\n};\n\nexport default InvoiceDetailEdit;\n","import React, { useState, useContext } from \"react\";\nimport H3 from \"../../typography/H3\";\nimport Button from \"../../buttons/Button\";\nimport Grid from \"../../layout/Grid\";\nimport {\n  TableItem,\n  TableSectionHeader,\n  TableValue,\n  Table,\n  TableLabel\n} from \"../../tables/tables\";\nimport {\n  ModalContainer,\n  ModalTopSection,\n  ModalTitleAndButtons,\n  ModalBottomSection\n} from \"../../modals/containers\";\nimport {\n  formatEventDate,\n  formatSlotStartEndTime\n} from \"../../../utils/dateFormatting\";\nimport PickerButton from \"../../buttons/PickerButton\";\nimport { invoiceStates, invoiceStatesColors } from \"../../../models/invoices\";\nimport { AppReducerContext } from \"../../../contexts/AppReducerContext\";\nimport { formatPercentage, formatCurrency } from \"../../../utils/numbers\";\nimport { computeCostItemsSummary } from \"../../../utils/costItemsMath\";\nimport InvoiceDetailEdit from \"./invoiceDetailEdit\";\n\nconst InvoiceDetail = props => {\n  const { invoice: invoiceCoordinates, handleUpdate } = props;\n  const [editing, setEditing] = useState(\n    // true\n    false\n  );\n  const { state, dispatch } = useContext(AppReducerContext);\n\n  if (!invoiceCoordinates) {\n    return null;\n  }\n\n  const booking = state.bookings.bookings && state.bookings.bookings.find(b => b.id === invoiceCoordinates.booking);\n  const invoice = {\n    ...state.bookings.invoices[invoiceCoordinates.index],\n    coordinates: invoiceCoordinates,\n    booking: booking\n  };\n\n  const getBookingTitle = (bookingId) => {\n    const filteredBooking = state.bookings.bookings.filter(item => item.id === bookingId)\n    if (filteredBooking.length > 0)\n      return filteredBooking[0].eventName;\n    else return '';\n  }\n\n  if (editing) {\n    return (\n      <InvoiceDetailEdit\n        invoice={invoice}\n        onEndEditing={(editedInvoice, save) => {\n          if (save) {\n            // dispatch({\n            //   type: \"update_invoice\",\n            //   ...invoiceCoordinates,\n            //   invoice: editedInvoice\n            // });\n            handleUpdate(editedInvoice, save)\n          }\n          setEditing(false);\n        }}\n      />\n    );\n  }\n\n  const [netSubtotal, taxes, grandTotal] = computeCostItemsSummary(\n    invoice.costItems,\n    invoice.discount\n  );\n\n  return (\n    <ModalContainer>\n      <ModalTopSection>\n        <ModalTitleAndButtons>\n          <H3 style={{ margin: 0 }}>Invoice #{props.invoice.index + 1}</H3>\n          <div>\n            <PickerButton\n              style={{ minWidth: 80, marginRight: 10 }}\n              options={invoiceStates}\n              colors={invoiceStatesColors}\n              selectedOption={invoice.status}\n              onOptionSelected={opt => {\n                dispatch({\n                  type: \"update_invoice_status\",\n                  ...invoice.coordinates,\n                  status: opt\n                });\n                handleUpdate(invoice, true, opt);\n              }}\n            />\n            <Button style={{ marginRight: 10 }}>Export</Button>\n            <Button\n              primary\n              style={{ marginRight: 10 }}\n              onClick={() => setEditing(!editing)}\n            >\n              Edit\n            </Button>\n          </div>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n\n      <ModalBottomSection>\n        <Grid columns=\"1fr 1fr\" style={{ width: \"100%\" }}>\n          <TableItem\n            label={\"Created\"}\n            value={formatEventDate(invoice.created)}\n          />\n          <TableItem label={\"Booking\"} value={getBookingTitle(invoice.BookingId)} />\n          <TableItem\n            label={\"Customer\"}\n            value={\n              (invoice.customerId && state.customers.customers && state.customers.customers.find(c => c.id === invoice.customerId) &&\n                state.customers.customers.find(c => c.id === invoice.customerId).name) || \"N/A\"\n            }\n          />\n          <TableItem\n            label={\"Payment Method\"}\n            value={invoice.payment_method || \"N/A\"}\n          />\n        </Grid>\n\n        <TableSectionHeader title={\"Booking Slots\"} />\n        <Table columns=\"20% auto\" columnTitles={[\"Date\", \"Time\"]}>\n          {invoice.slots.length > 0 && invoice.slots\n            .map(slot => {\n              switch (slot.kind) {\n                case \"multi-day\":\n                  return slot.dateRange.map(date => (\n                    <React.Fragment key={invoice.number + date.toString()}>\n                      <TableValue>{formatEventDate(date)}</TableValue>\n                      <TableValue>\n                        {formatSlotStartEndTime(date, slot)}\n                      </TableValue>\n                    </React.Fragment>\n                  ));\n                case \"single-day\":\n                  return (\n                    <React.Fragment key={invoice.number + slot.date.toString()}>\n                      <TableValue>{formatEventDate(slot.date)}</TableValue>\n                      <TableValue>\n                        {formatSlotStartEndTime(slot.date, slot)}\n                      </TableValue>\n                    </React.Fragment>\n                  );\n                default:\n                  throw new Error();\n              }\n            })\n            .flat()}\n        </Table>\n\n        <TableSectionHeader title={\"Cost Items\"} />\n        <Table\n          columns=\"2fr 2fr 1fr 1fr 1fr 1fr\"\n          columnTitles={[\n            \"Name\",\n            \"Description\",\n            \"Quantity\",\n            \"Unit Price\",\n            \"VAT Rate\",\n            \"Total\"\n          ]}\n        >\n          {invoice.costItems && invoice.costItems.map((item, index) => {\n            return (\n              <React.Fragment key={index}>\n                <TableValue>{item.name}</TableValue>\n                <TableValue>\n                  {!!item.description ? item.description : \"No description\"}\n                </TableValue>\n                <TableValue>{item.quantity}</TableValue>\n                <TableValue>{item.unitPrice}</TableValue>\n                <TableValue>{formatPercentage(item.vatRate / 100)}</TableValue>\n                <TableValue>\n                  {formatCurrency(\n                    item.unitPrice * item.quantity * (1 + item.vatRate / 100),\n                    state.settings.companyInfo.currency\n                  )}\n                </TableValue>\n              </React.Fragment>\n            );\n          })}\n        </Table>\n\n        <Table\n          rows=\"auto auto auto auto\"\n          columns=\"4fr 1fr 1fr\"\n          gap=\"0.8em\"\n          style={{ marginTop: \"2em\" }}\n        >\n          <span>&nbsp;</span>\n          <TableLabel tall right>\n            Net subtotal\n          </TableLabel>\n          <TableValue>\n            {formatCurrency(netSubtotal || 0, state.settings.companyInfo.currency)}\n          </TableValue>\n\n          <span>&nbsp;</span>\n          <TableLabel tall right>\n            Discount\n          </TableLabel>\n          <TableValue>{formatPercentage(invoice.discount / 100)}</TableValue>\n\n          <span>&nbsp;</span>\n          <TableLabel tall right>\n            Taxes\n          </TableLabel>\n          <TableValue>\n            {formatCurrency(taxes || 0, state.settings.companyInfo.currency)}\n          </TableValue>\n\n          <span>&nbsp;</span>\n          <TableLabel tall right>\n            Grand Total\n          </TableLabel>\n          <TableValue>\n            {formatCurrency(grandTotal || 0, state.settings.companyInfo.currency)}\n          </TableValue>\n        </Table>\n      </ModalBottomSection>\n    </ModalContainer>\n  );\n};\n\nexport default InvoiceDetail;\n","import React, { useContext } from \"react\";\nimport InvoiceDetailEdit from \"./invoiceDetailEdit\";\nimport { createEmptyInvoice } from \"../../../models/bookings\";\nimport { AppReducerContext } from \"../../../contexts/AppReducerContext\";\n\nconst NewInvoice = props => {\n  const { booking, onEndEditing, invoiceNumber } = props;\n  // const { dispatch } = useContext(AppReducerContext);\n  const newInvoice = createEmptyInvoice(invoiceNumber, booking);\n\n  return (\n    <InvoiceDetailEdit\n      invoice={newInvoice}\n      onEndEditing={(invoice, save) => {\n        if (save) {\n          // dispatch({\n          //   type: \"append_invoice\",\n          //   booking: booking.id,\n          //   invoice: invoice\n          // });\n        }\n        onEndEditing(save, invoice);\n      }}\n    />\n  );\n};\n\nexport default NewInvoice;\n","import React from \"react\";\nimport {\n  StripeProvider,\n  CardNumberElement,\n  CardExpiryElement,\n  CardCVCElement,\n  Elements,\n  injectStripe,\n} from 'react-stripe-elements';\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nconst handleBlur = () => {\n  console.log('[blur]');\n};\nconst handleChange = (change) => {\n  console.log('[change]', change);\n};\n// const handleClick = () => {\n//   console.log('[click]');\n// };\nconst handleFocus = () => {\n  console.log('[focus]');\n};\nconst handleReady = () => {\n  console.log('[ready]');\n};\n\nconst createOptions = (fontSize, padding) => {\n  return {\n    style: {\n      base: {\n        fontSize,\n        color: '#424770',\n        letterSpacing: '0.025em',\n        fontFamily: 'Source Code Pro, monospace',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n        padding,\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n  };\n};\n\nconst StyledLabel = styled.label`\n  font-size: 0.82em;\n  font-weight: 500;\n  line-height: 1.55;\n  color: #93989F;\n  margin-top: 1.4rem;\n  display: block;  \n`;\n\nconst StyledButton = styled.button`\n  display: -webkit-inline-box;\n  display: -webkit-inline-flex;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  font-size: 1em;\n  text-align: center;\n  border: 1px solid #E6E8E9;\n  border-radius: 0.25em;\n  height: 34px;\n  padding: 0 0.7em;\n  width: auto;\n  -webkit-flex: 0 0 auto;\n  -ms-flex: 0 0 auto;\n  flex: 0 0 auto;\n  background: #ffffff;\n  color: #93989F;\n  box-shadow: 0px 1.5px 1px rgba(0,0,0,0.05);\n  border-color: #E92579;\n  background: #E92579;\n  box-shadow: 0px 2px 2px rgba(202,97,142,0.3);\n  cursor: pointer;\n  outline: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-animation: 1s 0.3s linear infinite;\n  animation: 1s 0.3s linear infinite;\n  -webkit-animation-timing-function: ease-in-out;\n  animation-timing-function: ease-in-out;\n  color: white;\n  margin-top: 1.4rem;\n\n  &:active {\n    opacity: 0.8;\n  }\n\n  input {\n    display: block;\n    margin: 10px 0 20px 0;\n    max-width: 500px;\n    padding: 10px 14px;\n    font-size: 1em;\n    font-family: 'Source Code Pro', monospace;\n    box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px, rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\n    border: 0;\n    outline: 0;\n    border-radius: 4px;\n    background: white;\n    \n    &:focus {\n      box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px, rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\n      -webkit-transition: all 150ms ease;\n      transition: all 150ms ease;    \n    }\n  }\n`;\n\nclass _SplitForm extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault();\n    let vm = this;\n    if (this.props.stripe) {\n      this.props.stripe\n        .createToken()\n        .then((res) => \n          {\n            let payload = {};\n            payload.stripeToken = res.token;\n            payload.amount = parseInt(vm.props.chargeData.amount);\n            payload.currency = vm.props.chargeData.currency;\n            payload.id = vm.props.chargeData.id;\n            axios.post('/stripe/transferCardFunds', payload).then(\n              resCharge => {\n                this.props.closeModal();\n              }\n            )            \n          }\n        );\n    } else {\n      console.log(\"Stripe.js hasn't loaded yet.\");\n    }\n  };\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <StyledLabel>\n          Card number\n          <CardNumberElement\n            onBlur={handleBlur}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onReady={handleReady}\n            {...createOptions(this.props.fontSize)}\n          />\n        </StyledLabel>\n        <StyledLabel>\n          Expiration date\n          <CardExpiryElement\n            onBlur={handleBlur}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onReady={handleReady}\n            {...createOptions(this.props.fontSize)}\n          />\n        </StyledLabel>\n        <StyledLabel>\n          CVC\n          <CardCVCElement\n            onBlur={handleBlur}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onReady={handleReady}\n            {...createOptions(this.props.fontSize)}\n          />\n        </StyledLabel>\n        <StyledButton>\n          Pay With Credit Card\n        </StyledButton>\n      </form>\n    );\n  }\n}\nconst SplitForm = injectStripe(_SplitForm);\n\nclass Checkout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      elementFontSize: window.innerWidth < 450 ? '14px' : '18px',\n    };\n    window.addEventListener('resize', () => {\n      if (window.innerWidth < 450 && this.state.elementFontSize !== '14px') {\n        this.setState({elementFontSize: '14px'});\n      } else if (\n        window.innerWidth >= 450 &&\n        this.state.elementFontSize !== '18px'\n      ) {\n        this.setState({elementFontSize: '18px'});\n      }\n    });\n  }\n\n  render() {\n    const {elementFontSize} = this.state;\n    return (\n      <div className=\"Checkout\" style={{width: '100%'}}>\n        <Elements>\n          <SplitForm \n            fontSize={elementFontSize} \n            chargeData={this.props.chargeData}\n            closeModal={this.props.closeModal}\n          />\n        </Elements>\n      </div>\n    );\n  }\n}\n\nconst StripeApp = ({stripe_pk_key, chargeData, closeModal}) => {\n  return (\n    <StripeProvider apiKey={stripe_pk_key}>\n      <Checkout chargeData={chargeData} closeModal={closeModal}/>\n    </StripeProvider>\n  );\n};\n\nexport default StripeApp;","import React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Table, TableValue, TableEditableValue } from \"../../../tables/tables\";\nimport { formatEventDate } from \"../../../../utils/dateFormatting\";\nimport { formatCurrency } from \"../../../../utils/numbers\";\nimport OutlinedButton from \"../../../buttons/OutlinedButton\";\nimport addGlyph from \"../../../../images/Glyphs/add.svg\";\nimport PickerButton from \"../../../buttons/PickerButton\";\nimport { AppReducerContext, initialState, reducer } from \"../../../../contexts/AppReducerContext\";\nimport DropdownMenu from \"../../../buttons/DropdownMenu\";\nimport colors from \"../../../style/colors\";\nimport SvgButton from \"../../../buttons/SvgButton\";\nimport viewGlyph from \"../../../../images/Glyphs/view.svg\";\nimport Modal from \"../../../modals/modal\";\nimport InvoiceDetail from \"../../invoices/invoiceDetail\";\nimport NewInvoice from \"../../invoices/newInvoice\";\nimport {\n  DELETE_BOOKING_INVOICE_ERROR,\n  DELETE_BOOKING_INVOICE_SUCCESS,\n  GET_BOOKING_INVOICE_ERROR,\n  GET_BOOKING_INVOICE_SUCCESS,\n  GET_CREATE_BOOKING_INVOICE_ERROR, GET_CREATE_BOOKING_INVOICE_SUCCESS,\n  REQUEST_CREATE_BOOKING_INVOICE, REQUEST_DELETE_BOOKING_INVOICE, REQUEST_GET_BOOKING_INVOICE,\n  REQUEST_UPDATE_BOOKING_INVOICE,\n  UPDATE_BOOKING_INVOICE_ERROR,\n  UPDATE_BOOKING_INVOICE_SUCCESS,\n} from \"../../../../reducers/actionType\";\nimport SpinnerContainer from \"../../../layout/Spinner\";\nimport { ModalContainer, ModalTopSection, ModalBottomSection, ModalTitleAndButtons } from \"../../../modals/containers\";\nimport H3 from \"../../../typography/H3\";\nimport Button from \"../../../buttons/Button\";\nimport CONFIG from '../../../../config';\nimport StripeApp from \"../../../stripe/stripeApp\";\n\nconst INVOICE_STATUSES = [\"Unpaid\", \"Pending\", \"Paid\"];\n\nconst InvoicesSection = props => {\n\n\n  const { booking } = props;\n  const { state, dispatch } = useContext(AppReducerContext);\n  const rootState = state;\n\n  const [invoiceStatuses, setInvoiceStatuses] = useState({});\n\n  const [selectedInvoiceCoordinates, setSelectedInvoiceCoordinates] = useState(\n    null\n  );\n\n  const [showCreateInvoiceModal, setshowCreateInvoiceModal] = useState(false);\n  const [showCreditCardInfoModal, setShowCreditCardInfoModal] = useState(false);\n  const [invoiceState, setInvoiceState] = useState(null);\n\n  const [paid, setPaid] = useState(false);\n\n  const [selectedChargeData, setSelectedChargeData] = useState({});\n\n  useEffect(() => {\n    const getInvoice = async () => {\n\n      try {\n        dispatch({ type: REQUEST_GET_BOOKING_INVOICE })\n\n        const res = await axios.get(`/bookings/${booking.id}/invoices`);\n\n        dispatch({\n          type: GET_BOOKING_INVOICE_SUCCESS,\n          payload: res.data.invoices,\n        })\n      } catch (err) {\n        dispatch({ GET_BOOKING_INVOICE_ERROR })\n      }\n    }\n    // getInvoice();\n  }, [])\n\n  const handleSave = async (shouldSave, invoice) => {\n\n    if (shouldSave) {\n      try {\n        const config = {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        };\n\n        const saveOne = { ...invoice };\n\n        setInvoiceState(saveOne);\n\n        dispatch({ type: REQUEST_CREATE_BOOKING_INVOICE })\n\n        const res = await axios.post(\n          `/bookings/${booking.id}/invoices`,\n          {\n            slots: JSON.stringify(saveOne.slots),\n            cost_items: JSON.stringify(saveOne.costItems),\n            value: saveOne.value,\n            payment_method: saveOne.payment_method,\n            discount: saveOne.discount,\n            customerId: booking.customerId,\n            createdAt: saveOne.createdAtAt,\n            sub_total: saveOne.amount,\n            // tax: saveOne.amount,\n            grand_total: saveOne.grand_total,\n            status: \"Unpaid\",\n          },\n          config\n        )\n\n        dispatch({\n          type: GET_CREATE_BOOKING_INVOICE_SUCCESS,\n          payload: res.data.invoice\n        })\n        if (saveOne.payment_method === 'Credit Card' && rootState.auth.user.stripe_public_key && rootState.auth.user.stripe_public_key.length) {\n          setSelectedChargeData({\n            amount: Number(saveOne.amount.toFixed(2)) * 100,\n            currency: rootState.settings.companyInfo.currency.length ? rootState.settings.companyInfo.currency : \"USD\",\n            id: res.data.invoice.id,\n          })\n          setShowCreditCardInfoModal(true);\n        } else if (saveOne.payment_method === 'Online Payment' && rootState.auth.user.stripe_status !== 0) {\n          const resPay = await axios.post(\n            '/bookings/transferFunds',\n            {\n              amount: Number(saveOne.amount.toFixed(2)) * 100,\n              currency: rootState.settings.companyInfo.currency.length ? rootState.settings.companyInfo.currency : \"USD\",\n              id: res.data.invoice.id,\n            }\n          )\n           \n          if (resPay.data.success) {              \n            dispatch({ type: REQUEST_UPDATE_BOOKING_INVOICE })\n\n            const resOne = await axios.put(\n              `/bookings/${booking.id}/invoices/${res.data.invoice.id}`,\n              {                \n                slots: JSON.stringify(saveOne.slots),\n                cost_items: JSON.stringify(saveOne.costItems),\n                value: saveOne.value,\n                payment_method: saveOne.payment_method,\n                discount: saveOne.discount,\n                customerId: booking.customerId,\n                createdAt: saveOne.createdAtAt,\n                sub_total: saveOne.amount,\n                // tax: saveOne.amount,\n                grand_total: saveOne.grand_total,\n                status: 'Paid',\n              },\n              config\n            )\n\n            dispatch({\n              type: UPDATE_BOOKING_INVOICE_SUCCESS,\n              payload: resOne.data.invoice\n            })\n          }\n        } \n\n      } catch (err) {\n        dispatch({ type: GET_CREATE_BOOKING_INVOICE_ERROR });\n      }\n    }\n    setshowCreateInvoiceModal(false);\n  }\n\n  const handleUpdate = async (invoice, shouldSave) => {\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      \n      dispatch({ type: REQUEST_UPDATE_BOOKING_INVOICE })\n\n      const res = await axios.put(\n        `/bookings/${booking.id}/invoices/${invoice.id}`,\n        {\n          slots: JSON.stringify(invoice.slots),\n          cost_items: JSON.stringify(invoice.costItems),\n          value: invoice.value,\n          payment_method: invoice.payment_method,\n          discount: invoice.discount,\n          customerId: booking.customerId,\n          sub_total: invoice.sub_total,\n          // tax: saveOne.amount,\n          grand_total: invoice.grand_total,\n          status: \"Pending\",\n        },\n        config\n      )\n      dispatch({\n        type: UPDATE_BOOKING_INVOICE_SUCCESS,\n        payload: res.data.invoice\n      })\n\n      if (invoice.payment_method === 'Credit Card' && rootState.auth.user.stripe_public_key && rootState.auth.user.stripe_public_key.length) {\n        setSelectedChargeData({\n          amount: Number(invoice.sub_total.toFixed(2)) * 100,\n          currency: rootState.settings.companyInfo.currency.length ? rootState.settings.companyInfo.currency : \"USD\",\n          id: invoice.id,\n        })\n        setShowCreditCardInfoModal(true);\n      } else if (invoice.payment_method === 'Online Payment') {\n        const res = await axios.post(\n          '/bookings/transferFunds',\n          {\n            amount: Number(invoice.sub_total.toFixed(2)) * 100,\n            currency: rootState.settings.companyInfo.currency.length ? rootState.settings.companyInfo.currency : \"USD\",\n            id: invoice.id,\n          }\n        ).then(async (res) => {\n          if (res.data.success) {\n            dispatch({ type: REQUEST_UPDATE_BOOKING_INVOICE })\n\n            const resOne = await axios.put(\n              `/bookings/${booking.id}/invoices/${invoice.id}`,\n              {\n                slots: JSON.stringify(invoice.slots),\n                cost_items: JSON.stringify(invoice.costItems),\n                value: invoice.value,\n                payment_method: invoice.payment_method,\n                discount: invoice.discount,\n                customerId: booking.customerId,\n                sub_total: invoice.sub_total,\n                // tax: saveOne.amount,\n                grand_total: invoice.grand_total,\n                status: \"Paid\",\n              },\n              config\n            )\n            dispatch({\n              type: UPDATE_BOOKING_INVOICE_SUCCESS,\n              payload: resOne.data.invoice\n            })  \n          }\n        });\n      }\n    } catch (err) {\n      dispatch({ type: UPDATE_BOOKING_INVOICE_ERROR });\n    }\n  }\n\n  const handleDelete = async (invoiceId) => {\n    try {\n      dispatch({ type: REQUEST_DELETE_BOOKING_INVOICE });\n\n      const res = await axios.delete(`/bookings/${booking.id}/invoices/${invoiceId}`);\n\n      dispatch({\n        type: DELETE_BOOKING_INVOICE_SUCCESS,\n        payload: invoiceId,\n      })\n    } catch (err) {\n      dispatch({ type: DELETE_BOOKING_INVOICE_ERROR })\n    }\n  }\n\n  const hideCreditModal = async () => {\n    dispatch({ type: REQUEST_UPDATE_BOOKING_INVOICE })\n    try {\n      const res = await axios.put(\n        `/bookings/${booking.id}/invoices/${selectedChargeData.id}`,\n        {status: \"Paid\"}\n      )\n        \n      dispatch({ \n        type: UPDATE_BOOKING_INVOICE_SUCCESS,\n        payload: res.data.invoice,\n      })\n    } catch (err) {\n      dispatch({ type: UPDATE_BOOKING_INVOICE_ERROR })\n    }\n    setShowCreditCardInfoModal(false)\n  }\n\n  return (\n    <>\n      <SpinnerContainer loading={state.bookings.loadingInvoice.toString()} />\n      {state.bookings && state.bookings.invoices && state.bookings.invoices.length > 0 && (\n        <Table\n          columns=\"50px 120px auto auto auto 50px 50px\"\n          columnTitles={[\"#\", \"Created\", \"Amount\", \"Payment\", \"Status\", \"\", \"\"]}\n        >\n          {state.bookings.invoices.map((invoice, index) => {\n            return (\n              <React.Fragment key={index}>\n                <TableValue>{invoice.number || index + 1}</TableValue>\n                <TableValue>{formatEventDate(invoice.created)}</TableValue>\n                <TableValue>\n                  {formatCurrency(invoice.grand_total || 0, state.settings.companyInfo.currency)}\n                </TableValue>\n                <TableValue>{invoice.payment_method || \"N/A\"}</TableValue>\n                <PickerButton\n                  options={INVOICE_STATUSES}\n                  selectedOption={invoice.status ? invoice.status : \"Unpaid\"}\n                  onOptionSelected={status =>\n                    setInvoiceStatuses({ ...invoiceStatuses, [index]: status })\n                  }\n                />\n                <SvgButton\n                  size={24}\n                  svg={viewGlyph}\n                  onClick={() =>\n                    setSelectedInvoiceCoordinates({\n                      booking: booking.id,\n                      index: index\n                    })\n                  }\n                />\n                <DropdownMenu\n                  items={[\"Export\", \"Delete\"]}\n                  colors={[colors.grey, \"#D13636\"]}\n                  onItemSelected={item => {\n                    handleDelete(invoice.id)\n                  }}\n                />\n              </React.Fragment>\n            );\n          })}\n        </Table>\n      )}\n      <br />\n      <OutlinedButton\n        primary\n        icon={addGlyph}\n        onClick={() => setshowCreateInvoiceModal(true)}\n      >\n        New Invoice\n      </OutlinedButton>\n\n      <Modal\n        isOpen={selectedInvoiceCoordinates !== null}\n        onClose={() => setSelectedInvoiceCoordinates(null)}\n      >\n        <InvoiceDetail\n          invoice={selectedInvoiceCoordinates}\n          handleUpdate={(invoice, invoiceId) => {\n            handleUpdate(invoice, invoiceId)\n          }}\n        />\n      </Modal>\n\n      <Modal\n        isOpen={showCreateInvoiceModal}\n        onClose={() => setshowCreateInvoiceModal(false)}\n      >\n        <NewInvoice\n          invoiceNumber={\n            state.bookings.invoices && state.bookings.invoices.length + 1\n          }\n          booking={booking}\n          onEndEditing={(invoice, data) => {\n            handleSave(invoice, data)\n          }}\n        />\n      </Modal>\n\n      {\n        (rootState.auth.user.stripe_public_key && rootState.auth.user.stripe_public_key.length > 0) && (\n          <Modal\n            isOpen={showCreditCardInfoModal}\n            onClose={() => setShowCreditCardInfoModal(false)}\n          >\n            <ModalContainer>\n              <ModalTopSection>\n                <ModalTitleAndButtons>\n                  <H3>Credit Card Info</H3>\n                  <Button\n                    primary\n                    style={{ marginRight: 10 }}\n                    onClick={() => setShowCreditCardInfoModal(false)}\n                  >\n                    Close\n                  </Button>\n                </ModalTitleAndButtons>\n\n              </ModalTopSection>\n\n              <ModalBottomSection>\n                <StripeApp\n                  stripe_pk_key={rootState.auth.user.stripe_public_key}\n                  chargeData={selectedChargeData}\n                  closeModal={hideCreditModal}\n                />\n              </ModalBottomSection>\n            </ModalContainer>\n          </Modal>\n        )\n      }\n    </>\n  );\n};\n\nexport default InvoicesSection;\n","import React, {useState, useContext, useEffect} from \"react\";\nimport axios from 'axios';\nimport styled from \"styled-components\";\nimport H3 from \"../../typography/H3\";\nimport TabBar from \"../tabBar\";\nimport colors from \"../../style/colors\";\nimport Button from \"../../buttons/Button\";\nimport PickerButton from \"../../buttons/PickerButton\";\nimport BookingDetailEdit from \"./bookingDetailEdit\";\nimport {\n  AppReducerContext,\n  getStatuColor,\n} from \"../../../contexts/AppReducerContext\";\nimport DetailsSection from \"./sections/details\";\nimport QuotesSection from \"./sections/quotes\";\nimport InvoicesSection from \"./sections/invoices\";\n\nimport {\n  REQUEST_UPDATE_BOOKING,\n  GET_UPDATE_BOOKING_SUCCESS, GET_UPDATE_BOOKIG_ERROR, \n  REQUEST_GET_BOOKING_QUOTE, GET_BOOKING_QUOTE_SUCCESS, GET_BOOKING_QUOTE_ERROR,\n  REQUEST_GET_BOOKING_INVOICE, GET_BOOKING_INVOICE_SUCCESS, GET_BOOKING_INVOICE_ERROR,  \n  GET_ADD_CUSTOMER_SUCCESS,\n} from \"../../../reducers/actionType\";\n// import SpinnerContainer from \"../../layout/Spinner\"; \n\nimport {\n  CUSTOMER_OPTION_CREATE_USER,\n  // CUSTOMER_OPTION_CASUAL_USER,\n} from '../../../constants';\n\nconst TABBAR_ITEM_DETAILS = \"Details\";\nconst TABBAR_ITEM_QUOTES = \"Quotes\";\nconst TABBAR_ITEM_INVOICES = \"Invoices\";\nconst TABBAR_ITEMS = [\n  TABBAR_ITEM_DETAILS,\n  TABBAR_ITEM_QUOTES,\n  TABBAR_ITEM_INVOICES\n];\n\nfunction renderSelectedSection(sectionName, props, setSelectedTab) {\n  switch (sectionName) {\n    case TABBAR_ITEM_DETAILS:\n      return <DetailsSection {...props} />;\n    case TABBAR_ITEM_QUOTES:\n      return (\n        <QuotesSection\n          {...props}\n          onQuoteConverted={() => setSelectedTab(TABBAR_ITEM_INVOICES)}\n        />\n      );\n    case TABBAR_ITEM_INVOICES:\n      return <InvoicesSection {...props} />;\n    default:\n      throw new Error(`${sectionName} is not a valid section name`);\n  }\n}\n\nconst Container = styled.div`\n  background-color: ${colors.lightest};\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n  border-radius: 0.5em;\n  box-shadow: 0px 13px 32px rgba(0, 0, 0, 0.22);\n  display: flex;\n  flex-direction: column;\n`;\n\nconst TopSection = styled.div`\n  background-color: white;\n  position: sticky;\n  top: 0;\n  border-radius: 0.25em 0.25em 0 0;\n  z-index: 99;\n`;\n\nconst TitleAndButtons = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0 20px 15px;\n  padding-top: 20px;\n`;\n\nconst BottomSection = styled.div`\n  width: 100%;\n  flex: 1 1 auto;\n  display: flex;\n`;\n\nconst BottomSectionWrapper = styled.div`\n  width: 100%;\n  padding: 20px 20px 15px;\n  overflow: scroll;\n`;\n\nconst BookingDetail = props => {\n  const { booking } = props;\n\n  const [selectedTab, setSelectedTab] = useState(\n    TABBAR_ITEM_DETAILS,\n    TABBAR_ITEM_QUOTES,\n    TABBAR_ITEM_INVOICES\n  );\n  const [editing, setEditing] = useState(false);\n  const { state, dispatch } = useContext(AppReducerContext);\n\n  useEffect(() => {\n    if (state.auth.token && state.auth.token.length > 0) {\n      const getQuote = async () => {\n        try {\n          dispatch({ type: REQUEST_GET_BOOKING_QUOTE })\n  \n          const res = await axios.get(`/bookings/${booking.id}/quotes`);\n  \n          dispatch({\n            type: GET_BOOKING_QUOTE_SUCCESS,\n            payload: res.data.quotes,\n          })\n        } catch (err) {\n          dispatch({ GET_BOOKING_QUOTE_ERROR })\n        }\n      }\n  \n      getQuote();\n  \n      const getInvoice = async () => {\n        try {\n          dispatch({ type: REQUEST_GET_BOOKING_INVOICE })\n  \n          const res = await axios.get(`/bookings/${booking.id}/invoices`);\n  \n          dispatch({\n            type: GET_BOOKING_INVOICE_SUCCESS,\n            payload: res.data.invoices,\n          })\n        } catch (err) {\n          dispatch({ GET_BOOKING_INVOICE_ERROR })\n        }\n      }\n  \n      getInvoice();\n    }    \n  },[])\n\n  const handleUpdateBooking = async (updateBooking) => {\n    if (updateBooking) {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n\n      try {\n        dispatch({ type: REQUEST_UPDATE_BOOKING })\n\n        let resCustomer = {};\n        let customerId = updateBooking.customerId;\n\n        if (updateBooking.customerId === CUSTOMER_OPTION_CREATE_USER) {\n          resCustomer = await axios.post(\n            '/customers', \n            JSON.stringify({\n              name: updateBooking.customerData.name.value,\n              phone: updateBooking.customerData.phone.value,\n              address: updateBooking.customerData.address.value,\n              email: updateBooking.customerData.email.value,\n              note: updateBooking.customerData.note.value,\n              vatNumber: updateBooking.customerData.vatNumber.value,\n            }), \n            config\n          )\n          dispatch({\n            type: GET_ADD_CUSTOMER_SUCCESS,\n            payload: resCustomer.data.customer,\n          })\n          customerId = resCustomer.data.customer.id;\n        }\n\n        const res = await axios.put(\n          `/bookings/${booking.id}`,\n          {\n            eventName: updateBooking.eventName,\n            venueId: updateBooking.venueId,\n            spaceId: updateBooking.spaceId,\n            customerId: customerId,\n            ownerId: updateBooking.ownerId,\n            statusId: updateBooking.statusId,\n            slots: JSON.stringify(updateBooking.slots),\n          },\n          config\n        );\n\n        dispatch({\n          type: GET_UPDATE_BOOKING_SUCCESS,\n          payload: res.data.booking\n        })\n      } catch (err) {\n        dispatch({ type: GET_UPDATE_BOOKIG_ERROR});\n      }\n    }\n    setEditing(false);\n  }\n\n  const handleChangeStatus = async (status) => {\n    try {\n\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n\n      dispatch({ type: REQUEST_UPDATE_BOOKING })\n      const filteredStatus = state.bookings.bookingStatus.filter(item => item.name === status )\n\n      const res = await axios.put(\n        `/bookings/${booking.id}`,\n          {\n            eventName: booking.eventName,\n            venueId: booking.venueId,\n            spaceId: booking.spaceId,\n            customerId: booking.customerId,\n            ownerId: booking.ownerId,\n            statusId: filteredStatus[0].id,\n            slots: JSON.stringify(booking.slots),\n          },\n          config\n        );\n\n      dispatch({\n        type: GET_UPDATE_BOOKING_SUCCESS,\n        payload: res.data.booking\n      })\n    } catch (err) {\n      dispatch({ type: GET_UPDATE_BOOKIG_ERROR});\n    }\n  }\n\n  if (!booking) {\n    return null;\n  }\n\n  if (editing) {\n    return (\n      <BookingDetailEdit\n        booking={booking}\n        onEndEditing={booking => {\n          handleUpdateBooking(booking);\n        }}\n      />\n    );\n  }\n\n  return (\n    <Container>\n      <TopSection>\n        <TitleAndButtons>\n          <H3>{booking.eventName}</H3>\n          {(state.auth.token && state.auth.token.length) > 0 && (\n            <div>\n              <PickerButton\n                style={{ minWidth: 120, marginRight: 10 }}\n                options={state.bookings.bookingStatus.map(item => item.name)}\n                colors={state.bookings.bookingStatus.map(item => getStatuColor(item.name))}\n                selectedOption={booking.status.name}\n                onOptionSelected={opt =>\n                  handleChangeStatus(opt)\n                }\n              />\n              <Button primary onClick={() => setEditing(true)}>\n                Edit\n              </Button>\n            </div>\n          )}          \n        </TitleAndButtons>\n                \n        {(state.auth.token && state.auth.token.length) > 0 && (\n          <TabBar\n            items={TABBAR_ITEMS}\n            selectedItem={selectedTab}\n            onOptionSelected={setSelectedTab}\n            itemsSideMargin={20}\n          />\n        )}        \n      </TopSection>\n\n      <BottomSection>\n        {/*<SpinnerContainer loading={state.bookings.loadingQuotes.toString()} />*/}\n        <BottomSectionWrapper>\n          {renderSelectedSection(selectedTab, { booking }, setSelectedTab)}\n        </BottomSectionWrapper>\n      </BottomSection>\n    </Container>\n  );\n};\n\nexport default BookingDetail;\n","import { useEffect, useState } from \"react\";\n\n// Hook\nfunction useMedia(queries, values, defaultValue) {\n  // Array containing a media query list for each query\n  const mediaQueryLists = queries.map(q => window.matchMedia(q));\n\n  // Function that gets value based on matching media query\n  const getValue = () => {\n    // Get index of first media query that matches\n    const index = mediaQueryLists.findIndex(mql => mql.matches);\n    // Return related value or defaultValue if none\n    return typeof values[index] !== \"undefined\" ? values[index] : defaultValue;\n  };\n\n  // State and setter for matched value\n  const [value, setValue] = useState(getValue);\n\n  useEffect(\n    () => {\n      // Event listener callback\n      // Note: By defining getValue outside of useEffect we ensure that it has ...\n      // ... current values of hook args (as this hook callback is created once on mount).\n      const handler = () => setValue(getValue);\n      // Set a listener for each media query with above handler as callback.\n      mediaQueryLists.forEach(mql => mql.addListener(handler));\n      // Remove listeners on cleanup\n      return () => mediaQueryLists.forEach(mql => mql.removeListener(handler));\n    },\n    // eslint-disable-next-line\n    [] // Empty array ensures effect is only run on mount and unmount\n  );\n\n  return value;\n}\n\nexport default useMedia;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\nimport P1 from \"../typography/P1\";\nimport ColoredDot from \"../buttons/ColoredDot\";\nimport Button from \"../buttons/Button\";\nimport \"react-dropdown/style.css\";\nimport useMedia from \"../../hooks/useMedia\";\nimport PickerButton from \"../buttons/PickerButton\";\n\nconst Wrapper = styled.div`\n  flex: 1 0 auto;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  /* justify-content: center; */\n`;\n\nconst FilterItem = styled.div`\n  height: 100%;\n  flex: 1 1 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /* padding: 8px 50px; */\n  border: 1px solid ${colors.light};\n  /* ${props => (!props.first ? \"border-left: none;\" : null)}; */\n  background: ${props => (props.selected ? \"white\" : colors.lighter)};\n  cursor: pointer;\n  border-radius: ${props => (props.first ? \"4px 4px 4px 4px\" : \"0 4px 4px 0\")};\n  margin-left: ${props => (props.first ? 0 : \"-10px\")};\n  ${props =>\n    props.selected ? \"box-shadow: 0px 1.5px 1px rgba(0, 0, 0, 0.05);\" : \"\"}\n`;\n\nconst BigTabbedFilter = props => {\n  const { items, colors, selectedItem, onSelect, style } = props;\n\n  let selectedOption = selectedItem;\n  let allSelected = selectedOption === \"All\";\n  if (allSelected) {\n    selectedOption = null;\n  }\n\n  const compressed = useMedia(\n    [`(max-width: ${210 * items.length}px)`],\n    [true],\n    false\n  );\n\n  return (\n    <Wrapper style={style}>\n      {compressed ? (\n        <>\n          <Button\n            onClick={() => onSelect(\"All\")}\n            softSelected={allSelected}\n            style={{ marginRight: \".5em\" }}\n          >\n            All\n          </Button>\n          <PickerButton\n            onOptionSelected={onSelect}\n            selectedOption={selectedOption}\n            options={items}\n            noSelectionText=\"Select Status\"\n            colors={colors}\n          />\n        </>\n      ) : (\n        [\"All\"].concat(items).map((item, index) => {\n          const selected = item === selectedItem;\n\n          let colorComp = null;\n\n          // skip \"All\"\n          if (index > 0) {\n            const itemIndex = items.indexOf(item);\n            const color = colors[itemIndex];\n            colorComp = <ColoredDot color={color} style={{ marginRight: 5 }} />;\n          }\n\n          return (\n            <FilterItem\n              key={item}\n              first={index === 0}\n              last={index === items.length}\n              selected={selected}\n              onClick={() => onSelect(item)}\n            >\n              {selected ? (\n                <P1 color=\"dark\" strong style={{ margin: 0 }}>\n                  {colorComp} {item}\n                </P1>\n              ) : (\n                <P1 color=\"grey\" style={{ margin: 0 }}>\n                  {colorComp} {item}\n                </P1>\n              )}\n            </FilterItem>\n          );\n        })\n      )}\n    </Wrapper>\n  );\n};\n\nexport default BigTabbedFilter;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport axios from 'axios';\nimport Modal from \"../components/modals/modal\";\nimport BookingDetail from \"../components/features/bookingDetail/bookingDetail\";\nimport { createEmptyBooking } from \"../models/bookings\";\nimport { Table, TableValue } from \"../components/tables/tables\";\n// import { formatEventDate } from \"../utils/dateFormatting\";\nimport PickerButton from \"../components/buttons/PickerButton\";\nimport BigTabbedFilter from \"../components/features/BigTabbedFilter\";\nimport OutlinedButton from \"../components/buttons/OutlinedButton\";\nimport Button from \"../components/buttons/Button\";\nimport AddGlyph from \"../images/Glyphs/AddGlyph\";\nimport SvgButton from \"../components/buttons/SvgButton\";\nimport colors from \"../components/style/colors\";\nimport viewGlyph from \"../images/Glyphs/view.svg\";\nimport BookingDetailEdit from \"../components/features/bookingDetail/bookingDetailEdit\";\nimport P2 from \"../components/typography/P2\";\nimport {\n  AppReducerContext,\n  getStatuColor,\n} from \"../contexts/AppReducerContext\";\nimport DropdownMenu from \"../components/buttons/DropdownMenu\";\nimport SpinnerContainer from \"../components/layout/Spinner\";\n\nimport {\n  REQUSET_ADD_BOOKING,\n  GET_ADD_BOOKING_SUCCESS,\n  GET_ADD_BOOKING_ERROR,\n  REQUEST_UPDATE_BOOKING,\n  GET_UPDATE_BOOKING_SUCCESS,\n  GET_UPDATE_BOOKIG_ERROR,\n  REQUEST_GET_BOOKINGS,\n  GET_BOOKINGS_SUCCESS,\n  GET_BOOKINGS_ERROR,\n  REQUEST_DELETE_BOOKING,\n  GET_DELETE_BOOKING_SUCCESS,\n  GET_DELETE_BOOKING_ERROR,\n  REQUEST_GET_BOOKING_BOOKINGSTATUS,\n  GET_BOOKING_BOOKINGSTATUS_SUCCESS,\n  GET_BOOKING_BOOKINGSATTUS_ERROR,\n  REQUEST_GET_COMPANYINFO,\n  GET_COMPANYINFO_SUCCESS,\n  GET_COMPANYINFO_ERROR,\n  GET_ADD_CUSTOMER_SUCCESS,\n} from \"../reducers/actionType\";\n\nimport {\n  CUSTOMER_OPTION_CREATE_USER,\n  CUSTOMER_OPTION_CASUAL_USER,\n} from '../constants';\n\nconst BookingsPage = props => {\n  const { state, dispatch } = useContext(AppReducerContext);\n\n  const [showCreateBookingModal, setShowCreateBookingModal] = useState(false);\n  const [selectedBookingStateFilter, setSelectedBookingStateFilter] = useState(\n    \"All\"\n  );\n  const [selectedBookingID, setSelectedBookingID] = useState(\n    null\n    // \"99af5d47-3837-4623-be55-f85c0b511c0f\"\n  );\n\n  const filteredBookings = (state.bookings.bookings && state.bookings.bookings.length > 0 ) ?\n    state.bookings.bookings.filter(\n      booking =>\n        selectedBookingStateFilter === \"All\" ||\n        booking.status.name === selectedBookingStateFilter\n    ) : [];\n\n  function bookingWithID(id) {\n    return state.bookings.bookings && state.bookings.bookings.find(b => b.id === id);\n  }\n\n  useEffect(() => {\n\n    const getCompany = async () => {\n      try {\n        dispatch({ type: REQUEST_GET_COMPANYINFO});\n\n        const res = await axios.get('/company');\n\n        dispatch({\n          type: GET_COMPANYINFO_SUCCESS,\n          payload: res.data.company,\n        })\n      } catch (err) {\n        dispatch({ type: GET_COMPANYINFO_ERROR });\n      }\n    }\n    getCompany();\n\n    const getBookingStatus = async () => {\n\n      try {\n        dispatch({ type: REQUEST_GET_BOOKING_BOOKINGSTATUS });\n\n        const res = await axios.get('/statuses');\n\n        dispatch({\n          type: GET_BOOKING_BOOKINGSTATUS_SUCCESS,\n          payload: res.data.statuses\n        });\n      } catch(err) {\n        dispatch({ type: GET_BOOKING_BOOKINGSATTUS_ERROR });\n      }\n\n    }\n    getBookingStatus();\n\n    const getBookings = async () => {\n      try {\n        dispatch({ type: REQUEST_GET_BOOKINGS });\n\n        const res = await axios.get('/bookings');\n\n        dispatch({\n          type: GET_BOOKINGS_SUCCESS,\n          payload: res.data.bookings\n        })\n      } catch (err) {\n        dispatch({ type: GET_BOOKINGS_ERROR });\n      }\n    }\n    getBookings();\n  }, [])\n\n  const handleClickSave = async (booking) => {\n    setShowCreateBookingModal(false);\n\n    if (booking === null) return;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    if (booking.id === -1) {\n      try {\n\n        dispatch({ type: REQUSET_ADD_BOOKING })\n                \n        const filteredStatus = state.bookings.bookingStatus.filter(item => item.name === \"Enquiry\");\n\n        let customerId = booking.customerId;\n\n        let resCustomer = {};\n        if (booking.customerId === CUSTOMER_OPTION_CREATE_USER) {\n          resCustomer = await axios.post(\n            '/customers', \n            JSON.stringify({\n              name: booking.customerData.name.value,\n              phone: booking.customerData.phone.value,\n              address: booking.customerData.address.value,\n              email: booking.customerData.email.value,\n              note: booking.customerData.note.value,\n              vatNumber: booking.customerData.vatNumber.value,\n            }), \n            config\n          )\n          dispatch({\n            type: GET_ADD_CUSTOMER_SUCCESS,\n            payload: resCustomer.data.customer,\n          })\n          customerId = resCustomer.data.customer.id;\n        }\n        \n        const res = await axios.post(\n          '/bookings',\n          {\n            eventName: booking.eventName,\n            venueId: booking.venueId,\n            spaceId: booking.spaceId,\n            customerId: customerId,\n            ownerId: booking.ownerId,\n            slots: JSON.stringify(booking.slots),\n            statusId: filteredStatus[0].id,                        \n          },\n          config\n        );\n\n        dispatch({\n          type: GET_ADD_BOOKING_SUCCESS,\n          payload: res.data.booking\n        })\n\n      } catch (err) {\n        dispatch({ type: GET_ADD_BOOKING_ERROR })\n      }\n    } else {\n      try {\n        dispatch({ type: REQUEST_UPDATE_BOOKING })\n\n        let resCustomer = {};\n        let customerId = booking.customerId;\n\n        if (booking.customerId === CUSTOMER_OPTION_CREATE_USER) {\n          resCustomer = await axios.post(\n            '/customers', \n            JSON.stringify({\n              name: booking.customerData.name.value,\n              phone: booking.customerData.phone.value,\n              address: booking.customerData.address.value,\n              email: booking.customerData.email.value,\n              note: booking.customerData.note.value,\n              vatNumber: booking.customerData.vatNumber.value,\n            }), \n            config\n          )\n          dispatch({\n            type: GET_ADD_CUSTOMER_SUCCESS,\n            payload: resCustomer.data.customer,\n          })\n          customerId = resCustomer.data.customer.id;\n        }\n\n        const res = await axios.put(\n          `/bookings/${booking.id}`,\n          {\n            eventName: booking.eventName,\n            venueId: booking.venueId,\n            spaceId: booking.spaceId,\n            customerId: customerId,\n            ownerId: booking.ownerId,\n            statusId: booking.statusId,\n            slots: JSON.stringify(booking.slots),\n          },\n          config\n        );\n\n        dispatch({\n          type: GET_UPDATE_BOOKING_SUCCESS,\n          payload: res.data.booking\n        })\n      } catch (err) {\n        dispatch({ type: GET_UPDATE_BOOKIG_ERROR});\n      }\n    }\n\n    // if (booking) {\n    //   dispatch({ type: \"upsert_booking\", booking: booking });\n    // }\n  }\n\n\n\n  const handleClickDelete = async (id) => {\n\n    dispatch({ type: REQUEST_DELETE_BOOKING })\n\n    try {\n\n      const res = await axios.delete(`/bookings/${id}`);\n\n      dispatch({\n        type: GET_DELETE_BOOKING_SUCCESS,\n        payload: id\n      })\n    } catch (err) {\n      dispatch({ type: GET_DELETE_BOOKING_ERROR })\n    }\n\n  }\n\n  const handleChangeStatus = async (id, status) => {\n\n    try {\n      dispatch({ type: REQUEST_UPDATE_BOOKING });\n\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n\n      const filteredBooking = state.bookings.bookings.filter(item => item.id === id);\n      const filteredBookingsStatus = state.bookings.bookingStatus.filter(item => item.name === status);\n      const updateBookingData = {\n        eventName: filteredBooking[0].eventName,\n        venueId: filteredBooking[0].venueId,\n        spaceId: filteredBooking[0].spaceId,\n        statusId: filteredBookingsStatus[0].id,\n        customerId: filteredBooking[0].customerId,\n        ownerId: filteredBooking[0].ownerId,\n        slots: JSON.stringify(filteredBooking[0].slots),\n      }\n\n      const res = await axios.put(`/bookings/${id}`, updateBookingData, config);\n\n      dispatch({\n        type: GET_UPDATE_BOOKING_SUCCESS,\n        payload: res.data.booking\n      })\n\n    } catch(err) {\n      dispatch({ type: GET_UPDATE_BOOKIG_ERROR })\n    }\n    // dispatch({\n    //   type: \"update_booking_status\",\n    //   id: booking.id,\n    //   status: status\n    // })\n  }\n\n  const getBookingStatusColor = (selectedBooking) => {\n    if (selectedBooking.status && selectedBooking.status.name)\n      return getStatuColor(selectedBooking.status.name);\n    else return getStatuColor(\"\");\n  }\n\n  const getBookingVenueAndSpaceName = (selectedBooking) => {\n    const venueName = (selectedBooking.venue && selectedBooking.venue.name) ? selectedBooking.venue.name : \"\";    \n    const spaceName = (selectedBooking.space && selectedBooking.space.name) ? selectedBooking.space.name : \"\";\n    return (venueName + \"(\" + spaceName + \")\");\n  }\n\n  return (\n    <>\n      <SpinnerContainer loading={ ((filteredBookings && filteredBookings.length <= 0) &&\n      (state.bookings.loadBooking || state.bookings.loadBookingAction)) ? \"true\" : \"false\"} />\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          marginBottom: 40\n        }}\n      >\n        {state.bookings.bookingStatus && state.bookings.bookingStatus.length > 0 &&\n          <BigTabbedFilter\n            items={state.bookings.bookingStatus.map(item => item.name)}\n            colors={state.bookings.bookingStatus.map(item => getStatuColor(item.name))}\n            selectedItem={selectedBookingStateFilter}\n            onSelect={item => {\n              setSelectedBookingStateFilter(item);\n            }}\n            style={{ marginBottom: 0, marginTop: 0, height: 60 }}\n        />\n        }\n\n        <Button\n          primary\n          onClick={() => setShowCreateBookingModal(!showCreateBookingModal)}\n          iconComponent={() => <AddGlyph fill={colors.white} />}\n          style={{ marginLeft: \"2em\" }}\n          disabled={(state.bookings.loadBooking || state.bookings.loadBookingAction)}\n        >\n          Add Booking\n        </Button>\n      </div>\n\n      {filteredBookings && filteredBookings.length > 0 && (\n        <Table\n          columns=\"auto auto auto auto auto auto auto\"\n          columnTitles={[\n            // \"Received\",\n            \"Title\",\n            \"Venue (Space)\",\n            \"Customer\",\n            \"Owner\",\n            \"Status\",\n            \"\",\n            \"\"\n          ]}\n        >\n          {filteredBookings.map(booking => {\n            return (\n              <React.Fragment key={booking.id}>\n                {/* <TableValue>{formatEventDate(booking.received)}</TableValue> */}\n                <TableValue>{booking.eventName}</TableValue>\n                <TableValue\n                  style={{\n                    color: `${getBookingStatusColor(booking)} !important`,\n                    margin: 0\n                  }}\n                >\n                  {getBookingVenueAndSpaceName(booking)}\n                </TableValue>\n                <TableValue>\n                  {                    \n                    (booking.customer && booking.customer.name)? booking.customer.name : \"\"\n                  }\n                </TableValue>\n                <TableValue>\n                  {            \n                    booking.owner ? (booking.owner.lastName ? booking.owner.lastName : \"\") + \" \" + (booking.owner.firstName ? booking.owner.firstName : \"\") : \"-\"\n                  }\n                </TableValue>\n                <PickerButton\n                  options={state.bookings.bookingStatus.map(item => item.name)}\n                  colors={state.bookings.bookingStatus.map(item => getStatuColor(item.name))}\n                  selectedOption={\n                    (booking.status && booking.status.name) ? booking.status.name : \"\" \n                  }\n                  onOptionSelected={status => {handleChangeStatus(booking.id, status)}\n                  }\n                />\n                <SvgButton\n                  width={24}\n                  height={24}\n                  svg={viewGlyph}\n                  onClick={() => setSelectedBookingID(booking.id)}\n                />\n                <DropdownMenu\n                  items={[\"Archive\", \"Delete\"]}\n                  colors={[colors.grey, \"#D13636\"]}\n                  onItemSelected={item => {\n                    // dispatch({ type: \"delete_booking\", id: booking.id });\n                    handleClickDelete(booking.id)\n                  }}\n                />\n              </React.Fragment>\n            );\n          })}\n        </Table>\n      )}\n\n      {filteredBookings.length === 0 && (\n        <>\n          <P2 color=\"grey\" center>\n            No bookings matching your filter.\n          </P2>\n          <P2\n            center\n            style={{ textDecoration: \"underline\", cursor: \"pointer\" }}\n            onClick={() => setSelectedBookingStateFilter(\"All\")}\n          >\n            Show All\n          </P2>\n        </>\n      )}\n\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\n        <OutlinedButton style={{ margin: \"20px auto\" }}>\n          Show Archived\n        </OutlinedButton>\n      </div>\n\n      <Modal\n        isOpen={selectedBookingID !== null}\n        onClose={() => setSelectedBookingID(null)}\n      >\n        <BookingDetail booking={bookingWithID(selectedBookingID)} />\n      </Modal>\n\n      <Modal\n        isOpen={showCreateBookingModal}\n        onClose={() => setShowCreateBookingModal(false)}\n      >\n        <BookingDetailEdit\n          booking={createEmptyBooking()}\n          onEndEditing={booking => {handleClickSave(booking)}}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default BookingsPage;\n","import React, { useReducer, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { css } from \"emotion\";\nimport H3 from \"../typography/H3\";\nimport Button from \"../buttons/Button\";\nimport Grid from \"../layout/Grid\";\nimport { TableEditableValue } from \"../tables/tables\";\nimport { createEmptyCustomer } from \"../../models/customers\";\nimport {\n  ModalContainer,\n  ModalTopSection,\n  ModalTitleAndButtons,\n  ModalBottomSection\n} from \"../modals/containers\";\n\nconst Spacer = styled.div`\n  flex: 1 0 1.5em;\n`;\n\nconst CustomerDetailEdit = props => {  \n\n  const { customer: customerToEdit, onEndEditing } = props;\n  const isEditing = customerToEdit !== null;\n\n  const [customer, dispatch] = useReducer(\n    reducer,\n    customerToEdit || createEmptyCustomer()\n  );\n\n  const [ isNameValidate, setIsNameValidate ] = useState(true);\n  \n  const handleChangeName = value => {\n    if (value.length === 0)\n      setIsNameValidate(false);\n    else setIsNameValidate(true);\n    dispatch({ type: \"set_value\", key: \"name\", value: value })\n  }\n\n  const handleClickSave = () => {\n    if (customer.name.length === 0) {\n      setIsNameValidate(false);\n      return;\n    }\n    onEndEditing(customer, true);\n  }\n\n  return (\n    <ModalContainer>\n      <ModalTopSection>\n        <ModalTitleAndButtons>\n          <H3 style={{ margin: 0 }}>{customer.name || \"New Customer\"}</H3>\n          <div>\n            {isEditing && (\n              <Button style={{ marginRight: 10 }} onClick={e => onEndEditing(null, false)}>\n                Cancel\n              </Button>\n            )}\n            <Button\n              primary\n              style={{ marginRight: 10 }}\n              onClick={handleClickSave}\n              disabled={!isNameValidate}\n            >\n              {isEditing ? \"Save\" : \"Create Customer\"}\n            </Button>\n          </div>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n\n      <ModalBottomSection>\n        <>\n          <TableEditableValue\n            label=\"Name\"\n            value={customer.name}\n            onChange={value =>\n              handleChangeName(value)\n            }\n            style={{ width: \"100%\" }}\n            className={(!isNameValidate? \"error\" : \"\")}\n          />\n          {\n            !isNameValidate && \n            <p \n              className={\n                css`\n                  color: #E92579;            \n                  margin: 0.2em 0 0 0;\n                  padding: 0 0.6em;\n                  font-size: 0.8em;\n                `\n              }\n            >\n              Company Name is required.\n            </p>\n          }   \n          <Grid columns=\"1fr 1fr\" style={{ width: \"100%\", marginTop: 10 }}>\n            <TableEditableValue\n              label=\"Phone Number\"\n              value={customer.phone}\n              onChange={value =>\n                dispatch({\n                  type: \"set_value\",\n                  key: \"phone\",\n                  value: value\n                })\n              }\n              style={{ width: \"100%\" }}\n            />\n\n            <TableEditableValue\n              label=\"Email\"\n              value={customer.email}\n              onChange={value =>\n                dispatch({ type: \"set_value\", key: \"email\", value: value })\n              }\n            />\n\n            <TableEditableValue\n              label=\"Address\"\n              value={customer.address}\n              onChange={value =>\n                dispatch({ type: \"set_value\", key: \"address\", value: value })\n              }\n            />\n\n            <TableEditableValue\n              label=\"VAT Number\"\n              value={customer.vatNumber}\n              onChange={value =>\n                dispatch({\n                  type: \"set_value\",\n                  key: \"vatNumber\",\n                  value: value\n                })\n              }\n            />\n          </Grid>\n\n          <TableEditableValue\n            label=\"Private Notes\"\n            value={customer.note}\n            longText\n            style={{\n              width: \"100%\",\n              marginTop: \"0.8em\",\n              height: 80\n            }}\n            onChange={value =>\n              dispatch({ type: \"set_value\", key: \"note\", value: value })\n            }\n          />\n        </>\n        <Spacer />\n      </ModalBottomSection>\n    </ModalContainer>\n  );\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"set_value\":\n      return {\n        ...state,\n        [action.key]: action.value\n      };\n\n    default:\n      throw new Error();\n  }\n}\n\nexport default CustomerDetailEdit;\n","// import uuidV4 from \"../utils/uuidV4\";\n// id, name, address, phone, email, notes, vat number\nfunction createEmptyCustomer() {\n  return {\n    // id: uuidV4(),\n    id: -1,\n    name: \"\",\n    address: \"\",\n    phone: \"\",\n    email: \"\",\n    note: \"\",\n    vatNumber: \"\"\n  };\n}\n\nconst customers = [\n  {\n    id: \"fd\",\n    name: \"Francesco Di Lorenzo\",\n    address: \"Milano, Italy\",\n    phoneNumber: \"+393456787654\",\n    email: \"francesco@superlinear.co\",\n    notes: \"Co-founder and developer at Superlinear\",\n    vatNumber: \"\"\n  },\n  {\n    id: \"opgreat\",\n    name: \"Operational Greatness Ltd\",\n    address: \"66 Finella terrace, Fintry, Dundee, DD4 9NZ, UK\",\n    phoneNumber: null,\n    email: null,\n    notes: \"\",\n    vatNumber: \"GB232316249\"\n  },\n  {\n    id: \"super\",\n    name: \"Superlinear Srl\",\n    address: \"Via Paolo da Cannobio 9, Milan, Italy\",\n    phoneNumber: null,\n    email: \"hello@superlinear.co\",\n    notes: \"Rented a venue once, said they would rent again in May\",\n    vatNumber: \"IT10540450961\"\n  }\n];\n\nexport { customers, createEmptyCustomer };\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport H3 from \"../typography/H3\";\nimport Button from \"../buttons/Button\";\nimport Grid from \"../layout/Grid\";\nimport { TableItem } from \"../tables/tables\";\nimport CustomerDetailEdit from \"./customerDetailEdit\";\nimport {\n  ModalContainer,\n  ModalTopSection,\n  ModalTitleAndButtons,\n  ModalBottomSection\n} from \"../modals/containers\";\n\nconst BottomSectionWrapper = styled.div`\n  width: 100%;\n  padding: 20px 20px 15px;\n  overflow: scroll;\n`;\n\nconst CustomerDetail = props => {\n  const { customer } = props;\n\n  const [editing, setEditing] = useState(false);\n\n  if (!customer) {\n    return null;\n  }\n  \n  const onSaveButton = (saveOne) => {\n    setEditing(false);\n    props.onEndEditing(saveOne)  \n  }\n\n  if (editing) {\n    return (\n      <CustomerDetailEdit\n        customer={customer}\n        onEndEditing={(customer) => onSaveButton(customer)}\n      />\n    );\n  }\n\n\n  return (\n    <ModalContainer>\n      <ModalTopSection>\n        <ModalTitleAndButtons>\n          <H3 style={{ margin: 0 }}>{customer.name}</H3>\n          <div>\n            <Button\n              primary\n              style={{ marginRight: 10 }}\n              onClick={() => setEditing(!editing)}\n            >\n              Edit\n            </Button>\n          </div>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n\n      <ModalBottomSection>\n        <BottomSectionWrapper>\n          <Grid columns=\"1fr 1fr\">\n            <TableItem\n              label={\"Phone Number\"}\n              value={customer.phone || \"N/A\"}\n            />\n            <TableItem label={\"Email\"} value={customer.email || \"N/A\"} />\n            <TableItem label={\"Address\"} value={customer.address || \"N/A\"} />\n            <TableItem\n              label={\"VAT Number\"}\n              value={customer.vatNumber || \"N/A\"}\n            />\n          </Grid>\n          {customer.note && (\n            <Grid columns=\"1fr\" style={{ marginTop: \"1em\" }}>\n              <TableItem\n                label={\"Private Notes\"}\n                value={customer.note || \"N/A\"}\n              />\n            </Grid>\n          )}\n        </BottomSectionWrapper>\n      </ModalBottomSection>\n    </ModalContainer>\n  );\n};\n\nexport default CustomerDetail;\n","import React, { useState } from \"react\";\nimport { cx, css } from \"emotion\";\nimport colors from \"../style/colors\";\nimport iconSearchSVG from \"../../images/Glyphs/iconSearch.svg\";\n\nconst SearchField = props => {\n  const {\n    query,\n    onChange,\n    onEnterKeyPress,\n    placeholder = \"Search\",\n    className = \"\",\n    style\n  } = props;\n  const [focused, setFocused] = useState(false);\n\n  return (\n    <div\n      style={style}\n      className={cx(\n        className,\n        css`\n          margin-right: 1em;\n          background-color: white;\n          padding: 5px 7px;\n          border-radius: 4px;\n          height: 35px;\n          border: 1px solid ${focused ? colors.accent_pink : colors.light_grey};\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n        `\n      )}\n    >\n      <img\n        alt=\"search\"\n        src={iconSearchSVG}\n        className={css`\n          width: 15px;\n          height: 15px;\n          margin-top: -1px;\n          margin-right: 8px;\n        `}\n      />\n      <input\n        value={query}\n        onChange={onChange}\n        placeholder={placeholder}\n        onFocus={() => setFocused(true)}\n        onBlur={() => setFocused(false)}\n        onKeyPress={e =>\n          e.key === \"Enter\" && onEnterKeyPress && onEnterKeyPress()\n        }\n        className={css`\n          font-family: Circular;\n          font-size: 1.05em;\n          border: none;\n          :focus {\n            outline: none;\n          }\n        `}\n      />\n    </div>\n  );\n};\n\nexport default SearchField;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport axios from 'axios';\nimport Modal from \"../components/modals/modal\";\nimport { Table, TableValue } from \"../components/tables/tables\";\nimport AddGlyph from \"../images/Glyphs/AddGlyph\";\nimport SvgButton from \"../components/buttons/SvgButton\";\nimport colors from \"../components/style/colors\";\nimport viewGlyph from \"../images/Glyphs/view.svg\";\nimport CustomerDetail from \"../components/features/customerDetail\";\nimport Button from \"../components/buttons/Button\";\nimport CustomerDetailEdit from \"../components/features/customerDetailEdit\";\nimport DropdownMenu from \"../components/buttons/DropdownMenu\";\nimport { AppReducerContext } from \"../contexts/AppReducerContext\";\nimport { css } from \"emotion\";\nimport SearchField from \"../components/inputs/searchField\";\nimport P1 from \"../components/typography/P1\";\nimport SpinnerContainer from \"../components/layout/Spinner\";\n\nimport {\n  REQUEST_GET_CUSTOMERS,\n  GET_CUSTOMERS_SUCCESS,\n  GET_CUSTOMERS_ERROR,\n  REQUEST_ADD_CUSTOMER,\n  GET_ADD_CUSTOMER_SUCCESS,\n  GET_ADD_CUSTOMER_ERROR,\n  REQUEST_UPDATE_CUSTOMER,\n  GET_UPDATE_CUSTOMER_SUCCESS,\n  GET_UPDATE_CUSTOMER_ERROR,\n  REQUEST_DELETE_CUSTOMER,\n  GET_DELETE_CUSTOMER_SUCCESS,\n  GET_DELETE_CUSTOMER_ERROR,\n} from \"../reducers/actionType\";\n\nconst CustomersPage = () => {\n  const [showCreateClientModal, setShowCreateClientModal] = useState(false);\n  const [selectedClientId, setSelectedClientId] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const { state, dispatch } = useContext(AppReducerContext);\n  const searchResults =\n    searchQuery.length > 0\n      ? state.customers.customers.filter(customer =>\n          customer.name.toLowerCase().includes(searchQuery.toLowerCase())\n        )\n      : state.customers.customers;\n\n  useEffect(() => {\n    const getCustomers = async () => {\n      try {\n        dispatch({ type: REQUEST_GET_CUSTOMERS });\n\n        const res = await axios.get('/customers');\n\n        dispatch({\n          type: GET_CUSTOMERS_SUCCESS,\n          payload: res.data.customers\n        })\n      } catch (err) {\n        dispatch({ type: GET_CUSTOMERS_ERROR });\n      }\n    }\n    getCustomers();\n  }, [dispatch]);\n\n  const onEditCustomer = async (customer, bSave) => {\n    if(!bSave && customer === null) {\n      setShowCreateClientModal(false);\n      return;\n    }\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    if (customer.id === -1) {\n      setShowCreateClientModal(false);\n      try {\n        dispatch({ type: REQUEST_ADD_CUSTOMER })\n\n        delete customer.id;\n        const res = await axios.post('/customers', JSON.stringify(customer), config);\n\n        dispatch({\n          type: GET_ADD_CUSTOMER_SUCCESS,\n          payload: res.data.customer,\n        })\n      } catch (err) {\n        dispatch({ type: GET_ADD_CUSTOMER_ERROR });\n      }\n    } else {\n      try {\n        dispatch({ type: REQUEST_UPDATE_CUSTOMER });\n\n        const res = await axios.put(`/customers/${customer.id}`, JSON.stringify(customer), config);\n\n        dispatch({\n          type: GET_UPDATE_CUSTOMER_SUCCESS,\n          payload: res.data.customer,\n        })\n      } catch (err) {\n        dispatch({ type: GET_UPDATE_CUSTOMER_ERROR });\n      }\n    }\n  }\n\n  const handleClickDelete = async (id) => {\n    dispatch({ type: REQUEST_DELETE_CUSTOMER })\n\n    try {\n\n      await axios.delete(`/customers/${id}`);\n\n      dispatch({\n        type: GET_DELETE_CUSTOMER_SUCCESS,\n        payload: id\n      })\n    } catch (err) {\n      dispatch({ type: GET_DELETE_CUSTOMER_ERROR })\n    }\n  }\n\n  return (\n    <>\n      <div\n        className={css`\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          justify-content: space-between;\n          margin-top: 10px;\n          margin-bottom: 40px;\n        `}\n      >\n        <SpinnerContainer loading={((searchResults && searchResults.length <= 0) && state.customers.loadingCustomers).toString()} />\n        <SearchField\n          query={searchQuery}\n          placeholder={\"Search Customers\"}\n          onChange={e => setSearchQuery(e.target.value)}\n          onEnterKeyPress={() =>\n            searchResults.length === 1 &&\n            setSelectedClientId(searchResults[0].id)\n          }\n        />\n        <Button\n          primary\n          onClick={() => setShowCreateClientModal(!showCreateClientModal)}\n          iconComponent={() => <AddGlyph fill={colors.white} />}\n          className={css``}\n        >\n          Add Customer\n        </Button>\n      </div>\n\n      {searchResults && searchResults.length > 0 && (\n        <Table\n          columns=\"1fr 1fr 1fr 50px 50px\"\n          columnTitles={[\"Name\", \"Email\", \"Phone\", \"\", \"\"]}\n        >\n          {searchResults.map((customer, index) => {\n            return (\n              <React.Fragment key={index}>\n                <TableValue>{customer.name}</TableValue>\n                <TableValue>{customer.email || \"N/A\"}</TableValue>\n                <TableValue>{customer.phone || \"N/A\"}</TableValue>\n                <SvgButton\n                  width={24}\n                  height={24}\n                  svg={viewGlyph}\n                  onClick={() => setSelectedClientId(customer.id)}\n                />\n                <DropdownMenu\n                  items={[\"Delete\"]}\n                  colors={[\"#D13636\"]}\n                  onItemSelected={item => {\n                    handleClickDelete(customer.id)\n                  }}\n                />\n              </React.Fragment>\n            );\n          })}\n        </Table>\n      )}\n\n      {searchResults.length === 0 && (\n        <P1>\n          There are no customers matching your search.{\" \"}\n          <span\n            style={{ textDecoration: \"underline\", cursor: \"pointer\" }}\n            onClick={() => setSearchQuery(\"\")}\n          >\n            View All\n          </span>\n        </P1>\n      )}\n\n      <Modal\n        isOpen={selectedClientId !== null}\n        onClose={() => setSelectedClientId(null)}\n      >\n        <CustomerDetail\n          customer={state.customers.customers.find(c => c.id === selectedClientId)}\n          onEndEditing={onEditCustomer}\n        />\n      </Modal>\n\n      <Modal\n        isOpen={showCreateClientModal}\n        onClose={() => setShowCreateClientModal(false)}\n      >\n        <CustomerDetailEdit\n          onEndEditing={onEditCustomer}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default CustomersPage;\n","import React from \"react\";\nimport P1 from \"../typography/P1\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst SideNavigation = props => {\n  const { items, selectedItem, onClick } = props;\n\n  const Container = styled.div`\n    p {\n      display: block;\n      cursor: pointer;\n      :first-child {\n        margin-top: 0;\n      }\n      :last-child {\n        margin-bottom: 0;\n      }\n    }\n    .selected {\n      color: ${colors.accent_pink};\n      font-weight: 500;\n    }\n  `;\n\n  return (\n    <Container>\n      {items.map(item => {\n        return (\n          <P1\n            key={item}\n            className={selectedItem === item ? \"selected\" : \"\"}\n            onClick={() => onClick(item)}\n          >\n            {item}\n          </P1>\n        );\n      })}\n    </Container>\n  );\n};\n\nexport default SideNavigation;\n","const constants = {\n  sidebarWidth: \"14rem\",\n  collapseSidebarWidth: \"4.5rem\",\n  leftPanelWidth: \"16em\"\n};\n\nexport default constants;\n","const currencies = {\n  USD: {\n    symbol: \"$\",\n    name: \"US Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"USD\",\n    name_plural: \"US dollars\"\n  },\n  CAD: {\n    symbol: \"CA$\",\n    name: \"Canadian Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"CAD\",\n    name_plural: \"Canadian dollars\"\n  },\n  EUR: {\n    symbol: \"\",\n    name: \"Euro\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"EUR\",\n    name_plural: \"euros\"\n  },\n  AED: {\n    symbol: \"AED\",\n    name: \"United Arab Emirates Dirham\",\n    symbol_native: \"..\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"AED\",\n    name_plural: \"UAE dirhams\"\n  },\n  AFN: {\n    symbol: \"Af\",\n    name: \"Afghan Afghani\",\n    symbol_native: \"\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"AFN\",\n    name_plural: \"Afghan Afghanis\"\n  },\n  ALL: {\n    symbol: \"ALL\",\n    name: \"Albanian Lek\",\n    symbol_native: \"Lek\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"ALL\",\n    name_plural: \"Albanian lek\"\n  },\n  AMD: {\n    symbol: \"AMD\",\n    name: \"Armenian Dram\",\n    symbol_native: \".\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"AMD\",\n    name_plural: \"Armenian drams\"\n  },\n  ARS: {\n    symbol: \"AR$\",\n    name: \"Argentine Peso\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"ARS\",\n    name_plural: \"Argentine pesos\"\n  },\n  AUD: {\n    symbol: \"AU$\",\n    name: \"Australian Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"AUD\",\n    name_plural: \"Australian dollars\"\n  },\n  AZN: {\n    symbol: \"man.\",\n    name: \"Azerbaijani Manat\",\n    symbol_native: \".\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"AZN\",\n    name_plural: \"Azerbaijani manats\"\n  },\n  BAM: {\n    symbol: \"KM\",\n    name: \"Bosnia-Herzegovina Convertible Mark\",\n    symbol_native: \"KM\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"BAM\",\n    name_plural: \"Bosnia-Herzegovina convertible marks\"\n  },\n  BDT: {\n    symbol: \"Tk\",\n    name: \"Bangladeshi Taka\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"BDT\",\n    name_plural: \"Bangladeshi takas\"\n  },\n  BGN: {\n    symbol: \"BGN\",\n    name: \"Bulgarian Lev\",\n    symbol_native: \".\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"BGN\",\n    name_plural: \"Bulgarian leva\"\n  },\n  BHD: {\n    symbol: \"BD\",\n    name: \"Bahraini Dinar\",\n    symbol_native: \"..\",\n    decimal_digits: 3,\n    rounding: 0,\n    code: \"BHD\",\n    name_plural: \"Bahraini dinars\"\n  },\n  BIF: {\n    symbol: \"FBu\",\n    name: \"Burundian Franc\",\n    symbol_native: \"FBu\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"BIF\",\n    name_plural: \"Burundian francs\"\n  },\n  BND: {\n    symbol: \"BN$\",\n    name: \"Brunei Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"BND\",\n    name_plural: \"Brunei dollars\"\n  },\n  BOB: {\n    symbol: \"Bs\",\n    name: \"Bolivian Boliviano\",\n    symbol_native: \"Bs\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"BOB\",\n    name_plural: \"Bolivian bolivianos\"\n  },\n  BRL: {\n    symbol: \"R$\",\n    name: \"Brazilian Real\",\n    symbol_native: \"R$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"BRL\",\n    name_plural: \"Brazilian reals\"\n  },\n  BWP: {\n    symbol: \"BWP\",\n    name: \"Botswanan Pula\",\n    symbol_native: \"P\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"BWP\",\n    name_plural: \"Botswanan pulas\"\n  },\n  BYR: {\n    symbol: \"BYR\",\n    name: \"Belarusian Ruble\",\n    symbol_native: \"BYR\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"BYR\",\n    name_plural: \"Belarusian rubles\"\n  },\n  BZD: {\n    symbol: \"BZ$\",\n    name: \"Belize Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"BZD\",\n    name_plural: \"Belize dollars\"\n  },\n  CDF: {\n    symbol: \"CDF\",\n    name: \"Congolese Franc\",\n    symbol_native: \"FrCD\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"CDF\",\n    name_plural: \"Congolese francs\"\n  },\n  CHF: {\n    symbol: \"CHF\",\n    name: \"Swiss Franc\",\n    symbol_native: \"CHF\",\n    decimal_digits: 2,\n    rounding: 0.05,\n    code: \"CHF\",\n    name_plural: \"Swiss francs\"\n  },\n  CLP: {\n    symbol: \"CL$\",\n    name: \"Chilean Peso\",\n    symbol_native: \"$\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"CLP\",\n    name_plural: \"Chilean pesos\"\n  },\n  CNY: {\n    symbol: \"CN\",\n    name: \"Chinese Yuan\",\n    symbol_native: \"CN\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"CNY\",\n    name_plural: \"Chinese yuan\"\n  },\n  COP: {\n    symbol: \"CO$\",\n    name: \"Colombian Peso\",\n    symbol_native: \"$\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"COP\",\n    name_plural: \"Colombian pesos\"\n  },\n  CRC: {\n    symbol: \"\",\n    name: \"Costa Rican Coln\",\n    symbol_native: \"\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"CRC\",\n    name_plural: \"Costa Rican colns\"\n  },\n  CVE: {\n    symbol: \"CV$\",\n    name: \"Cape Verdean Escudo\",\n    symbol_native: \"CV$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"CVE\",\n    name_plural: \"Cape Verdean escudos\"\n  },\n  CZK: {\n    symbol: \"K\",\n    name: \"Czech Republic Koruna\",\n    symbol_native: \"K\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"CZK\",\n    name_plural: \"Czech Republic korunas\"\n  },\n  DJF: {\n    symbol: \"Fdj\",\n    name: \"Djiboutian Franc\",\n    symbol_native: \"Fdj\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"DJF\",\n    name_plural: \"Djiboutian francs\"\n  },\n  DKK: {\n    symbol: \"Dkr\",\n    name: \"Danish Krone\",\n    symbol_native: \"kr\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"DKK\",\n    name_plural: \"Danish kroner\"\n  },\n  DOP: {\n    symbol: \"RD$\",\n    name: \"Dominican Peso\",\n    symbol_native: \"RD$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"DOP\",\n    name_plural: \"Dominican pesos\"\n  },\n  DZD: {\n    symbol: \"DA\",\n    name: \"Algerian Dinar\",\n    symbol_native: \"..\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"DZD\",\n    name_plural: \"Algerian dinars\"\n  },\n  EEK: {\n    symbol: \"Ekr\",\n    name: \"Estonian Kroon\",\n    symbol_native: \"kr\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"EEK\",\n    name_plural: \"Estonian kroons\"\n  },\n  EGP: {\n    symbol: \"EGP\",\n    name: \"Egyptian Pound\",\n    symbol_native: \"..\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"EGP\",\n    name_plural: \"Egyptian pounds\"\n  },\n  ERN: {\n    symbol: \"Nfk\",\n    name: \"Eritrean Nakfa\",\n    symbol_native: \"Nfk\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"ERN\",\n    name_plural: \"Eritrean nakfas\"\n  },\n  ETB: {\n    symbol: \"Br\",\n    name: \"Ethiopian Birr\",\n    symbol_native: \"Br\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"ETB\",\n    name_plural: \"Ethiopian birrs\"\n  },\n  GBP: {\n    symbol: \"\",\n    name: \"British Pound Sterling\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"GBP\",\n    name_plural: \"British pounds sterling\"\n  },\n  GEL: {\n    symbol: \"GEL\",\n    name: \"Georgian Lari\",\n    symbol_native: \"GEL\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"GEL\",\n    name_plural: \"Georgian laris\"\n  },\n  GHS: {\n    symbol: \"GH\",\n    name: \"Ghanaian Cedi\",\n    symbol_native: \"GH\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"GHS\",\n    name_plural: \"Ghanaian cedis\"\n  },\n  GNF: {\n    symbol: \"FG\",\n    name: \"Guinean Franc\",\n    symbol_native: \"FG\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"GNF\",\n    name_plural: \"Guinean francs\"\n  },\n  GTQ: {\n    symbol: \"GTQ\",\n    name: \"Guatemalan Quetzal\",\n    symbol_native: \"Q\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"GTQ\",\n    name_plural: \"Guatemalan quetzals\"\n  },\n  HKD: {\n    symbol: \"HK$\",\n    name: \"Hong Kong Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"HKD\",\n    name_plural: \"Hong Kong dollars\"\n  },\n  HNL: {\n    symbol: \"HNL\",\n    name: \"Honduran Lempira\",\n    symbol_native: \"L\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"HNL\",\n    name_plural: \"Honduran lempiras\"\n  },\n  HRK: {\n    symbol: \"kn\",\n    name: \"Croatian Kuna\",\n    symbol_native: \"kn\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"HRK\",\n    name_plural: \"Croatian kunas\"\n  },\n  HUF: {\n    symbol: \"Ft\",\n    name: \"Hungarian Forint\",\n    symbol_native: \"Ft\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"HUF\",\n    name_plural: \"Hungarian forints\"\n  },\n  IDR: {\n    symbol: \"Rp\",\n    name: \"Indonesian Rupiah\",\n    symbol_native: \"Rp\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"IDR\",\n    name_plural: \"Indonesian rupiahs\"\n  },\n  ILS: {\n    symbol: \"\",\n    name: \"Israeli New Sheqel\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"ILS\",\n    name_plural: \"Israeli new sheqels\"\n  },\n  INR: {\n    symbol: \"Rs\",\n    name: \"Indian Rupee\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"INR\",\n    name_plural: \"Indian rupees\"\n  },\n  IQD: {\n    symbol: \"IQD\",\n    name: \"Iraqi Dinar\",\n    symbol_native: \"..\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"IQD\",\n    name_plural: \"Iraqi dinars\"\n  },\n  IRR: {\n    symbol: \"IRR\",\n    name: \"Iranian Rial\",\n    symbol_native: \"\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"IRR\",\n    name_plural: \"Iranian rials\"\n  },\n  ISK: {\n    symbol: \"Ikr\",\n    name: \"Icelandic Krna\",\n    symbol_native: \"kr\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"ISK\",\n    name_plural: \"Icelandic krnur\"\n  },\n  JMD: {\n    symbol: \"J$\",\n    name: \"Jamaican Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"JMD\",\n    name_plural: \"Jamaican dollars\"\n  },\n  JOD: {\n    symbol: \"JD\",\n    name: \"Jordanian Dinar\",\n    symbol_native: \"..\",\n    decimal_digits: 3,\n    rounding: 0,\n    code: \"JOD\",\n    name_plural: \"Jordanian dinars\"\n  },\n  JPY: {\n    symbol: \"\",\n    name: \"Japanese Yen\",\n    symbol_native: \"\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"JPY\",\n    name_plural: \"Japanese yen\"\n  },\n  KES: {\n    symbol: \"Ksh\",\n    name: \"Kenyan Shilling\",\n    symbol_native: \"Ksh\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"KES\",\n    name_plural: \"Kenyan shillings\"\n  },\n  KHR: {\n    symbol: \"KHR\",\n    name: \"Cambodian Riel\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"KHR\",\n    name_plural: \"Cambodian riels\"\n  },\n  KMF: {\n    symbol: \"CF\",\n    name: \"Comorian Franc\",\n    symbol_native: \"FC\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"KMF\",\n    name_plural: \"Comorian francs\"\n  },\n  KRW: {\n    symbol: \"\",\n    name: \"South Korean Won\",\n    symbol_native: \"\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"KRW\",\n    name_plural: \"South Korean won\"\n  },\n  KWD: {\n    symbol: \"KD\",\n    name: \"Kuwaiti Dinar\",\n    symbol_native: \"..\",\n    decimal_digits: 3,\n    rounding: 0,\n    code: \"KWD\",\n    name_plural: \"Kuwaiti dinars\"\n  },\n  KZT: {\n    symbol: \"KZT\",\n    name: \"Kazakhstani Tenge\",\n    symbol_native: \".\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"KZT\",\n    name_plural: \"Kazakhstani tenges\"\n  },\n  LBP: {\n    symbol: \"LB\",\n    name: \"Lebanese Pound\",\n    symbol_native: \"..\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"LBP\",\n    name_plural: \"Lebanese pounds\"\n  },\n  LKR: {\n    symbol: \"SLRs\",\n    name: \"Sri Lankan Rupee\",\n    symbol_native: \"SL Re\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"LKR\",\n    name_plural: \"Sri Lankan rupees\"\n  },\n  LTL: {\n    symbol: \"Lt\",\n    name: \"Lithuanian Litas\",\n    symbol_native: \"Lt\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"LTL\",\n    name_plural: \"Lithuanian litai\"\n  },\n  LVL: {\n    symbol: \"Ls\",\n    name: \"Latvian Lats\",\n    symbol_native: \"Ls\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"LVL\",\n    name_plural: \"Latvian lati\"\n  },\n  LYD: {\n    symbol: \"LD\",\n    name: \"Libyan Dinar\",\n    symbol_native: \"..\",\n    decimal_digits: 3,\n    rounding: 0,\n    code: \"LYD\",\n    name_plural: \"Libyan dinars\"\n  },\n  MAD: {\n    symbol: \"MAD\",\n    name: \"Moroccan Dirham\",\n    symbol_native: \"..\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"MAD\",\n    name_plural: \"Moroccan dirhams\"\n  },\n  MDL: {\n    symbol: \"MDL\",\n    name: \"Moldovan Leu\",\n    symbol_native: \"MDL\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"MDL\",\n    name_plural: \"Moldovan lei\"\n  },\n  MGA: {\n    symbol: \"MGA\",\n    name: \"Malagasy Ariary\",\n    symbol_native: \"MGA\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"MGA\",\n    name_plural: \"Malagasy Ariaries\"\n  },\n  MKD: {\n    symbol: \"MKD\",\n    name: \"Macedonian Denar\",\n    symbol_native: \"MKD\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"MKD\",\n    name_plural: \"Macedonian denari\"\n  },\n  MMK: {\n    symbol: \"MMK\",\n    name: \"Myanma Kyat\",\n    symbol_native: \"K\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"MMK\",\n    name_plural: \"Myanma kyats\"\n  },\n  MOP: {\n    symbol: \"MOP$\",\n    name: \"Macanese Pataca\",\n    symbol_native: \"MOP$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"MOP\",\n    name_plural: \"Macanese patacas\"\n  },\n  MUR: {\n    symbol: \"MURs\",\n    name: \"Mauritian Rupee\",\n    symbol_native: \"MURs\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"MUR\",\n    name_plural: \"Mauritian rupees\"\n  },\n  MXN: {\n    symbol: \"MX$\",\n    name: \"Mexican Peso\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"MXN\",\n    name_plural: \"Mexican pesos\"\n  },\n  MYR: {\n    symbol: \"RM\",\n    name: \"Malaysian Ringgit\",\n    symbol_native: \"RM\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"MYR\",\n    name_plural: \"Malaysian ringgits\"\n  },\n  MZN: {\n    symbol: \"MTn\",\n    name: \"Mozambican Metical\",\n    symbol_native: \"MTn\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"MZN\",\n    name_plural: \"Mozambican meticals\"\n  },\n  NAD: {\n    symbol: \"N$\",\n    name: \"Namibian Dollar\",\n    symbol_native: \"N$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"NAD\",\n    name_plural: \"Namibian dollars\"\n  },\n  NGN: {\n    symbol: \"\",\n    name: \"Nigerian Naira\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"NGN\",\n    name_plural: \"Nigerian nairas\"\n  },\n  NIO: {\n    symbol: \"C$\",\n    name: \"Nicaraguan Crdoba\",\n    symbol_native: \"C$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"NIO\",\n    name_plural: \"Nicaraguan crdobas\"\n  },\n  NOK: {\n    symbol: \"Nkr\",\n    name: \"Norwegian Krone\",\n    symbol_native: \"kr\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"NOK\",\n    name_plural: \"Norwegian kroner\"\n  },\n  NPR: {\n    symbol: \"NPRs\",\n    name: \"Nepalese Rupee\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"NPR\",\n    name_plural: \"Nepalese rupees\"\n  },\n  NZD: {\n    symbol: \"NZ$\",\n    name: \"New Zealand Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"NZD\",\n    name_plural: \"New Zealand dollars\"\n  },\n  OMR: {\n    symbol: \"OMR\",\n    name: \"Omani Rial\",\n    symbol_native: \"..\",\n    decimal_digits: 3,\n    rounding: 0,\n    code: \"OMR\",\n    name_plural: \"Omani rials\"\n  },\n  PAB: {\n    symbol: \"B/.\",\n    name: \"Panamanian Balboa\",\n    symbol_native: \"B/.\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"PAB\",\n    name_plural: \"Panamanian balboas\"\n  },\n  PEN: {\n    symbol: \"S/.\",\n    name: \"Peruvian Nuevo Sol\",\n    symbol_native: \"S/.\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"PEN\",\n    name_plural: \"Peruvian nuevos soles\"\n  },\n  PHP: {\n    symbol: \"\",\n    name: \"Philippine Peso\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"PHP\",\n    name_plural: \"Philippine pesos\"\n  },\n  PKR: {\n    symbol: \"PKRs\",\n    name: \"Pakistani Rupee\",\n    symbol_native: \"\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"PKR\",\n    name_plural: \"Pakistani rupees\"\n  },\n  PLN: {\n    symbol: \"z\",\n    name: \"Polish Zloty\",\n    symbol_native: \"z\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"PLN\",\n    name_plural: \"Polish zlotys\"\n  },\n  PYG: {\n    symbol: \"\",\n    name: \"Paraguayan Guarani\",\n    symbol_native: \"\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"PYG\",\n    name_plural: \"Paraguayan guaranis\"\n  },\n  QAR: {\n    symbol: \"QR\",\n    name: \"Qatari Rial\",\n    symbol_native: \"..\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"QAR\",\n    name_plural: \"Qatari rials\"\n  },\n  RON: {\n    symbol: \"RON\",\n    name: \"Romanian Leu\",\n    symbol_native: \"RON\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"RON\",\n    name_plural: \"Romanian lei\"\n  },\n  RSD: {\n    symbol: \"din.\",\n    name: \"Serbian Dinar\",\n    symbol_native: \".\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"RSD\",\n    name_plural: \"Serbian dinars\"\n  },\n  RUB: {\n    symbol: \"RUB\",\n    name: \"Russian Ruble\",\n    symbol_native: \".\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"RUB\",\n    name_plural: \"Russian rubles\"\n  },\n  RWF: {\n    symbol: \"RWF\",\n    name: \"Rwandan Franc\",\n    symbol_native: \"FR\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"RWF\",\n    name_plural: \"Rwandan francs\"\n  },\n  SAR: {\n    symbol: \"SR\",\n    name: \"Saudi Riyal\",\n    symbol_native: \"..\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"SAR\",\n    name_plural: \"Saudi riyals\"\n  },\n  SDG: {\n    symbol: \"SDG\",\n    name: \"Sudanese Pound\",\n    symbol_native: \"SDG\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"SDG\",\n    name_plural: \"Sudanese pounds\"\n  },\n  SEK: {\n    symbol: \"Skr\",\n    name: \"Swedish Krona\",\n    symbol_native: \"kr\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"SEK\",\n    name_plural: \"Swedish kronor\"\n  },\n  SGD: {\n    symbol: \"S$\",\n    name: \"Singapore Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"SGD\",\n    name_plural: \"Singapore dollars\"\n  },\n  SOS: {\n    symbol: \"Ssh\",\n    name: \"Somali Shilling\",\n    symbol_native: \"Ssh\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"SOS\",\n    name_plural: \"Somali shillings\"\n  },\n  SYP: {\n    symbol: \"SY\",\n    name: \"Syrian Pound\",\n    symbol_native: \"..\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"SYP\",\n    name_plural: \"Syrian pounds\"\n  },\n  THB: {\n    symbol: \"\",\n    name: \"Thai Baht\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"THB\",\n    name_plural: \"Thai baht\"\n  },\n  TND: {\n    symbol: \"DT\",\n    name: \"Tunisian Dinar\",\n    symbol_native: \"..\",\n    decimal_digits: 3,\n    rounding: 0,\n    code: \"TND\",\n    name_plural: \"Tunisian dinars\"\n  },\n  TOP: {\n    symbol: \"T$\",\n    name: \"Tongan Paanga\",\n    symbol_native: \"T$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"TOP\",\n    name_plural: \"Tongan paanga\"\n  },\n  TRY: {\n    symbol: \"TL\",\n    name: \"Turkish Lira\",\n    symbol_native: \"TL\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"TRY\",\n    name_plural: \"Turkish Lira\"\n  },\n  TTD: {\n    symbol: \"TT$\",\n    name: \"Trinidad and Tobago Dollar\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"TTD\",\n    name_plural: \"Trinidad and Tobago dollars\"\n  },\n  TWD: {\n    symbol: \"NT$\",\n    name: \"New Taiwan Dollar\",\n    symbol_native: \"NT$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"TWD\",\n    name_plural: \"New Taiwan dollars\"\n  },\n  TZS: {\n    symbol: \"TSh\",\n    name: \"Tanzanian Shilling\",\n    symbol_native: \"TSh\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"TZS\",\n    name_plural: \"Tanzanian shillings\"\n  },\n  UAH: {\n    symbol: \"\",\n    name: \"Ukrainian Hryvnia\",\n    symbol_native: \"\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"UAH\",\n    name_plural: \"Ukrainian hryvnias\"\n  },\n  UGX: {\n    symbol: \"USh\",\n    name: \"Ugandan Shilling\",\n    symbol_native: \"USh\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"UGX\",\n    name_plural: \"Ugandan shillings\"\n  },\n  UYU: {\n    symbol: \"$U\",\n    name: \"Uruguayan Peso\",\n    symbol_native: \"$\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"UYU\",\n    name_plural: \"Uruguayan pesos\"\n  },\n  UZS: {\n    symbol: \"UZS\",\n    name: \"Uzbekistan Som\",\n    symbol_native: \"UZS\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"UZS\",\n    name_plural: \"Uzbekistan som\"\n  },\n  VEF: {\n    symbol: \"Bs.F.\",\n    name: \"Venezuelan Bolvar\",\n    symbol_native: \"Bs.F.\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"VEF\",\n    name_plural: \"Venezuelan bolvars\"\n  },\n  VND: {\n    symbol: \"\",\n    name: \"Vietnamese Dong\",\n    symbol_native: \"\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"VND\",\n    name_plural: \"Vietnamese dong\"\n  },\n  XAF: {\n    symbol: \"FCFA\",\n    name: \"CFA Franc BEAC\",\n    symbol_native: \"FCFA\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"XAF\",\n    name_plural: \"CFA francs BEAC\"\n  },\n  XOF: {\n    symbol: \"CFA\",\n    name: \"CFA Franc BCEAO\",\n    symbol_native: \"CFA\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"XOF\",\n    name_plural: \"CFA francs BCEAO\"\n  },\n  YER: {\n    symbol: \"YR\",\n    name: \"Yemeni Rial\",\n    symbol_native: \"..\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"YER\",\n    name_plural: \"Yemeni rials\"\n  },\n  ZAR: {\n    symbol: \"R\",\n    name: \"South African Rand\",\n    symbol_native: \"R\",\n    decimal_digits: 2,\n    rounding: 0,\n    code: \"ZAR\",\n    name_plural: \"South African rand\"\n  },\n  ZMK: {\n    symbol: \"ZK\",\n    name: \"Zambian Kwacha\",\n    symbol_native: \"ZK\",\n    decimal_digits: 0,\n    rounding: 0,\n    code: \"ZMK\",\n    name_plural: \"Zambian kwachas\"\n  }\n};\n\nexport default currencies;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport axios from 'axios';\nimport { css } from \"emotion\";\nimport Dropzone from 'react-dropzone'\nimport styled from \"styled-components\";\nimport P2 from \"../../typography/P2\";\nimport {\n  TableEditableValue,\n  TableDivider,\n  TablePicker\n} from \"../../tables/tables\";\nimport currencies from \"../../../models/currencies\";\nimport Grid from \"../../layout/Grid\";\nimport Button from \"../../buttons/Button\";\nimport SpinnerContainer from \"../../layout/Spinner\";\nimport InputLabel from '../../buttons/InputLabel';\n\nimport CONFIG from '../../../config';\n\nconst DropzonContainer = styled.div`\n  position: relative;\n  width: 200px;\n  height: 200px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  background-color: white;\n  border-radius: 0.25em;\n  border: 1px solid #e6e8e9;\n  color: #93989F;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100% auto;\n  background-image: url(\"${props => props.backgroundImage}\");\n  cursor: pointer;\n  &:hover {\n    p {\n      visibility: visible !important;\n      cursor: pointer;\n    }\n  }\n\n`\nconst DropZoneDescription = styled.p`\n  visibility: ${props => props.isVisible ? \"visible\" : \"hidden\"};\n`\nconst SubdomainDiv = styled.div`\n  display: flex;\n  align-items: center;\n\n  input {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n`\n\nconst SubdomainUrl = styled.div`\n  background-color: #93989F;\n  padding: 0 1em;\n  border-radius: 0.25em;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  height: 34px;\n  display: flex;\n  align-items: center;\n`\n\nconst CompanyInfoSettingsSection = props => {\n  const { state, dispatch } = props;\n  const [ companyInfo, setCompanyInfo] = useState({\n    name: \"\",\n    vatId: \"\",\n    street: \"\",\n    city: \"\",\n    postCode: \"\",\n    phone: \"\",\n    currency: \"\",\n    vatRate: \"\",\n    logoImg: \"\",\n    subdomain: \"\",\n  })\n  const [ isNameValidate, setIsNameValidate ] = useState(true);\n  const [ imageUploading, setImageUploading ] = useState(false);\n  const [ companyLoading, setCompanyLoading ] = useState(false);\n  const [ validateSubdomain, setValidateSubdomain ] = useState({ validate: true, msg: \"\"})\n  const [ prevSubdomain, setPreSubdomain ] = useState(\"\")\n\n  useEffect(() => {    \n\n    const getCompanyInfo = async () => {\n      try {\n        setCompanyLoading(true)        \n        const res = await axios.get('/company');\n        if (res.data.company != null) {          \n          setCompanyInfo({\n            ...res.data.company,\n          })\n          setPreSubdomain(res.data.company.subdomain)\n        }\n        setCompanyLoading(false)    \n      } catch (err) {\n        setCompanyLoading(false)    \n      }      \n    }\n    getCompanyInfo();\n  }, []);\n\n  const onSaveCompanyInfo = async () => {\n    try {        \n      const axios_config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      \n      let saveOne = { ...companyInfo }\n      delete saveOne['subdomain']\n\n      let res = {};\n      if (companyInfo.id) {\n        res = await axios.put(\n          `/companies/${companyInfo.id}`, \n          JSON.stringify(saveOne),\n          axios_config\n        );\n      } else {\n        res = await axios.post(\n          `/companies`, \n          JSON.stringify(saveOne),\n          axios_config\n        );\n        setCompanyInfo({\n          ...companyInfo,\n          id: res.data.company.id,\n        })  \n      }\n    } catch (err) {\n    }    \n  }\n\n  const changeCompanyInfo = (key, value) => {   \n    if (key === 'subdomain') {\n      if (value.length === 0) {\n        setValidateSubdomain({\n          validate: false,\n          msg: 'Subdomain Required.'\n        })\n      } else {\n        setValidateSubdomain({\n          validate: true,\n          msg: ''\n        })\n      }\n    }\n\n    const companyOne = {...companyInfo}\n    companyOne[key] = value\n    setCompanyInfo({\n      ...companyOne\n    })\n  }\n\n  const changeCompanyName = (value) => {\n    if (value.length === 0) {\n      setIsNameValidate(false);\n    } else {\n      setIsNameValidate(true);\n    }\n    setCompanyInfo({\n      ...companyInfo,\n      name: value,\n    })\n  }\n\n  const onDrop = async (acceptedFiles) => {\n    let imageFormData = new FormData();\n    imageFormData.append('file', acceptedFiles[0])\n\n    setImageUploading(true);\n    const resUpload = await axios.post(\n      '/upload/image',\n      imageFormData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }\n    )\n    setImageUploading(false)\n    setCompanyInfo({\n      ...companyInfo,\n      logoImg: resUpload.data.fileNames[0],\n    })\n  }\n\n  const onSaveSubdomain = async () => {\n    if (companyInfo.subdomainCount >= 5)\n    {\n      setValidateSubdomain({\n        validate: false,\n        msg: \"Sorry, but your new subdomain is not allowed. You may have reached your limit of five changes.\"\n      })\n      return;\n    }\n\n    try {\n      const res = await axios.put(\n        `/companies/savesubdomain/${companyInfo.id}`,\n        {\n          subdomain: companyInfo.subdomain,\n          subdomainCount: companyInfo.subdomainCount + 1,\n        },\n        {\n          headers: {\n            'Content-Type': 'application/json'\n          } \n        }\n      )\n      \n      if (res.data.success){\n        setPreSubdomain(res.data.company.subdomain)\n        setCompanyInfo({\n          ...companyInfo,\n          subdomainCount: res.data.company.subdomainCount,\n        })\n      } else {\n        setValidateSubdomain({\n          validate: false,\n          msg: res.data.error,\n        })\n      }\n    } catch(err) {\n\n    }    \n  }\n\n  return (\n    <div>\n      <SpinnerContainer loading={companyLoading.toString()} />\n      <P2 color=\"grey\">This information below will be used to generate invoices.</P2>\n\n      <TableEditableValue\n        label=\"Company Name\"\n        value={companyInfo.name}\n        onChange={value => {changeCompanyName(value)}}          \n        style={{ width: \"100%\", marginTop: 24 }}\n        className={!isNameValidate? \"error\" : \"\"}\n      />\n      {\n        !isNameValidate && \n        <p \n          className={\n            css`\n              color: #E92579;            \n              margin: 0.2em 0 0 0;\n              padding: 0 0.6em;\n              font-size: 0.8em;\n            `\n          }\n        >\n          Company Name is required.\n        </p>\n      }     \n      <TableEditableValue\n        label=\"VAT ID\"\n        value={companyInfo.vatId}\n        onChange={value => {changeCompanyInfo(\"vatId\", value)}}          \n        style={{ width: \"100%\", marginTop: 14 }}\n      />\n      <Grid columns=\"1fr 1fr\" style={{ width: \"100%\", marginTop: 14 }}>\n        <TableEditableValue\n          label=\"Street\"\n          value={companyInfo.street}\n          onChange={value => {changeCompanyInfo(\"street\", value)}}\n          style={{ width: \"100%\" }}\n        />\n        <TableEditableValue\n          label=\"City\"\n          value={companyInfo.city}\n          onChange={value => {changeCompanyInfo(\"city\", value)}}\n          style={{ width: \"100%\" }}\n        />\n        <TableEditableValue\n          label=\"Post Code\"\n          value={companyInfo.postCode}\n          onChange={value => {changeCompanyInfo(\"postCode\", value)}}            \n          style={{ width: \"100%\" }}\n        />\n        <TableEditableValue\n          label=\"Phone Number\"\n          value={companyInfo.phone}\n          onChange={value => {changeCompanyInfo(\"phone\", value)}}\n          style={{ width: \"100%\" }}\n        />\n      </Grid>\n      <TableDivider />\n      <Grid columns=\"1fr 1fr\" style={{ width: \"100%\", marginTop: 14 }}>\n        <TablePicker\n          label=\"Currency\"\n          searchEnabled\n          options={Object.keys(currencies)}\n          optionsForSearch={\n            Object.keys(currencies).map(item => ({value: item, label: item}))\n          }\n          selectedOption={companyInfo.currency.toUpperCase()}\n          displayTransformer={option =>\n            `${currencies[option].code} (${currencies[option].symbol})`\n          }\n          onOptionSelected={currency => {changeCompanyInfo(\"currency\", currency)}}\n          style={{ width: \"100%\" }}\n        />\n\n        <TableEditableValue\n          label=\"Default VAT Rate (%)\"\n          value={companyInfo.vatRate}\n          onChange={value => {changeCompanyInfo(\"vatRate\", value)}}            \n          style={{ width: \"100%\" }}\n        />\n      </Grid>      \n      <TableDivider />\n      <Grid columns=\"1fr\" style={{ width: \"100%\", marginTop: 14 }}> \n        <div style={{display: 'flex', flexDirection: 'column'}}>\n          <InputLabel>Company Logo</InputLabel> \n          <Dropzone onDrop={onDrop} accept=\"image/png, image/gif, image/jpg, image/jpeg\" multiple={false}>\n            {({getRootProps, getInputProps, isDragActive}) => (\n              <DropzonContainer \n                {...getRootProps()}\n                backgroundImage={companyInfo.logoImg ? CONFIG.API_URL + companyInfo.logoImg : \"\"}\n              >\n                <input {...getInputProps()} />\n                <DropZoneDescription isVisible={(companyInfo.logoImg && companyInfo.logoImg.length > 0) ? false : true}>\n                  {isDragActive ? \"Drop it like it's hot!\" : 'Click me or drag a file to upload!'}\n                </DropZoneDescription>            \n                {\n                  imageUploading && <SpinnerContainer loading={'true'} />\n                }\n              </DropzonContainer>\n            )}\n          </Dropzone>\n        </div>             \n      </Grid>      \n\n      <Grid columns=\"1fr\" style={{ width: \"100%\", marginTop: 14 }}>      \n        <Button \n          primary \n          onClick={onSaveCompanyInfo} \n          style={{ maxWidth: \"100px\"}}\n          disabled={!isNameValidate}\n        >\n          Save\n        </Button>       \n      </Grid>\n\n      <TableDivider />\n      \n      <InputLabel>Subdomain</InputLabel>\n      <SubdomainDiv>\n        <TableEditableValue          \n          value={companyInfo.subdomain}\n          onChange={value => {changeCompanyInfo(\"subdomain\", value)}}\n          style={{ width: '100%'}}\n          className={!validateSubdomain.validate? \"error\" : \"\"}\n        />\n        <SubdomainUrl>\n          .heyagenda.com\n        </SubdomainUrl>\n      </SubdomainDiv>\n      {\n        !validateSubdomain.validate && \n        <p \n          className={\n            css`\n              color: #E92579;            \n              margin: 0.2em 0 0 0;\n              padding: 0 0.6em;\n              font-size: 0.8em;\n            `\n          }\n        >\n          {validateSubdomain.msg}\n        </p>\n      }           \n      \n      <Button \n        primary \n        onClick={onSaveSubdomain} \n        disabled={!companyInfo.subdomain.length > 0 || prevSubdomain === companyInfo.subdomain}\n        style={{marginTop: 14, marginBottom: 20}}\n      >\n        Change subdomain\n      </Button>\n    </div>\n  );\n};\n\nexport default CompanyInfoSettingsSection;\n","import React from \"react\";\nimport { css } from \"emotion\";\nimport colors from \"../style/colors\";\n\nconst tgWidth = 2.5;\nconst tgHeight = 1.6;\nconst tgPadding = 0.2;\nconst tgNobHeight = tgHeight - tgPadding * 2;\nconst tgNobMoved = tgWidth - tgNobHeight - tgPadding;\n\nconst Toggle = props => {\n  const { onChange, enabled = true, style } = props;\n\n  return (\n    <div\n      style={style}\n      onClick={onChange}\n      className={css`\n        display: inline-block;\n        padding: 0.2em;\n        background: ${enabled ? colors.accent_pink : colors.grey};\n        width: ${tgWidth}em;\n        height: ${tgHeight}em;\n        border-radius: ${tgHeight}em;\n        position: relative;\n        transition: background 0.1s;\n        cursor: pointer;\n      `}\n    >\n      <div // white thumb indicating selection state\n        className={css`\n          position: absolute;\n          left: ${enabled ? tgNobMoved + \"em\" : tgPadding + \"em\"};\n          top: ${tgPadding}em;\n          width: ${tgNobHeight}em;\n          height: ${tgNobHeight}em;\n          border-radius: 50%;\n          transition: left 0.1s;\n          background: ${enabled ? \"white\" : \"rgba(255,255,255,.75)\"};\n        `}\n      />\n    </div>\n  );\n};\n\nexport default Toggle;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport axios from 'axios';\nimport { AppReducerContext } from \"../../../contexts/AppReducerContext\";\nimport P2 from \"../../typography/P2\";\nimport { css } from \"emotion\";\nimport P1 from \"../../typography/P1\";\nimport H5 from \"../../typography/H5\";\nimport colors from \"../../style/colors\";\nimport ColoredDot from \"../../buttons/ColoredDot\";\nimport InputField from \"../../buttons/InputField\";\nimport Toggle from \"../../buttons/Toggle\";\nimport removeSvg from \"../../../images/ui/remove.svg\";\nimport dragHandleSvg from \"../../../images/ui/dragHandle.svg\";\nimport SvgButton from \"../../buttons/SvgButton\";\nimport Button from \"../../buttons/Button\";\nimport AddGlyph from \"../../../images/Glyphs/AddGlyph\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport SpinnerContainer from \"../../../components/layout/Spinner\";\nimport reorder from \"../../../utils/reorder\";\n\nimport {\n  REQUEST_GET_BOOKINGSTATUS,\n  GET_BOOKING_STATUS_SUCCESS,\n  GET_BOOKING_STATUS_ERROR,\n  REQUEST_ADD_BOOKING_STATUS,\n  GET_ADD_BOOKING_STATUS_SUCCESS,\n  GET_ADD_BOOKING_STATUS_ERROR,\n  REQUEST_UPDATE_BOOKING_STATUS,\n  GET_UPDATE_BOOKING_STATUS_SUCCESS,\n  GET_UPDATE_BOOKING_STATUS_ERROR,\n  REQUEST_DELETE_BOOKING_STATUS,\n  GET_DELETE_BOOKING_STATUS_SUCCESS,\n  GET_DELETE_BOOKING_STATUS_ERROR,\n  APPEND_CUSTOM_STATUS,\n  REMOVE_NEW_BOOKING_STATUS,\n  SET_BOOKING_STATUS_PAGE_STATUS,\n  UPDATE_ALL_BOOKINGSTATUS_SUCCESS,\n} from \"../../../reducers/actionType\";\n\nconst DefaultStatusRow = props => {\n  const { status, index } = props;\n  const { id, name, color } = status;\n\n  return (\n    <Draggable draggableId={id} index={index}>\n      {provided => (\n        <div\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          className={css`\n            border: 1px solid ${colors.light};\n            padding: 0.2em 0.5em;\n            margin-top: 1em;\n            border-radius: 4px;\n            p {\n              margin: 0;\n              padding: 0;\n            }\n          `}\n        >\n          <P1>\n            {name}{\" \"}\n            {color && <ColoredDot color={color} style={{ marginLeft: 4 }} />}\n          </P1>\n          <div style={{ display: \"none\" }} {...provided.dragHandleProps} />\n        </div>\n      )}\n    </Draggable>\n  );\n};\n\nconst CustomStatusRow = props => {\n  const { \n    status, \n    index, \n    onDelete, \n    onToggle, \n    onChangeName, \n    draggable, \n    changeSelectedIndex, \n    selectedStatusIndex \n  } = props;\n  const { id, name, active } = status;  \n  const [ nameValue, setNameValue ] = useState(\"\");\n  const [ isValidate, setIsValidate ] = useState(true);\n\n  const { state, dispatch } = useContext(AppReducerContext);\n\n  useEffect(() => {    \n    setNameValue(name);\n  }, [name]);\n\n  const handleChangeName = value => {\n    if (value.length === 0)\n      setIsValidate(false);\n    else setIsValidate(true);    \n    setNameValue(value);\n  }\n\n  const handleNameKeyPress = event => {\n    if (event.key === 'Enter') {\n      if (nameValue.length > 0) {\n        onChangeName(nameValue, index);\n        dispatch({ \n          type: SET_BOOKING_STATUS_PAGE_STATUS,\n          payload: true,\n        })\n      }\n    }\n  }\n\n  const onBlurName = value => {\n    setNameValue(name);\n    if (name.length > 0) {\n      setIsValidate(true);\n      dispatch({ \n        type: SET_BOOKING_STATUS_PAGE_STATUS,\n        payload: true,\n      })\n      changeSelectedIndex(null);\n    } else setIsValidate(false);\n  }\n\n  const handleOnFocus = value => {\n    dispatch({ \n      type: SET_BOOKING_STATUS_PAGE_STATUS,\n      payload: false,\n    })\n    changeSelectedIndex(index);\n  }\n\n  return (\n    <Draggable draggableId={id} index={index}>\n      {provided => (\n        <div \n          className={css`\n            display: flex;\n            flex-direction: column;\n            width: 100%;        \n            pointer-events: ${selectedStatusIndex !== index && !state.settings.enableBookingSection ? \"none\" : \"inherit\"};\n          `}\n        >\n          <div\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            className={css`\n              display: flex;\n              align-items: center;\n              margin-top: 1em;\n              border-radius: 4px;\n              width: 100%;              \n              p {\n                margin: 0;\n                padding: 0;\n              }\n              input {\n                flex: 1;\n              }\n            `}\n          >\n            <InputField\n              onChange={event => {\n                handleChangeName(event.target.value)\n              }}\n              value={nameValue}\n              style={{ marginRight: \"1em\" }}\n              placeholder=\"Name for your custom status\"\n              onBlur={event => {onBlurName(event.target.value)}}\n              autoFocus={(id === -1)}\n              className={isValidate ? \"\" : \"error\"}\n              onKeyPress={event => {handleNameKeyPress(event)}}\n              onFocus={event => {handleOnFocus(event)}}              \n            />\n            <Toggle\n              enabled={active}\n              onChange={onToggle}\n              style={{ marginRight: \"0.5em\" }}\n            />\n            <SvgButton\n              size={20}\n              svg={removeSvg}\n              onClick={onDelete}\n              style={{ marginRight: \"0.5em\" }}\n            />\n            <SvgButton\n              size={20}\n              svg={dragHandleSvg}\n              style={{ cursor: \"grab\", marginRight: \"0.5em\" }}\n              {...provided.dragHandleProps}\n              className={\n                css`\n                  pointer-events: ${isValidate && draggable ? \"inherit\" : \"none\"};\n                `\n              }\n            />\n          </div>\n          { !isValidate && \n            <p\n              className={\n                css`\n                  color: #E92579;\n                  font-size: 0.8em;\n                  line-height: 28px;\n                  padding: 0 0.6em;\n                  margin: 0.2em 0 0 0;\n                `\n              }\n            >\n              Required\n            </p>\n          }          \n        </div>\n      )}\n    </Draggable>\n  );\n};\n\nconst BookingStatusesSettingsSection = props => {\n  const { state, dispatch } = props;\n  const [ selectedStatusIndex, setSelectedStatusIndex ] = useState(null);\n\n  useEffect(() => {\n    const getBookingStatus = async () => {\n\n      try {\n        dispatch({ type: REQUEST_GET_BOOKINGSTATUS });\n        const res = await axios.get('/statuses');\n        \n        dispatch({ \n          type: GET_BOOKING_STATUS_SUCCESS,\n          payload: res.data.statuses,\n        })\n\n      } catch (err) {\n        dispatch({ type: GET_BOOKING_STATUS_ERROR })\n      }      \n    }\n    getBookingStatus();\n  }, []);\n\n  const onDragEnd = async (result) => {\n    if (!result.destination || result.destination.index === 0) {\n      return;\n    }\n\n    if (result.destination.index === result.source.index) {\n      return;\n    }\n   \n    let nIndex = 0\n    if(result.destination.index >= 1)\n      nIndex = result.destination.index-1;\n\n    let newUpdateStatus = state.bookingStatuses[result.source.index];\n    if (state.bookingStatuses[nIndex].type === 'default')\n      newUpdateStatus.parentId = state.bookingStatuses[nIndex].name;\n    else newUpdateStatus.parentId = state.bookingStatuses[nIndex].parentId;    \n\n    newUpdateStatus.order = result.destination.index;        \n\n    dispatch({ type: REQUEST_UPDATE_BOOKING_STATUS });\n\n    dispatch({\n      type: \"reorder_status\",\n      from: result.source.index,\n      to: result.destination.index\n    });\n\n    const { id, name, active, order, parentId } = newUpdateStatus;\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    const res = await axios.put(\n      `./statuses/${id}`, \n      JSON.stringify({\n        id, name, active, parentId, order\n      }), \n      config\n    );\n\n    let bookingStatuses = reorder(state.bookingStatuses, result.source.index, result.destination.index);\n    bookingStatuses = bookingStatuses.map(item => {\n      if (item.id === res.data.status.id)\n        return res.data.status;\n      else return item;\n    })\n    \n    dispatch({ \n      type: UPDATE_ALL_BOOKINGSTATUS_SUCCESS,\n      payload: bookingStatuses\n    })\n    // dispatch({\n    //   type: \"reorder_status\",\n    //   payload: bookingStatuses\n    // });\n\n    // dispatch({\n    //   type: GET_UPDATE_BOOKING_STATUS_SUCCESS,\n    //   payload: res.data.status\n    // })\n\n    // dispatch({\n    //   type: \"reorder_status\",\n    //   from: result.source.index,\n    //   to: result.destination.index\n    // });\n    \n  }\n\n  const changeBookingStatus = async (nameValue, index) => {\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    if (state.bookingStatuses[index].id === -1) {\n      try {\n        dispatch({ type: REQUEST_ADD_BOOKING_STATUS });\n        \n        const { active } = state.bookingStatuses[index];\n\n        let parentId = null;\n        let order = index;\n        if(state.bookingStatuses[index-1].name === \"Enquiry\" || state.bookingStatuses[index-1].name === \"Proposal\"){\n          parentId = state.bookingStatuses[index-1].name;\n          order = 0;\n        } else if(state.bookingStatuses[index-1].parentId != null) {\n          parentId = state.bookingStatuses[index-1].parentId;\n          order = state.bookingStatuses[index-1].order + 1;\n        }\n          \n        const res = await axios.post(\n          './statuses', \n          JSON.stringify({\n            name: nameValue,\n            active, \n            parentId,\n            order,\n          }), \n          config\n        );\n        \n        dispatch({\n          type: GET_ADD_BOOKING_STATUS_SUCCESS,\n          payload: res.data.status\n        });\n      } catch (err) {\n        dispatch({ type: GET_ADD_BOOKING_STATUS_ERROR });\n      }\n    } else {\n      try {\n        dispatch({ type: REQUEST_UPDATE_BOOKING_STATUS });\n\n        const { id, active, order, parentId } = state.bookingStatuses[index];\n        const res = await axios.put(\n          `./statuses/${id}`, \n          JSON.stringify({\n            id, name: nameValue, active, parentId, order\n          }), \n          config\n        );\n\n        dispatch({\n          type: GET_UPDATE_BOOKING_STATUS_SUCCESS,\n          payload: res.data.status\n        })\n      } catch (err) {\n        dispatch({ type: GET_UPDATE_BOOKING_STATUS_ERROR })\n      }\n    }    \n  }  \n\n  const changeToggle = async (index) => {    \n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n\n      dispatch({ type: REQUEST_UPDATE_BOOKING_STATUS });\n\n      const { id, name, active, order, parentId } = state.bookingStatuses[index];\n      const res = await axios.put(\n        `./statuses/${id}`, \n        JSON.stringify({\n          id, name, active: !active, parentId, order\n        }), \n        config\n      );\n\n      dispatch({\n        type: GET_UPDATE_BOOKING_STATUS_SUCCESS,\n        payload: res.data.status\n      })\n    } catch (err) {\n      dispatch({ type: GET_UPDATE_BOOKING_STATUS_ERROR })\n    } \n  }\n\n  const deleteBookingStatus = async (index) => {\n    if (state.bookingStatuses[index].id === -1) {\n      dispatch({ type: REMOVE_NEW_BOOKING_STATUS });\n      setSelectedStatusIndex(null);      \n    } else {        \n      try {\n        dispatch({ type: REQUEST_DELETE_BOOKING_STATUS })\n        \n        const id = state.bookingStatuses[index].id;\n        await axios.delete(`/statuses/${id}`);\n\n        dispatch({ \n          type: GET_DELETE_BOOKING_STATUS_SUCCESS,\n          payload: id\n        })\n      } catch (err) {\n        dispatch({ type: GET_DELETE_BOOKING_STATUS_ERROR });\n      }\n    }\n  }\n\n  const changeSelectedIndex = index => {\n    setSelectedStatusIndex(index);\n  }\n\n  const onAddStatus = () => {\n    dispatch({ type: APPEND_CUSTOM_STATUS });\n    setSelectedStatusIndex(state.bookingStatuses.length);\n  }\n\n  return (\n    <React.Fragment>\n      { state.bookingStatusesLoading ? (\n          <SpinnerContainer loading={state.bookingStatusesLoading.toString()} />\n        ) : (\n          <React.Fragment>\n            <SpinnerContainer loading={state.bookingStatusActionLoading.toString()} />\n            <DragDropContext onDragEnd={onDragEnd}>\n              <Droppable droppableId=\"list\">\n                {provided => (\n                  <div ref={provided.innerRef} {...provided.droppableProps}>\n                    <P2 color=\"grey\">\n                      Add new custom booking statuses you can use in your organization.\n                      You cant edit or remove the default ones.\n                    </P2>\n                    <div style={{ marginTop: 10 }}>\n                      <H5>Status</H5>\n                      {state.bookingStatuses.map((status, index) =>\n                        status.type === \"default\" ? (\n                          <DefaultStatusRow\n                            key={status.id}\n                            index={index}\n                            status={status}\n                          />\n                        ) : (\n                          <CustomStatusRow\n                            key={status.id}\n                            index={index}\n                            status={status}\n                            onToggle={() =>\n                              changeToggle(index)\n                            }\n                            onDelete={() => {\n                              deleteBookingStatus(index);\n                            }}\n                            onChangeName={changeBookingStatus}\n                            draggable={state.enableBookingSection}\n                            changeSelectedIndex={changeSelectedIndex}\n                            selectedStatusIndex={selectedStatusIndex}\n                          />\n                        )\n                      )}\n                      {provided.placeholder}\n                    </div>\n                    <Button\n                      primary\n                      onClick={onAddStatus}\n                      iconComponent={() => <AddGlyph fill={colors.white} />}\n                      style={{ marginTop: \"2em\" }}\n                      disabled={!state.enableBookingSection}\n                    >\n                      Add Status\n                    </Button>\n                  </div>\n                )}\n              </Droppable>\n            </DragDropContext>\n          </React.Fragment>\n        )\n      }\n    </React.Fragment>\n  );\n};\n\nexport default BookingStatusesSettingsSection;\n","import React from \"react\";\n\nconst CircleAddGlyph = props => {\n  const { side = 24, fill = \"#E92579\" } = props;\n  return (\n    <svg \n      width={side.toString()}\n      height={side.toString()}            \n      xmlns=\"http://www.w3.org/2000/svg\" \n      viewBox=\"0 0 512 512\"\n    >\n      <path \n        fill={fill}\n        d=\"M384 250v12c0 6.6-5.4 12-12 12h-98v98c0 6.6-5.4 12-12 12h-12c-6.6 0-12-5.4-12-12v-98h-98c-6.6 0-12-5.4-12-12v-12c0-6.6 5.4-12 12-12h98v-98c0-6.6 5.4-12 12-12h12c6.6 0 12 5.4 12 12v98h98c6.6 0 12 5.4 12 12zm120 6c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-32 0c0-119.9-97.3-216-216-216-119.9 0-216 97.3-216 216 0 119.9 97.3 216 216 216 119.9 0 216-97.3 216-216z\">\n      </path>\n    </svg>  \n  );\n};\n\nexport default CircleAddGlyph;\n","import React, {useState, useContext, useEffect} from \"react\";\nimport useDebouncedCallback from \"use-debounce/lib/useDebouncedCallback\";\nimport axios from 'axios';\nimport styled from \"styled-components\";\n\nimport colors from \"../../style/colors\";\nimport AddGlyph from \"../../../images/Glyphs/AddGlyph\";\nimport CircleAddGlyph from \"../../../images/Glyphs/CircleAddGlyph\";\nimport removeSvg from \"../../../images/ui/remove.svg\";\nimport P2 from \"../../typography/P2\";\nimport Button from \"../../buttons/Button\";\nimport SpinnerContainer from \"../../layout/Spinner\";\nimport { TablePicker, TableEditableValue } from \"../../tables/tables\";\nimport SvgButton from \"../../buttons/SvgButton\";\n\nimport {\n  AppReducerContext,\n} from \"../../../contexts/AppReducerContext\";\n\nimport { BOOKING_COLOR_CONDITION_KEYS, BOOKING_COLORS } from '../../../constants';\n\nimport '../../../css/settings.css'\n\nconst ConditionContainer = styled.div`\n  display: flex;\n  padding: 1em;\n  background-color: rgb(241, 243, 245);\n  margin-bottom: 1em;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  margin-bottom: 1em;\n  align-items: center;\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst ConditionItemDiv = styled.div`\n  display: flex;\n  width: 30%;\n  padding-right: 1em;\n`;\n\nconst StyledOutlineButton = styled(Button)`  \n  margin-right: 1em;\n`;\n\nconst StyledTableDivider = styled.div`\n  border-bottom: 1px solid #E6E8E9;  \n  margin-bottom: 1em;\n  width: 100%;\n`;\n\nconst StyledColorSpan = styled.span`\n  display: block;\n  width: 14px;\n  height: 14px;\n  background-color:${props => props.color};\n  border-radius: 2px;\n  margin: 0 auto;\n`\n\nconst StyledP2 = styled(P2)`\n  margin: 0;\n  line-height: 34px;\n`;\n\nconst RemoveButton = styled(SvgButton)`\n  margin-left: auto;\n`;\n\nconst CustomBookingColorSection = () => {\n\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [conditionSettingId, setConditionSettingId] = useState(-1)\n  const [conditionSettings, setConditionSettings] = useState([\n    {        \n      color: BOOKING_COLORS[0],\n      content: [\n        [\n          {\n            condition_key: BOOKING_COLOR_CONDITION_KEYS[0].condition_key.value, \n            condition_type: BOOKING_COLOR_CONDITION_KEYS[0].condition_types[0].value,\n            condition_value: BOOKING_COLOR_CONDITION_KEYS[0].condition_values[0].value,\n          }\n        ]          \n      ]\n    }\n  ])\n\n  useEffect(() => {\n    const getCustomBookingColorInfo = async () => {\n      try {        \n        const res = await axios.get('/bookingcolor')\n        if (res.data.bookingColor) {\n          setConditionSettingId(res.data.bookingColor.id)\n          setConditionSettings(JSON.parse(res.data.bookingColor.color))\n        }\n        setLoading(false)\n      } catch {\n\n        setLoading(false)\n      }\n    }\n    getCustomBookingColorInfo();\n  }, [])\n\n  const saveConditions = async (conditions) => {\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n      setSaving(true);\n      let res;\n      if (conditionSettingId === -1) {\n        res = await axios.post('/bookingcolor', {color: JSON.stringify(conditions)}, config)\n        setConditionSettingId(res.data.bookingColor.id)\n      } else {\n        res = await axios.put(`/bookingcolor/${conditionSettingId}`, {color: JSON.stringify(conditions)}, config)\n      }\n      setSaving(false);\n    } catch (err) {\n      setSaving(false);\n    }\n  }\n\n  const addCondition = () => {\n    const newOne = [\n      ...conditionSettings,\n      {\n        color: BOOKING_COLORS[0],\n        content: [\n          [\n            {\n              condition_key: BOOKING_COLOR_CONDITION_KEYS[0].condition_key.value, \n              condition_type: BOOKING_COLOR_CONDITION_KEYS[0].condition_types[0].value,\n              condition_value: BOOKING_COLOR_CONDITION_KEYS[0].condition_values[0].value,\n            }\n          ]          \n        ]\n      }\n    ]\n    setConditionSettings([ ...newOne ])\n    saveConditions(newOne)\n  }\n\n  const getInitialConditionType = (condition_key) => {\n    const filterOne = BOOKING_COLOR_CONDITION_KEYS.filter(item => item.condition_key.value === condition_key)\n    if (filterOne.length > 0)\n      return filterOne[0].condition_types[0].value;\n    else return \"\";\n  }\n\n  const getInitialConditionValue = (condition_key) => {\n    const filterOne = BOOKING_COLOR_CONDITION_KEYS.filter(item => item.condition_key.value === condition_key)\n    if (filterOne.length > 0)\n      return filterOne[0].condition_values[0].value;\n    else return \"\";\n  }\n\n  const getConditionKeyValues = () => {\n    return BOOKING_COLOR_CONDITION_KEYS.map(item => {\n      return item.condition_key.value\n    })\n  }\n\n  const getConditionKeyLabel = (condition_key) => {\n    const filterOne = BOOKING_COLOR_CONDITION_KEYS.filter(item => item.condition_key.value == condition_key)\n    if (filterOne.length > 0)\n      return filterOne[0].condition_key.label\n    return \"\"\n  }\n  \n  const handleChangeContionKey = (condition_key, nKey, nKeyTwo, nIndex) => {    \n    const newOne = [ ...conditionSettings];\n    if( newOne[nKey].content[nKeyTwo][nIndex].condition_key === condition_key)\n      return;\n    newOne[nKey].content[nKeyTwo][nIndex].condition_key = condition_key;    \n    newOne[nKey].content[nKeyTwo][nIndex].condition_type = getInitialConditionType(condition_key)\n    if (condition_key === 'payment_status')\n      newOne[nKey].content[nKeyTwo][nIndex].condition_value = getInitialConditionValue(condition_key)\n    else \n      newOne[nKey].content[nKeyTwo][nIndex].condition_value = \"\"\n      \n    setConditionSettings([ ...newOne ])\n    saveConditions(newOne)\n  }\n\n  const getConditionTypeValues = (condition_key) => {\n    const filterOne = BOOKING_COLOR_CONDITION_KEYS.filter(item => item.condition_key.value === condition_key)\n    if (filterOne.length > 0)\n      return filterOne[0].condition_types.map(itemOne => itemOne.value)\n    return []\n  }\n\n  const getConditionTypeLabel = (condition_key, condition_type) => {\n    const filterOne = BOOKING_COLOR_CONDITION_KEYS.filter(item => item.condition_key.value === condition_key)\n    if (filterOne.length > 0) {\n      const filterTwo = filterOne[0].condition_types.filter(itemOne => itemOne.value === condition_type)\n      if (filterTwo.length > 0)\n        return filterTwo[0].label\n      else return \"\"\n    } else\n      return \"\"\n  }\n\n  const handleChangeConditionTypes = (condition_type, nKey, nKeyTwo, nIndex) => {\n    const newOne = [ ...conditionSettings];\n    newOne[nKey].content[nKeyTwo][nIndex].condition_type = condition_type;\n    setConditionSettings([ ...newOne ])\n    saveConditions(newOne)\n  }\n\n  const getConditionValuesValue = (condition_key) => {\n    const filterOne = BOOKING_COLOR_CONDITION_KEYS.filter(item => item.condition_key.value === condition_key)\n    if (filterOne.length > 0)\n      return filterOne[0].condition_values.map(itemOne => itemOne.value)\n    return []\n  }\n\n  const getConditionValueLabel = (condition_key, condition_value) => {\n    const filterOne = BOOKING_COLOR_CONDITION_KEYS.filter(item => item.condition_key.value === condition_key)\n    if (filterOne.length > 0) {\n      const filterTwo = filterOne[0].condition_values.filter(itemOne => itemOne.value === condition_value)\n      if (filterTwo.length > 0)\n        return filterTwo[0].label\n      else return \"\"\n    } else \n      return \"\"\n  }\n\n  const handleChnageConditionValue = (value, nKey, nKeyTwo, nIndex) => {\n    const newOne = [...conditionSettings];\n    if (newOne[nKey].content[nKeyTwo][nIndex].condition_value === value)\n      return;\n      newOne[nKey].content[nKeyTwo][nIndex].condition_value = value;\n    setConditionSettings([ ...newOne ])\n    saveConditions(newOne)\n  }\n\n  const handleChangeConditionValueText = (value, nKey, nKeyTwo, nIndex) => {\n    const newOne = [...conditionSettings];\n    if (newOne[nKey].content[nKeyTwo][nIndex].condition_value === value)\n      return;\n    newOne[nKey].content[nKeyTwo][nIndex].condition_value = value;\n    setConditionSettings([ ...newOne ])\n  }\n\n  const [debouncedChangeConditionValue] = useDebouncedCallback((value, nKey, nKeyTwo, nIndex) => {\n    saveConditions(conditionSettings)\n  }, 1000);\n\n  const handleClickAdd = (nKey, nKeyTwo) => {\n    const newOne = [...conditionSettings]\n    newOne[nKey].content[nKeyTwo].push({\n      condition_key: BOOKING_COLOR_CONDITION_KEYS[0].condition_key.value, \n      condition_type: BOOKING_COLOR_CONDITION_KEYS[0].condition_types[0].value,\n      condition_value: BOOKING_COLOR_CONDITION_KEYS[0].condition_values[0].value,\n    })\n    setConditionSettings([ ...newOne ])\n    saveConditions(newOne)\n  }\n\n  const handleClickOR = (nKey, nKeyTwo) => {\n    const newOne = [ ...conditionSettings ]\n    newOne[nKey].content.push(\n      [\n        {\n          condition_key: BOOKING_COLOR_CONDITION_KEYS[0].condition_key.value, \n          condition_type: BOOKING_COLOR_CONDITION_KEYS[0].condition_types[0].value,\n          condition_value: BOOKING_COLOR_CONDITION_KEYS[0].condition_values[0].value,\n        }\n      ]       \n    )\n    setConditionSettings([ ...newOne ])\n    saveConditions(newOne)\n  }\n\n  const handleChangeBookingColor = (selColor, nKey) => {\n    const newOne = [ ...conditionSettings ]\n    if (conditionSettings[nKey].color === selColor)\n      return\n      newOne[nKey].color = selColor\n    setConditionSettings([ ...newOne ])\n    saveConditions(newOne)\n  }\n\n  const handleClickDeleteRow = (nKey, nKeyTwo, nIndex) => {\n    const newOne = [ ...conditionSettings ]\n    newOne[nKey].content[nKeyTwo].splice(nIndex, 1)\n    if (newOne[nKey].content[nKeyTwo].length === 0)\n      newOne[nKey].content.splice(nKeyTwo, 1)\n    if (newOne[nKey].content.length === 0)\n      newOne.splice(nKey, 1)\n    setConditionSettings([ ...newOne ])\n    saveConditions(newOne)\n  }\n\n  return (\n    <div>\n      <SpinnerContainer loading={loading.toString()} />\n      <P2 color=\"grey\">Add a custom colour to your booking Calendar</P2>\n      {\n        conditionSettings.map((itemOne, nKey) => {\n          return <ConditionContainer key={nKey}>\n            <Row>\n              <StyledP2 color=\"grey\">Use</StyledP2>\n                <TablePicker                               \n                  label=\"\"\n                  options={BOOKING_COLORS}\n                  displayTransformer={\n                    option => { return <StyledColorSpan key={option} color={option} /> }\n                  }\n                  style={{marginLeft: '0.3em', marginRight: '0.3em'}}\n                  selectedOption={itemOne.color}\n                  onOptionSelected={selColor => handleChangeBookingColor(selColor, nKey)}\n                />\n              <StyledP2 color=\"grey\">when...</StyledP2>              \n            </Row>\n            {\n              itemOne.content.map((itemTwo, nKeyTwo) => {\n                return <React.Fragment key={\"itemTwo\" + nKeyTwo}>\n                  {\n                    nKeyTwo > 0 && <StyledP2>...or When</StyledP2>\n                  }\n                  {\n                    itemTwo.map((item, nIndex) => {\n                      return <Row key={\"item\"+nIndex}>\n                          <ConditionItemDiv>\n                            <TablePicker \n                              label=\"\"\n                              options={getConditionKeyValues()}\n                              style={{width: '100%'}}\n                              selectedOption={item.condition_key}                \n                              displayTransformer={\n                                option => { return getConditionKeyLabel(option) }\n                              }\n                              onOptionSelected={condition_key => {handleChangeContionKey(condition_key, nKey, nKeyTwo, nIndex)}}\n                            />\n                          </ConditionItemDiv>\n                          <ConditionItemDiv>\n                            <TablePicker \n                              label=\"\"\n                              options={getConditionTypeValues(item.condition_key)}\n                              style={{width: '100%'}}\n                              selectedOption={item.condition_type}                \n                              displayTransformer={\n                                option => { return getConditionTypeLabel(item.condition_key, option) }\n                              }\n                              onOptionSelected={condition_type => {handleChangeConditionTypes(condition_type, nKey, nKeyTwo, nIndex)}}\n                            />\n                          </ConditionItemDiv>\n                          <ConditionItemDiv>\n                            {\n                              item.condition_key === 'title' && (\n                                <TableEditableValue \n                                  label=\"\"\n                                  value={item.condition_value}\n                                  style={{width: '100%'}}\n                                  onChange={value => {\n                                    handleChangeConditionValueText(value, nKey, nKeyTwo, nIndex)\n                                    debouncedChangeConditionValue(value, nKey, nKeyTwo, nIndex)\n                                  }}\n                                />\n                              )\n                            }\n                            {\n                              (item.condition_key === 'payment_status' || item.condition_key === 'slot_type') && (\n                                <TablePicker\n                                  label=\"\"\n                                  options={getConditionValuesValue(item.condition_key)}\n                                  displayTransformer={\n                                    option => { return getConditionValueLabel(item.condition_key, option)}\n                                  }\n                                  selectedOption={item.condition_value}\n                                  style={{width: '100%'}}\n                                  onOptionSelected={value => handleChnageConditionValue(value, nKey, nKeyTwo, nIndex)}\n                                />\n                              )\n                            }                            \n                          </ConditionItemDiv>\n                          <RemoveButton\n                            size={20}\n                            svg={removeSvg}\n                            onClick={() => handleClickDeleteRow(nKey, nKeyTwo, nIndex)}\n                          />\n                        </Row>                  \n                    })\n                  }\n                  <Row>\n                    <StyledOutlineButton                \n                      outline\n                      onClick={() => handleClickAdd(nKey, nKeyTwo)}\n                      iconComponent={() => <CircleAddGlyph fill={colors.grey} side={16} />}        \n                    >\n                      &nbsp;And\n                    </StyledOutlineButton>\n                    {\n                      nKeyTwo === (itemOne.content.length - 1) && (\n                        <StyledOutlineButton                \n                          outline\n                          onClick={() => handleClickOR(nKey)}\n                          iconComponent={() => <CircleAddGlyph fill={colors.grey} side={16} />}        \n                        >\n                          &nbsp;Or\n                        </StyledOutlineButton>\n                      )\n                    }\n                  </Row>\n                  {\n                    (nKeyTwo < (itemOne.content.length - 1)) && (\n                      <StyledTableDivider />\n                    )\n                  }\n                </React.Fragment> \n              })\n            }\n          </ConditionContainer>\n        })\n      }\n            \n      <Row>\n        <Button\n          primary\n          onClick={addCondition}\n          iconComponent={() => <AddGlyph fill={colors.white} />}        \n        >\n          Add a condition\n        </Button>\n      </Row>\n    </div>\n  )\n}\n\nexport default CustomBookingColorSection;","import { css } from \"emotion\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from 'axios';\nimport { AppReducerContext } from \"../contexts/AppReducerContext\";\nimport Button from \"../components/buttons/Button\";\nimport colors from \"../components/style/colors\";\nimport { TableEditableValue } from \"../components/tables/tables\";\nimport H3 from \"../components/typography/H3\";\nimport P1 from \"../components/typography/P1\";\nimport ColoredDot from \"../components/buttons/ColoredDot\";\nimport SpinnerContainer from \"../components/layout/Spinner\"\nimport {\n  REQUEST_GET_VENUE,\n  GET_VENUE_SUCCESS,\n  GET_VENUE_ERROR,\n  REQUEST_ADD_VENUE,\n  GET_ADD_VENUE_SUCCESS,\n  GET_ADD_VENUE_ERROR,\n  REQUEST_DELETE_VENUE,\n  GET_DELETE_VENUE_SUCCESS,\n  GET_DELETE_VENUE_ERROR,\n  REQUEST_EDIT_VENUE,\n  GET_EDIT_VENUE_SUCCESS,\n  GET_EDIT_VENUE_ERROR,\n  REQUEST_GET_VENUE_SPACES,\n  GET_VENUE_SPACES_SUCCESS,\n  GET_VENUE_SPACES_ERROR,\n  REQUEST_ADD_VENUE_SPACE,\n  GET_ADD_VENUE_SPACE_SUCCESS,\n  GET_ADD_VENUE_SPACE_ERROR,\n  REQUEST_EDIT_VENUE_SPACE,\n  GET_EDIT_VENUE_SPACE_SUCCESS,\n  GET_EDIT_VENUE_SPACE_ERROR,\n  REQUEST_DELETE_VENUE_SPACE,\n  GET_DELETE_VENUE_SPACE_SUCCESS,\n  GET_DELETE_VENUE_SPACE_ERROR,\n} from \"../reducers/actionType\";\n\nconst VenuesAndSpacesPage = props => {\n  const { state, dispatch } = props;\n  const [addingVenue, setAddingVenue] = useState(false);\n  const [addingSpace, setAddingSpace] = useState(false);\n  const [selectedVenueIndex, setSelectedVenueIndex] = useState(null);\n\n  const getSelectedVenue = (selectedId) => {\n    const filteredVenue = state.venues.filter(item => item.id === selectedId)\n    if (filteredVenue.length > 0)\n      return filteredVenue[0];\n    else return [];\n  }\n\n  const selectedVenue = selectedVenueIndex !== null && getSelectedVenue(selectedVenueIndex);\n\n  useEffect(() => {\n\n    const getVenue = async () => {\n      try {\n        dispatch({ type: REQUEST_GET_VENUE });\n\n        const res = await axios.get('/venues');\n        const venues = res.data.venues;\n        venues.map(item => {\n          if (!item.spaces) {\n            item.spaces = [];\n          }\n          return item;\n        })\n\n        dispatch({\n          type: GET_VENUE_SUCCESS,\n          payload: venues\n        })\n\n      } catch (err) {\n        console.log(\"Get Venus Setting failed.\")\n        dispatch({ type: GET_VENUE_ERROR });\n      }\n    }\n\n    getVenue();\n\n  }, []);\n\n  const addVenues = async (name) => {\n    dispatch({ type: REQUEST_ADD_VENUE });\n\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n\n      const res = await axios.post('/venues', JSON.stringify({ name }), config);\n\n      dispatch({\n        type: GET_ADD_VENUE_SUCCESS,\n        payload: res.data.venue\n      })\n      setAddingVenue(false);\n\n    } catch (err) {\n      dispatch({ type: GET_ADD_VENUE_ERROR })\n    }\n  }\n\n  const deleteVenue = async (id) => {\n    setSelectedVenueIndex(null);\n    dispatch({ type: REQUEST_DELETE_VENUE });\n    try {\n      await axios.delete(`/venues/${id}`);\n      dispatch({\n        type: GET_DELETE_VENUE_SUCCESS,\n        payload: id\n      });\n    } catch (err) {\n      dispatch({ type: GET_DELETE_VENUE_ERROR });\n    }\n  }\n\n  const editVenue = async (id, name) => {\n    dispatch({ type: REQUEST_EDIT_VENUE });\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      await axios.put(`/venues/${id}`, JSON.stringify({ id, name }), config);\n      dispatch({\n        type: GET_EDIT_VENUE_SUCCESS,\n        payload: { id, name }\n      });\n    } catch (err) {\n      dispatch({ type: GET_EDIT_VENUE_ERROR });\n    }\n  }\n\n  const getSpacesOfVenue = async (venueId) => {\n    dispatch({ type: REQUEST_GET_VENUE_SPACES });\n    try {\n      const res = await axios.get(`/spaces/venue/${venueId}`);\n      dispatch({\n        type: GET_VENUE_SPACES_SUCCESS,\n        payload: res.data.spaces\n      })\n    } catch (err) {\n      dispatch({ type: GET_VENUE_SPACES_ERROR })\n    }\n  }\n\n  const addSpaceOfVenue = async (VenueId, name) => {\n    dispatch({ type: REQUEST_ADD_VENUE_SPACE });\n\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const res = await axios.post('/spaces', JSON.stringify({ VenueId, name }), config);\n      dispatch({\n        type: GET_ADD_VENUE_SPACE_SUCCESS,\n        payload: res.data.space\n      });\n      setAddingSpace(false);\n    } catch (err) {\n      dispatch({ type: GET_ADD_VENUE_SPACE_ERROR });\n      setAddingSpace(false);\n    }\n  }\n\n  const editSpaceOfVenue = async (id, name) => {\n    dispatch({ type: REQUEST_EDIT_VENUE_SPACE });\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n       await axios.put(`/spaces/${id}`, JSON.stringify({ id, name }), config);\n      dispatch({\n        type: GET_EDIT_VENUE_SPACE_SUCCESS,\n        payload: { id, name }\n      });\n    } catch (err) {\n      dispatch({ type: GET_EDIT_VENUE_SPACE_ERROR });\n    }\n  }\n\n  const deleteSpaceOfVenue = async (id) => {\n    dispatch({ type: REQUEST_DELETE_VENUE_SPACE });\n    try {\n      await axios.delete(`/spaces/${id}`);\n      dispatch({\n        type: GET_DELETE_VENUE_SPACE_SUCCESS,\n        payload: id\n      });\n    } catch (err) {\n      dispatch({ type: GET_DELETE_VENUE_SPACE_ERROR });\n    }\n  }\n\n  return (\n    <ColumnContainer>\n      {/* VENUES */}\n      <Column\n        title=\"Venues\"\n        buttonTitle=\"Add Venue\"\n        message={\n          state.venues.length === 0 &&\n          !addingVenue &&\n          \"Add a venue to get started\"\n        }\n        onButtonClick={() => {\n          setSelectedVenueIndex(null);\n          setAddingVenue(true);\n        }}\n        loading={state.venueActionLoading}\n      >\n        <SpinnerContainer loading={state.venueActionLoading.toString()} />\n        {addingVenue && (\n          <Cell\n            newMode\n            insertPlaceholder={\"Venue Name\"}\n            onAddValue={name => { addVenues(name) }}\n            onCancel={() => {\n              setAddingVenue(false);\n            }}\n            loading={state.venueActionLoading}\n          />\n        )}\n        {state.venues.map((venue) => (\n          <Cell\n            selected={selectedVenueIndex === venue.id}\n            clickable\n            loading={state.venueActionLoading}\n            key={venue.id}\n            title={venue.name}\n            onEditValue={name => {\n              editVenue(venue.id, name)\n            }}\n            onDelete={() => {\n              deleteVenue(venue.id)\n            }}\n            onClick={() => {\n              setSelectedVenueIndex(venue.id);\n              getSpacesOfVenue(venue.id);\n            }}\n          />\n        ))}\n      </Column>\n\n      {/* SPACES */}\n      <Column\n        title={selectedVenue ? selectedVenue.name : \"Spaces\"}\n        buttonTitle={selectedVenueIndex !== null && \"Add Space\"}\n        message={(() => {\n          if (selectedVenueIndex === null) {\n            return \"Select a venue to view its spaces\";\n          } else if (state.selectedVenueSpaces.length === 0 && !addingSpace) {\n            return `Add a Space to get started`;\n          }\n        })()}\n        onButtonClick={() => setAddingSpace(true)}\n        loading={state.spaceActionLoading}\n      >\n        {state.spacesLoading ? (\n          <SpinnerContainer loading={state.spacesLoading.toString()} />\n        ) : (\n            <React.Fragment>\n              <SpinnerContainer loading={state.spaceActionLoading.toString()} />\n              {addingSpace && (\n                <Cell\n                  newMode\n                  insertPlaceholder={\"Space Name\"}\n                  onAddValue={name => {\n                    addSpaceOfVenue(selectedVenueIndex, name);\n                  }}\n                  onCancel={() => {\n                    setAddingSpace(false);\n                  }}\n                  loading={state.spaceActionLoading}\n                />\n              )}\n\n              {state.selectedVenueSpaces.map((space, index) => (\n                <Cell\n                  key={space.id}\n                  title={space.name}\n                  accentColor={space.accentColor}\n                  onEditValue={name => {\n                    editSpaceOfVenue(space.id, name)\n                  }}\n                  onDelete={() => {\n                    deleteSpaceOfVenue(space.id)\n                  }}\n                  loading={state.spaceActionLoading}\n                />\n              ))}\n            </React.Fragment>\n          )\n        }\n      </Column>\n    </ColumnContainer>\n  );\n};\n\nconst ColumnContainer = ({ children = null }) => {\n\n  const { state } = useContext(AppReducerContext);\n  return (\n    <div\n      className={css`\n        display: flex;\n        position: relative;\n        /* background-color: green; */\n      `}\n    >\n      <SpinnerContainer loading={state.settings.loading.toString()} />\n      {!state.settings.loading && children}\n    </div>\n  )\n};\n\nconst Column = ({\n  title = \"\",\n  buttonTitle = \"\",\n  message = null,\n  onButtonClick,\n  children = null,\n  loading = false,\n}) => (\n    <div\n      className={css`\n      width: 40%;\n      min-width: 350px;\n      margin-right: 2em;\n      position: relative;      \n    `}\n    >\n      <div\n        className={css`\n        display: flex;\n        justify-content: space-between;\n        margin-top: 0.8 em;\n      `}\n      >\n        {title && <H3>{title}</H3>}\n        {buttonTitle && (\n          <Button primary onClick={onButtonClick} disabled={loading}>\n            {buttonTitle}\n          </Button>\n        )}\n      </div>\n      {message && <P1>{message}</P1>}\n      {children}\n    </div>\n  )\n\nconst Cell = ({\n  title = \"\",\n  newMode = false,\n  insertPlaceholder: placeholder = \"\",\n  onAddValue = null,\n  onEditValue = null,\n  onDelete = null,\n  onCancel = null,\n  onClick = null,\n  selected = false,\n  clickable = false,\n  accentColor = null,\n  loading = false,\n}) => {\n  const [value, setValue] = useState(title);\n  const [editing, setEditing] = useState(newMode);\n  const [isValidate, setIsValidate] = useState(true);\n\n  const handleChange = (value) => {\n    setValue(value);\n    if (value.length === 0)\n      setIsValidate(false);\n    else setIsValidate(true);\n  }\n\n  const handleSave = () => {\n    if (value.length === 0) {\n      setIsValidate(false);\n    } else onAddValue(value);\n  }\n\n  const handleCancel = () => {\n    onCancel();\n  }\n\n  const handleEditCancel = () => {\n    setEditing(false);\n    setValue(title);\n  }\n  return (\n    <div\n      className={css`\n        width: 100%;\n        background-color: ${selected ? colors.accent_pink + \"10\" : \"white\"};\n        margin-right: 1em;\n        padding: 5px 10px;\n        border-bottom: 1px solid ${colors.lighter};\n        p {\n          margin: 0;\n          height: 28px;\n        }\n        input {\n          height: 28px;\n        }\n        pointer-events: ${loading ? \"none\" : \"initial\"};\n        opacity: ${loading ? \"0.7\" : \"1\"};\n        ${!newMode &&\n        !editing &&\n        css`\n            button {\n              display: none;\n            }\n          `}\n        :hover button {\n          display: inline-block;\n        }\n        button {\n          background: none;\n          color: inherit;\n          border: none;\n          cursor: pointer;\n          font-size: 0.8em;\n          /* text-decoration: underline; */\n          outline: none;\n        }\n      `}\n    >\n      {(() => {\n        if (editing) {\n          return (\n            <div\n              className={css`\n                display: flex;\n                justify-content: space-between;\n              `}\n            >\n              <div className={css`\n                display: flex;                \n                `}\n              >\n                <TableEditableValue\n                  autoFocus\n                  placeholder={placeholder}\n                  value={value}\n                  onChange={value => { handleChange(value) }}\n                  className={isValidate ? \"\" : \"error\"}\n                />\n                {!isValidate &&\n                  <p\n                    className={css`\n                      color: #E92579;\n                      font-size: 0.8em;\n                      line-height: 28px;\n                      margin: 0 0 0 10px !important;\n                    `}>\n                    Requiried\n                  </p>\n                }\n              </div>\n              <div>\n                <button\n                  onClick={() => {\n                    if (newMode) {\n                      handleCancel();\n                    } else {\n                      handleEditCancel();\n                    }\n                  }}\n                  style={{ color: \"gray\" }}\n                >\n                  cancel\n                </button>\n                <button\n                  onClick={() => {\n                    if (newMode) {\n                      handleSave();\n                    } else {\n                      onEditValue(value);\n                      setEditing(false);\n                    }\n                  }}\n                  style={{ color: \"green\" }}\n                >\n                  save\n                </button>\n              </div>\n            </div>\n          );\n        } else {\n          return (\n            <div\n              className={css`\n                display: flex;\n                justify-content: space-between;\n              `}\n            >\n              <P1\n                color=\"dark\"\n                onClick={onClick}\n                className={css`\n                  width: 70%;\n                  ${clickable &&\n                  css`\n                      :hover {\n                        opacity: 0.7;\n                      }\n                      :active {\n                        opacity: 0.9;\n                      }\n                      cursor: pointer;\n                    `}\n                `}\n              >\n                {accentColor && <ColoredDot color={accentColor} />} {title}\n              </P1>\n              <div>\n                <button onClick={() => onDelete()} style={{ color: \"red\" }}>\n                  remove\n                </button>\n                <button onClick={() => setEditing(true)}>edit</button>\n              </div>\n            </div>\n          );\n        }\n      })()}\n    </div>\n  );\n};\n\nexport default VenuesAndSpacesPage;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport axios from 'axios';\nimport styled from \"styled-components\";\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n// import { faExclamation } from '@fortawesome/free-solid-svg-icons'\n// import { \n// \tTableEditableValue,\n// \tTableDivider,\n// } from \"../components/tables/tables\";\n// import AddGlyph from \"../images/Glyphs/AddGlyph\";\n// import SvgButton from \"../components/buttons/SvgButton\";\n// import colors from \"../components/style/colors\";\n// import Grid from \"../components/layout/Grid\";\nimport Button from \"../components/buttons/Button\";\nimport { AppReducerContext } from \"../contexts/AppReducerContext\";\n// import { css } from \"emotion\";\nimport P2 from \"../components/typography/P1\";\nimport SpinnerContainer from \"../components/layout/Spinner\";\n\nimport {\n\tREQUEST_SAVE_PAYMENT_INFORMATION,\n\tSAVE_PAYMENT_INFORMATION_SUCCESS,\n\tSAVE_PAYMENT_INFORMATION_ERROR,\n} from \"../reducers/actionType\";\n\nconst OnlinePaymentPage = () => {\n\n\t// const StyledLink = styled.a`\n\t// \tcolor: ${colors.accent_pink};\n\t// \ttext-decoration: none;\n\t// `;\n\n\t// const StyledInputDiv = styled.div``;\n\n\tconst StyledBtnContainer = styled.div`\n\t\tdisplay: flex;\n\t\tjustify-content: flex-start;\n\t\tmargin-top: 1em;\n\t`;\n\n\t// const StyledLabel = styled.label`\n\t// \tfont-size: 0.82em;\n  //   font-weight: 500;\n  //   line-height: 1.55;\n  //   color: #93989F;\n\t// \tmargin-bottom: 0.3em;\n\t// \tdisplay: flex;\n\t// \talign-item: center;\n\t// `;\n\n\t// const IconSpan = styled.span`\n\t// \twidth: 16px;\n\t// \theight: 16px;\n\t// \tjustify-content: center;\n\t// \talign-items: center;\n\t// \tborder: 1px solid #93989F;\n\t// \tborder-radius: 10px;\n\t// \tmargin-left: 18px;\n\t// \tdisplay: flex;\n\t// \tcursor: pointer;\n\t// \t.fa-icons {\n\t// \t\tfont-size: 10px;\n\t// \t}\n\t// `;\n\n\tconst { state, dispatch } = useContext(AppReducerContext);\n\tconst [stripInformation, setStripInformation] = useState({\n\t\tpublic_key: { value: \"\", validate: true },\n\t})\n\n\tuseEffect(() => {\n\t\tsetStripInformation({\n\t\t\tpublic_key: {\n\t\t\t\tvalue: (state.auth.user.stripe_public_key) ? state.auth.user.stripe_public_key : \"\",\n\t\t\t\tvalidate: (!state.auth.user.stripe_public_key || state.auth.user.stripe_public_key.length === 0) ? false : true,\n\t\t\t},\n\t\t})\n\t}, [state.auth.user.stripe_public_key])\n\n\t// const savePaymentInformation = async () => {\n\t// \ttry {\n\t// \t\tdispatch({ type: REQUEST_SAVE_PAYMENT_INFORMATION });\n\n\t// \t\tconst config = {\n\t// \t\t\theaders: {\n\t// \t\t\t\t'Content-Type': 'application/json'\n\t// \t\t\t}\n\t// \t\t};\n\n\t// \t\tconst res = await axios.put(\n\t// \t\t\t'/users',\n\t// \t\t\t{\n\t// \t\t\t\tstripe_public_key: stripInformation.public_key.value,\n\t// \t\t\t},\n\t// \t\t\tconfig\n\t// \t\t)\n\n\t// \t\tdispatch({\n\t// \t\t\ttype: SAVE_PAYMENT_INFORMATION_SUCCESS,\n\t// \t\t\tpublic_key: stripInformation.public_key.value,\n\t// \t\t})\n\t// \t} catch (err) {\n\t// \t\tdispatch({ type: SAVE_PAYMENT_INFORMATION_ERROR })\n\t// \t}\n\t// }\n\n\tconst testCreatePaymentInformation = async () => {\n\t\tif (state.auth.user.stripe_status !== 0)\n\t\t\treturn;\n\t\ttry {\n\t\t\tdispatch({ type: REQUEST_SAVE_PAYMENT_INFORMATION });\n\t\t\tconst config = {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst res = await axios.post(\n\t\t\t\t'/bookings/getCreateStripeAccountLink',\n\t\t\t)\t\t\t\n\t\t\twindow.location.href = res.data.url;\t\t\t\n\t\t\t\n\t\t\tdispatch({\n\t\t\t\ttype: SAVE_PAYMENT_INFORMATION_SUCCESS,\n\t\t\t\tpublic_key: stripInformation.public_key.value,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tdispatch({ type: SAVE_PAYMENT_INFORMATION_ERROR })\n\t\t}\n\t}\n\n\t// const changeStripInformation = (keyName, value) => {\n\t// \tconst newInfo = { ...stripInformation };\n\t// \tnewInfo[keyName].value = value;\n\t// \tnewInfo[keyName].validate = (value.length > 0)\n\t// \tsetStripInformation({\n\t// \t\t...newInfo,\n\t// \t})\n\t// }\n\n\treturn (\n\t\t<div>\n\t\t\t<SpinnerContainer loading={(state.auth.loading || state.auth.loadingPayment).toString()} />\n\t\t\t{/* <P2>\n\t\t\t\tUse our live gateway with real payments\n\t\t\t\tTo switch on live payments, enter your Stripe API keys below. We recommend Stripe for taking payments (no merchant account required). If you don't yet have a Stripe account,\n\t\t\t\t<StyledLink href=\"https://stripe.com\">  Sign up here.</StyledLink>\n\t\t\t</P2>\n\n\t\t\t<StyledInputDiv style={{ marginTop: \"2em\" }}>\n\t\t\t\t<StyledLabel>\n\t\t\t\t\tPUBLISHABLE KEY\n\t\t\t\t\t<IconSpan>\n\t\t\t\t\t\t<FontAwesomeIcon className=\"fa-icons\" icon={faExclamation} />\n\t\t\t\t\t</IconSpan>\n\t\t\t\t</StyledLabel>\n\t\t\t\t<TableEditableValue\n\t\t\t\t\tautoFocus\n\t\t\t\t\tlabel=\"\"\n\t\t\t\t\tvalue={stripInformation.public_key.value}\n\t\t\t\t\tonChange={value => { changeStripInformation('public_key', value) }}\n\t\t\t\t/>\n\t\t\t\t{\n\t\t\t\t\t!stripInformation.public_key.validate &&\n\t\t\t\t\t<p\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\t\tcolor: #E92579;            \n\t\t\t\t\t\t\t\tmargin: 0.2em 0 0 0;\n\t\t\t\t\t\t\t\tpadding: 0 0.6em;\n\t\t\t\t\t\t\t\tfont-size: 0.8em;\n\t\t\t\t\t\t\t`\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\tStrip Publishable Key is required.\n\t\t\t\t\t</p>\n\t\t\t\t}\n\t\t\t</StyledInputDiv>\n\t\t\t\n\t\t\t<StyledBtnContainer>\n\t\t\t\t<Button\n\t\t\t\t\tprimary\n\t\t\t\t\tonClick={savePaymentInformation}\n\t\t\t\t>\n\t\t\t\t\tSave\n\t\t\t\t</Button>\n\t\t\t</StyledBtnContainer> \n\n\t\t\t<TableDivider />*/}\n\t\t\t\n\t\t\t{state.auth.user.stripe_status === 0 ? (\n\t\t\t\t\t<P2>\n\t\t\t\t\t\tIf you have a Stripe Account, please connect your Stripe Account to the Server.\n\t\t\t\t\t\tAfter Stripe Account connection, You can pay your invoice to the server with Online Payment Methond.\n\t\t\t\t\t</P2>\n\t\t\t\t) : (\n\t\t\t\t\t<P2>\n\t\t\t\t\t\tYour Stripe Account has been already connected to the Server.\n\t\t\t\t\t\tYou can pay your invoice to the Server with Online Payment Method.\n\t\t\t\t\t</P2>\n\t\t\t\t)\n\t\t\t}\t\t\t\n\n\t\t\t<StyledBtnContainer>\n\t\t\t\t<Button\n\t\t\t\t\tprimary\n\t\t\t\t\tonClick={testCreatePaymentInformation}\t\t\t\t\t\n\t\t\t\t\tdisabled={state.auth.user.stripe_status !== 0}\n\t\t\t\t>\n\t\t\t\t\tConnect Your Stripe\n\t\t\t\t</Button>\n\t\t\t</StyledBtnContainer>\n\t\t</div >\n\t);\n};\n\nexport default OnlinePaymentPage;\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCopy, faCode, faExternalLinkAlt } from '@fortawesome/free-solid-svg-icons'\nimport { AppReducerContext } from \"../contexts/AppReducerContext\";\nimport { Table, TableLabel } from \"../components/tables/tables\";\nimport InputField from \"../components/buttons/InputField\";\nimport Modal from \"../components/modals/modal\";\nimport { ModalContainer, ModalTopSection, ModalBottomSection, ModalTitleAndButtons } from '../components/modals/containers'\nimport colors from \"../components/style/colors\"\nimport Button from \"../components/buttons/Button\"\nimport H3 from \"../components/typography/H3\"\n\nconst Row = styled.div`\n  position: relative;  \n  display: flex;\n  align-items: center;\n`;\n\nconst HtmlDiv = styled.div`\n  border-color: #E92579;\n  background: #E92579;\n  color: white;\n  justify-content: center;\n  font-size: 1em;\n  text-align: center;\n  border: 1px solid #E6E8E9;\n  border-radius: 0.25em;\n  height: 34px;\n  padding: 0 0.7em;\n  align-items: center;\n  display: flex;\n`;\n\nconst InstructionDiv = styled.div`\n  margin-left: 1em;\n`\nconst WidgetContent = styled.div`\n  margin-top: 3em;\n`\n\nconst CodeContent = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`\nconst ClipBoardIcon = styled(FontAwesomeIcon)`\n  margin-left: 0.3em;\n  color: white;  \n`\n\nconst BookingWidgetPage = () => {\n\n  const { state } = useContext(AppReducerContext)\n  const [ showInstModal, setShowInstModal ] = useState(false)\n\n  return (\n    <div>\n      <Table>\n        <Row>\n          <HtmlDiv><FontAwesomeIcon className=\"fa-icons\" icon={faCode} /></HtmlDiv>\n          <InstructionDiv>\n            <TableLabel color={colors.dark} style={{fontSize:'1em', margin: '0'}}>Setup Instructions</TableLabel>\n            <TableLabel>Find instructions on how to setup your website booking widget.</TableLabel>\n          </InstructionDiv>          \n        </Row>\n        <WidgetContent>\n          <Row style={{marginBottom: '1em'}}>\n            <TableLabel style={{minWidth: '100px'}}>Widget ID</TableLabel>\n            <InputField value={state.auth.user.uuid} disabled style={{flex: 1}} />\n            <CopyToClipboard text={state.auth.user.uuid}>\n              <Button primary style={{marginLeft: '1em'}}>\n                Copy\n                <ClipBoardIcon className=\"fa-icons\" icon={faCopy} />\n              </Button>\n            </CopyToClipboard>\n          </Row>\n          <Row>\n            <TableLabel style={{minWidth: '100px'}}>Widget</TableLabel>\n            <Button primary onClick={() => setShowInstModal(true)}>\n              <FontAwesomeIcon className=\"fa-icons\" icon={faExternalLinkAlt} style={{marginRight:'0.3em'}}/>\n              Booking Widget Setup Instruction\n            </Button>\n          </Row>\n        </WidgetContent>\n        <Modal\n          isOpen={showInstModal}\n          onClose={() => setShowInstModal(false)}\n        >\n          <ModalContainer>\n            <ModalTopSection>\n              <ModalTitleAndButtons>\n                <H3>Booking Widget Setup Instruction</H3>\n              </ModalTitleAndButtons>              \n            </ModalTopSection>\n            <ModalBottomSection>\n              <TableLabel style={{width: '100%', marginBottom: '1em'}}>\n                1. Copy & Paste the following code below in your page.\n              </TableLabel>\n\n              <CodeContent>\n                <Row>\n                  <TableLabel style={{color: colors.dark}}>\n                    You can add it in the HTML head section.\n                  </TableLabel>\n                </Row>\n                <Row>                \n                  <InputField  \n                    value={`<script src=\"https://calendarwidget.herokuapp.com/calendarwidget.js\"></script>`} \n                    disabled\n                    style={{flex: 1}}\n                  />\n                  \n                  <CopyToClipboard text={`<script src=\"https://calendarwidget.herokuapp.com/calendarwidget.js\"></script>`}>\n                    <Button primary style={{marginLeft: '1em'}}>\n                      Copy\n                      <ClipBoardIcon className=\"fa-icons\" icon={faCopy} />\n                    </Button>\n                  </CopyToClipboard>\n                </Row>\n              </CodeContent>                                            \n\n              <TableLabel style={{width: '100%', marginTop: '2em', marginBottom: '1em'}}>\n                2. Add following Markup & Script code.\n              </TableLabel>\n              <CodeContent>\n                <Row>\n                  <TableLabel style={{color: colors.dark}}>\n                    Add following Markup code within the body of the page, where you want to display your calendar.\n                  </TableLabel>\n                </Row>\n                <Row style={{marginBottom: '1em'}}>                  \n                  <InputField \n                    value={`<div id=\"calendar-widget\" style=\"width: 100%; height: 100vh\"></div>`} \n                    disabled         \n                    style={{flex: 1}}            \n                  />\n                  <CopyToClipboard text={`<div id=\"calendar-widget\" style=\"width: 100%; height: 100vh\"></div>`}>\n                    <Button primary style={{marginLeft: '1em'}}>\n                      Copy\n                      <ClipBoardIcon className=\"fa-icons\" icon={faCopy} />\n                    </Button>\n                  </CopyToClipboard>\n                </Row>\n                <Row>\n                  <TableLabel style={{color: colors.dark}}>\n                    Add following script code to create Calendar.\n                  </TableLabel>\n                </Row>\n                <Row style={{marginBottom: '1em'}}>\n                  <InputField \n                    value={`<script>calendarWidget(\"${state.auth.user.uuid}\")</script>`} \n                    disabled         \n                    style={{flex: 1}}            \n                  />\n                  <CopyToClipboard text={`<script>calendarWidget(\"${state.auth.user.uuid}\")</script>`}>\n                    <Button primary style={{marginLeft: '1em'}}>\n                      Copy\n                      <ClipBoardIcon className=\"fa-icons\" icon={faCopy} />\n                    </Button>\n                  </CopyToClipboard>\n                </Row>\n              </CodeContent>\n            </ModalBottomSection>\n          </ModalContainer>\n        </Modal>\n      </Table>\n    </div>\n  )\n}\n\nexport default BookingWidgetPage;","import React from \"react\";\n\nconst Suggestion = () => {\n\n  return (\n    <>\n      <iframe src=\"https://heyagenda.kampsite.co/\" width=\"100%\" height=\"100%\" style={{border: 'none'}}/>\n    </>\n  )\n}\n\nexport default Suggestion;","import React, { useContext, useState } from \"react\";\nimport SideNavigation from \"../components/features/sideNavigation\";\nimport constants from \"../components/layout/constants\";\nimport Grid from \"../components/layout/Grid\";\nimport { AppReducerContext } from \"../contexts/AppReducerContext\";\nimport CompanyInfoSettingsSection from \"../components/settings/sections/CompanyInfo\";\nimport BookingStatusesSettingsSection from \"../components/settings/sections/BookingStatuses\";\nimport CustomBookingColorSection from \"../components/settings/sections/CustomBookingColor\";\nimport VenuesAndSpacesPage from \"./VenuesAndSpacesPage\";\nimport OnlinePaymentPage from \"./OnlinePaymentPage\";\nimport BookingWidgetPage from \"./BookingWidgetPage\";\nimport SuggestionPage from \"../components/settings/sections/Suggestion\"\n\nconst VENUES_AND_SPACES_SECTION_NAME  = \"Venues and Spaces\";\nconst COMPANY_SETTINGS_SECTION_NAME   = \"Company Settings\";\nconst BOOKING_STATUS_SECTION_NAME     = \"Booking Status\";\nconst ONLINE_PAYMENT_SECTION_NAME     = \"Online Payments\";\nconst CUSTOM_BOOKING_COLOR_NAME       = \"Custom Booking Colour\";\nconst GET_BOOKING_WIDGET              = \"Get Booking Widget\"\nconst SUGGESTIONS_TAB                 = \"Suggestion\"\n\nconst SettingsPage = props => {\n  const [currentSection, setCurrentSection] = useState(\n    VENUES_AND_SPACES_SECTION_NAME\n  );\n  const { state: globalState, dispatch } = useContext(AppReducerContext);\n  const state = globalState.settings;  \n\n  return (\n    <Grid fullheight columns={`${constants.leftPanelWidth} 1fr`}>\n      <SideNavigation\n        selectedItem={currentSection}\n        items={[\n          VENUES_AND_SPACES_SECTION_NAME,\n          BOOKING_STATUS_SECTION_NAME,\n          COMPANY_SETTINGS_SECTION_NAME,\n          ONLINE_PAYMENT_SECTION_NAME,\n          CUSTOM_BOOKING_COLOR_NAME,\n          GET_BOOKING_WIDGET,\n          SUGGESTIONS_TAB,\n        ]}\n        onClick={item => {\n          setCurrentSection(item);\n        }}\n      />\n      {(() => {\n        switch (currentSection) {\n          case COMPANY_SETTINGS_SECTION_NAME:\n            return (\n              <CompanyInfoSettingsSection state={state} dispatch={dispatch} />\n            );\n          case BOOKING_STATUS_SECTION_NAME:\n            return (\n              <BookingStatusesSettingsSection\n                state={state}\n                dispatch={dispatch}\n              />\n            );\n          case VENUES_AND_SPACES_SECTION_NAME:\n            return <VenuesAndSpacesPage state={state} dispatch={dispatch} />;\n          case ONLINE_PAYMENT_SECTION_NAME:\n            return <OnlinePaymentPage state={state} dispatch={dispatch} />;\n          case CUSTOM_BOOKING_COLOR_NAME:\n            return <CustomBookingColorSection />\n          case GET_BOOKING_WIDGET:\n            return <BookingWidgetPage />\n          case SUGGESTIONS_TAB:\n            return <SuggestionPage />\n          default:\n            throw new Error(\"unhandled section\");\n        }\n      })()}\n    </Grid>\n  );\n};\n\nexport default SettingsPage;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport {\n  ModalBottomSection,\n  ModalTitleAndButtons,\n  ModalTopSection,\n  ModalContainer\n} from \"../../modals/containers\";\nimport H3 from \"../../typography/H3\";\nimport { AppReducerContext } from \"../../../contexts/AppReducerContext\";\nimport { css } from \"emotion\";\nimport P1 from \"../../typography/P1\";\nimport P2 from \"../../typography/P2\";\nimport { formatEventDate } from \"../../../utils/dateFormatting\";\nimport Button from \"../../buttons/Button\";\nimport SearchField from \"../../inputs/searchField\";\n\nconst BookingRow = props => {\n  const { onSelectBooking, booking } = props;\n  const { eventName, customer, received } = booking;\n\n  return (\n    <div\n      className={css`\n        background: white;\n        padding: 0.5em 1em;\n        border-radius: 0.5em;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        width: 100%;\n\n        margin-left: auto;\n        margin-right: auto;\n        margin-bottom: 1em;\n      `}\n    >\n      <div\n        className={css`\n          margin-right: 1em;\n          p {\n            margin: 0;\n            :first-of-type {\n              margin-bottom: 0.05em;\n            }\n          }\n\n          div:last-child {\n            margin-left: auto;\n          }\n        `}\n      >\n        <P1 color=\"dark\">{eventName}</P1>\n        <P2 color=\"grey\">{customer.name}</P2>\n        <P2 color=\"light_grey\">{formatEventDate(received)}</P2>\n      </div>\n\n      <Button\n        primary\n        onClick={() => {\n          onSelectBooking();\n        }}\n      >\n        New Invoice\n      </Button>\n    </div>\n  );\n};\n\nconst SelectBookingModal = props => {\n  \n  const { onSelectBooking } = props;\n  const { state } = useContext(AppReducerContext);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const bookings = state.bookings.bookings;  \n  const [filteredBookings, setFilteredBookings] = useState([])\n\n  useEffect(() => {\n    setFilteredBookings([    \n      ...bookings.filter(b =>\n        b.eventName.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n    ])\n  }, [bookings, searchQuery])\n\n  return (\n    <ModalContainer>\n      <ModalTopSection>\n        <ModalTitleAndButtons>\n          <H3 style={{ margin: 0 }}>\n            Select a Booking to associate to the invoice\n          </H3>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n\n      <ModalBottomSection>\n        <SearchField\n          query={searchQuery}\n          placeholder={\"Search Bookings\"}\n          onChange={e => setSearchQuery(e.target.value)}\n          style={{ marginBottom: 30 }}\n        />\n        {filteredBookings.map(b => {\n          if( b.customer )\n            return <BookingRow\n              key={b.id}\n              booking={b}\n              onSelectBooking={() => onSelectBooking(b.id)}\n            />          \n        })}\n      </ModalBottomSection>\n    </ModalContainer>\n  );\n};\n\nexport default SelectBookingModal;\n","import React, {useState, useContext, useEffect} from \"react\";\nimport Modal from \"../components/modals/modal\";\nimport { \n  ModalContainer, \n  ModalTopSection, \n  ModalBottomSection, \n  ModalTitleAndButtons \n} from \"../components/modals/containers\";\n\nimport { Table, TableValue } from \"../components/tables/tables\";\nimport AddGlyph from \"../images/Glyphs/AddGlyph\";\nimport SvgButton from \"../components/buttons/SvgButton\";\nimport colors from \"../components/style/colors\";\nimport viewGlyph from \"../images/Glyphs/view.svg\";\nimport Button from \"../components/buttons/Button\";\nimport DropdownMenu from \"../components/buttons/DropdownMenu\";\nimport { AppReducerContext } from \"../contexts/AppReducerContext\";\nimport P1 from \"../components/typography/P1\";\nimport BigTabbedFilter from \"../components/features/BigTabbedFilter\";\nimport { formatEventDate } from \"../utils/dateFormatting\";\nimport { formatCurrency } from \"../utils/numbers\";\nimport PickerButton from \"../components/buttons/PickerButton\";\nimport InvoiceDetail from \"../components/features/invoices/invoiceDetail\";\nimport { invoiceStates, invoiceStatesColors } from \"../models/invoices\";\nimport SearchField from \"../components/inputs/searchField\";\nimport { css } from \"emotion\";\nimport SelectBookingModal from \"../components/features/invoices/selectBooking\";\nimport NewInvoice from \"../components/features/invoices/newInvoice\";\nimport SpinnerContainer from \"../components/layout/Spinner\";\nimport H3 from \"../components/typography/H3\";\nimport StripeApp from \"../components/stripe/stripeApp\";\n\nimport {\n  DELETE_BOOKING_INVOICE_ERROR, DELETE_BOOKING_INVOICE_SUCCESS,\n  GET_BOOKING_BOOKINGSTATUS_SUCCESS,\n  GET_BOOKING_INVOICE_SUCCESS,\n  GET_BOOKINGS_SUCCESS,\n  GET_CUSTOMERS_SUCCESS, REQUEST_DELETE_BOOKING_INVOICE, \n  REQUEST_UPDATE_BOOKING_INVOICE,\n  UPDATE_BOOKING_INVOICE_ERROR, UPDATE_BOOKING_INVOICE_SUCCESS,\n  REQUEST_CREATE_BOOKING_INVOICE, GET_CREATE_BOOKING_INVOICE_SUCCESS, GET_CREATE_BOOKING_INVOICE_ERROR\n} from \"../reducers/actionType\";\nimport axios from \"axios/index\";\n\nconst InvoicesPage = () => {\n  const [selectedInvoiceCoordinates, setSelectedInvoiceCoordinates] = useState(\n    null\n    // { booking: \"99af5d47-3837-4623-be55-f85c0b511c0f\", index: 0 }\n  ); // booking id + index of the invoice\n\n  const [showSelectBookingModal, setshowSelectBookingModal] = useState(\n    false\n    // true\n  );\n  const [\n    selectedBookingIdForNewInvoice,\n    setSelectedBookingIdForNewInvoice\n  ] = useState(null);\n  const [showCreateInvoiceModal, setshowCreateInvoiceModal] = useState(false);\n  const [selectedFilter, setSelectedFilter] = useState(\"All\");\n  const { state, dispatch } = useContext(AppReducerContext);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const [loading, setLoading] = useState(true);\n\n  const [showCreditCardInfoModal, setShowCreditCardInfoModal] = useState(false);\n  const [selectedChargeData, setSelectedChargeData] = useState({});\n\n  useEffect(() => {\n\n    setLoading(true);\n    axios.all([\n      axios.get('/customers'),\n      axios.get('/statuses'),\n      axios.get('/bookings'),\n      axios.get(`/bookings/invoices/all`)\n    ]).then(axios.spread(function (customers, statuses, bookings, invoices) {\n      dispatch({\n        type: GET_CUSTOMERS_SUCCESS,\n        payload: customers.data.customers\n      })\n\n      dispatch({\n        type: GET_BOOKING_BOOKINGSTATUS_SUCCESS,\n        payload: statuses.data.statuses\n      })\n\n      dispatch({\n        type: GET_BOOKINGS_SUCCESS,\n        payload: bookings.data.bookings\n      })\n      \n      dispatch({\n        type: GET_BOOKING_INVOICE_SUCCESS,\n        payload: invoices.data.invoices,\n      })\n      setLoading(false);\n    }))\n    .catch(error => console.log(error));\n  }, [])\n\n  const handleUpdate = async (invoice, isSave,statusValue) => {\n    if (isSave) {\n      try {\n        const config = {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        };\n\n        dispatch({ type: REQUEST_UPDATE_BOOKING_INVOICE })\n\n        const res = await axios.put(\n          `/bookings/${invoice.BookingId}/invoices/${invoice.id}`,\n          {\n            slots: JSON.stringify(invoice.slots),\n            cost_items: JSON.stringify(invoice.costItems),\n            value: invoice.value,\n            payment_method: invoice.payment_method,\n            discount: invoice.discount,\n            customerId: invoice.customerId? invoice.customerId : invoice.booking.customerId,\n            sub_total: invoice.amount,\n            // tax: saveOne.amount,\n            grand_total: invoice.grand_total,\n            status: statusValue || invoice.status,\n          },\n          config\n        )\n\n        dispatch({\n          type: UPDATE_BOOKING_INVOICE_SUCCESS,\n          payload: res.data.invoice\n        })\n\n        if (invoice.payment_method === 'Credit Card' && state.auth.user.stripe_public_key && state.auth.user.stripe_public_key.length) {\n          setSelectedChargeData({\n            amount: Number(invoice.sub_total.toFixed(2)) * 100,\n            currency: state.settings.companyInfo.currency.length ? state.settings.companyInfo.currency : \"USD\",\n            id: invoice.id,\n            bookingId: invoice.BookingId,\n          })\n          setShowCreditCardInfoModal(true);\n        } else if (invoice.payment_method === 'Online Payment') {\n          await axios.post(\n            '/bookings/transferFunds',\n            {\n              amount: Number(invoice.sub_total.toFixed(2)) * 100,\n              currency: state.settings.companyInfo.currency.length ? state.settings.companyInfo.currency : \"USD\",\n              id: invoice.id,\n            }\n          ).then(async (res) => {\n            if (res.data.success) {\n              dispatch({ type: REQUEST_UPDATE_BOOKING_INVOICE })\n  \n              const resOne = await axios.put(\n                `/bookings/${invoice.BookingId}/invoices/${invoice.id}`,\n                {\n                  slots: JSON.stringify(invoice.slots),\n                  cost_items: JSON.stringify(invoice.costItems),\n                  value: invoice.value,\n                  payment_method: invoice.payment_method,\n                  discount: invoice.discount,\n                  customerId: invoice.customerId? invoice.customerId : invoice.booking.customerId,\n                  sub_total: invoice.sub_total,\n                  // tax: saveOne.amount,\n                  grand_total: invoice.grand_total,\n                  status: \"Paid\",\n                },\n                config\n              )\n              dispatch({\n                type: UPDATE_BOOKING_INVOICE_SUCCESS,\n                payload: resOne.data.invoice\n              })  \n            }\n          });\n        }\n\n      } catch (err) {\n        dispatch({ type: UPDATE_BOOKING_INVOICE_ERROR });\n      }\n    }\n\n    setshowCreateInvoiceModal(false);\n  }\n\n  const handleCreate = async(isSave, invoice) => {\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n\n      const saveOne = {...invoice};\n\n      dispatch({ type: REQUEST_CREATE_BOOKING_INVOICE })\n\n      const res = await axios.post(\n        `/bookings/${saveOne.booking.id}/invoices`,\n        {\n          slots: JSON.stringify(saveOne.slots),\n          cost_items: JSON.stringify(saveOne.costItems),\n          value: saveOne.value,\n          payment_method: saveOne.payment_method,\n          discount: saveOne.discount,\n          customerId: saveOne.booking.customerId,\n          createdAt: saveOne.createdAtAt,\n          sub_total: saveOne.amount,\n          // tax: saveOne.amount,\n          grand_total: saveOne.grand_total,\n          status: saveOne.status,\n        },\n        config\n      )\n\n      dispatch({\n        type: GET_CREATE_BOOKING_INVOICE_SUCCESS,\n        payload: res.data.invoice\n      })\n\n      if (invoice.payment_method === 'Credit Card' && \n        state.auth.user.stripe_public_key &&\n        state.auth.user.stripe_public_key.length > 0\n      ) {\n        setSelectedChargeData({\n          amount: Number(saveOne.amount.toFixed(2)) * 100,\n          currency: state.settings.companyInfo.currency.length ? state.settings.companyInfo.currency : \"USD\",\n          id: res.data.invoice.id,\n          bookingId: saveOne.booking.id,\n        })\n        setShowCreditCardInfoModal(true);\n      } else if (saveOne.payment_method === 'Online Payment' && state.auth.user.stripe_status !== 0) {\n        const resPay = await axios.post(\n          '/bookings/transferFunds',\n          {\n            amount: Number(saveOne.amount.toFixed(2)) * 100,\n            currency: state.settings.companyInfo.currency.length ? state.settings.companyInfo.currency : \"USD\",\n            id: res.data.invoice.id,\n            bookingId: saveOne.booking.id,\n          }\n        )\n         \n        if (resPay.data.success) {              \n          dispatch({ type: REQUEST_UPDATE_BOOKING_INVOICE })\n\n          const resOne = await axios.put(\n            `/bookings/${saveOne.booking.id}/invoices/${res.data.invoice.id}`,\n            {                \n              slots: JSON.stringify(saveOne.slots),\n              cost_items: JSON.stringify(saveOne.costItems),\n              value: saveOne.value,\n              payment_method: saveOne.payment_method,\n              discount: saveOne.discount,\n              customerId: saveOne.booking.customerId,\n              createdAt: saveOne.createdAtAt,\n              sub_total: saveOne.amount,\n              // tax: saveOne.amount,\n              grand_total: saveOne.grand_total,\n              status: 'Paid',\n            },\n            config\n          )\n\n          dispatch({\n            type: UPDATE_BOOKING_INVOICE_SUCCESS,\n            payload: resOne.data.invoice\n          })\n        }\n      }\n\n    } catch (err) {\n      dispatch({ type: GET_CREATE_BOOKING_INVOICE_ERROR });\n    }\n\n    setshowCreateInvoiceModal(false);\n  }\n\n  const handleDelete = async (invoice) => {\n\n    try {\n      dispatch({ type: REQUEST_DELETE_BOOKING_INVOICE });\n\n      await axios.delete(`/bookings/${invoice.BookingId}/invoices/${invoice.id}`);\n\n      dispatch({\n        type: DELETE_BOOKING_INVOICE_SUCCESS,\n        payload: invoice.id,\n      })\n    } catch (err) {\n      dispatch({ type: DELETE_BOOKING_INVOICE_ERROR })\n    }\n  }\n\n  const getBookingNameWithId = (bookingId) => {    \n    const filteredOne = state.bookings.bookings.filter(item => item.id === parseInt(bookingId));\n    if (filteredOne.length > 0)\n      return filteredOne[0].eventName;\n    else return \"\";\n  }\n\n  const [invoices, setInvoices] = useState([]);\n  useEffect(() => {\n    const newInvoices = state.bookings.invoices\n      .filter(invoice => invoice !== null)\n      .flat()\n      .filter(invoice => {\n        const customerName =  (invoice.customerId && state.customers.customers && state.customers.customers.find(c => c.id === invoice.customerId) &&\n          state.customers.customers.find(c => c.id === invoice.customerId).name) || \"N/A\";\n        const bookingName =  (invoice.BookingId && state.bookings.bookings && state.bookings.bookings.find(c => c.id === invoice.BookingId) &&\n          state.bookings.bookings.find(c => c.id === invoice.BookingId).eventName) || \"N/A\"\n        return (\n          (invoice.status === selectedFilter || selectedFilter === \"All\") && // apply filters\n          (!searchQuery ||\n            (invoice.number && invoice.number.toString() === searchQuery) ||\n            customerName.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            bookingName.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            invoice.booking && invoice.booking.title\n              .toLowerCase()\n              .includes(searchQuery.toLowerCase()))\n        );\n      })\n      .sort((inv1, inv2) => (inv1.created > inv2.created ? -1 : 1));\n      setInvoices([...newInvoices]);\n  }, [state.bookings.invoices, searchQuery, selectedFilter])\n\n  const hideCreditModal = async () => {\n    dispatch({ type: REQUEST_UPDATE_BOOKING_INVOICE })\n    try {\n      const res = await axios.put(\n        `/bookings/${selectedChargeData.bookingId}/invoices/${selectedChargeData.id}`,\n        {status: \"Paid\"}\n      )\n        \n      dispatch({ \n        type: UPDATE_BOOKING_INVOICE_SUCCESS,\n        payload: res.data.invoice,\n      })\n    } catch (err) {\n      dispatch({ type: UPDATE_BOOKING_INVOICE_ERROR })\n    }\n    setShowCreditCardInfoModal(false)\n  }\n\n  return (\n    <>\n      <SpinnerContainer loading={(loading || state.bookings.loadingInvoice).toString()} />\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          marginBottom: 40\n        }}\n      >\n        <div\n          className={css`\n            display: flex;\n            align-items: center;\n            width: 100%;\n          `}\n        >\n          <SearchField\n            query={searchQuery}\n            placeholder={\"Search Invoices\"}\n            onChange={e => setSearchQuery(e.target.value)}\n          />\n          <BigTabbedFilter\n            items={invoiceStates}\n            colors={invoiceStatesColors}\n            selectedItem={selectedFilter}\n            onSelect={setSelectedFilter}\n            style={{\n              marginBottom: 0,\n              marginTop: 0,\n              maxWidth: 350,\n              height: 40\n            }}\n          />\n        </div>\n        <Button\n          primary\n          iconComponent={() => <AddGlyph fill={colors.white} />}\n          style={{ marginLeft: \"2em\" }}\n          onClick={() => setshowSelectBookingModal(true)}\n        >\n          Add Invoice\n        </Button>\n      </div>\n\n      {!loading && invoices && invoices.length > 0 && (\n        <Table\n          columns=\"50px auto auto auto auto 150px 50px 50px\"\n          columnTitles={[\n            \"#\",\n            \"Created\",\n            \"Customer\",\n            \"Booking\",\n            \"Amount\",\n            \"Status\",\n            \"\",\n            \"\"\n          ]}\n        >\n          {invoices.map((invoice, index) => {\n            return (\n              <React.Fragment key={index}>\n                {/* number */}\n                <TableValue>{invoice.number || (index + 1)}</TableValue>\n                {/* created */}\n                <TableValue>{formatEventDate(invoice.created)}</TableValue>\n                {/* customer */}\n                <TableValue>\n                  {\n                    (invoice.customerId && state.customers.customers && state.customers.customers.find(c => c.id === invoice.customerId) &&\n                    state.customers.customers.find(c => c.id === invoice.customerId).name) || \"N/A\"\n                  }\n                </TableValue>\n                {/* booking */}\n                <TableValue>\n                  {getBookingNameWithId(invoice.BookingId)}\n                </TableValue>\n                {/* amount */}\n                <TableValue>\n                  {formatCurrency(invoice.grand_total || 0, state.settings.companyInfo.currency)}\n                </TableValue>\n                {/* status */}\n                <PickerButton\n                  options={invoiceStates}\n                  colors={invoiceStatesColors}\n                  selectedOption={invoice.status}\n                  onOptionSelected={status => {\n                    dispatch({\n                      type: \"update_invoice_status\",\n                      ...invoice.coordinates,\n                      index: index,\n                      status: status\n                    });\n                    handleUpdate(invoice, true, status)\n                  }}\n                />\n                {/* actions */}\n                <SvgButton\n                  width={24}\n                  height={24}\n                  svg={viewGlyph}\n                  onClick={() => {\n                    setSelectedInvoiceCoordinates({\n                      booking: invoice.BookingId,\n                      index: index\n                    })\n                  }}\n                />\n                <DropdownMenu\n                  items={[\"Delete\"]}\n                  colors={[\"#D13636\"]}\n                  onItemSelected={item => {\n                    handleDelete(invoice)\n                    dispatch({\n                      type: \"delete_invoice\",\n                      ...invoice.coordinates,\n                      invoice: item.id,\n                      index: index\n                    });\n                  }}\n                />\n              </React.Fragment>\n            );\n          })}\n        </Table>\n      )}\n\n      {invoices.length === 0 && (\n        <P1>\n          There are no matching invoices.{\" \"}\n          <span\n            style={{ textDecoration: \"underline\", cursor: \"pointer\" }}\n            onClick={() => {\n              setSelectedFilter(\"All\");\n              setSearchQuery(\"\");\n            }}\n          >\n            View All\n          </span>\n        </P1>\n      )}\n\n      <Modal\n        isOpen={selectedInvoiceCoordinates !== null}\n        onClose={() => setSelectedInvoiceCoordinates(null)}\n      >\n        <InvoiceDetail\n          invoice={selectedInvoiceCoordinates}\n          handleUpdate={handleUpdate}\n        />\n      </Modal>\n      <Modal\n        isOpen={showSelectBookingModal}\n        onClose={() => setshowSelectBookingModal(false)}\n        width=\"30em\"\n      >\n        <SelectBookingModal\n          onSelectBooking={bookingId => {\n            setSelectedBookingIdForNewInvoice(bookingId);\n            setshowSelectBookingModal(false);\n            setshowCreateInvoiceModal(true);\n          }}\n        />\n      </Modal>\n      <Modal\n        isOpen={showCreateInvoiceModal}\n        onClose={() => setshowCreateInvoiceModal(false)}\n      >\n        <NewInvoice\n          invoiceNumber={invoices.length + 1}\n          booking={state.bookings.bookings.find(\n            b => b.id === selectedBookingIdForNewInvoice\n          )}\n          // onEndEditing={() => {\n          //   setshowCreateInvoiceModal(false);\n          // }}\n          onEndEditing={handleCreate}\n        />\n      </Modal>\n\n      {\n        (state.auth.user.stripe_public_key && state.auth.user.stripe_public_key.length > 0) && (\n          <Modal\n            isOpen={showCreditCardInfoModal}\n            onClose={() => setShowCreditCardInfoModal(false)}\n          >\n            <ModalContainer>\n              <ModalTopSection>\n                <ModalTitleAndButtons>\n                  <H3>Credit Card Info</H3>\n                  <Button\n                    primary\n                    style={{ marginRight: 10 }}\n                    onClick={() => setShowCreditCardInfoModal(false)}\n                  >\n                    Close\n                  </Button>\n                </ModalTitleAndButtons>\n\n              </ModalTopSection>\n\n              <ModalBottomSection>\n                <StripeApp\n                  stripe_pk_key={state.auth.user.stripe_public_key}\n                  chargeData={selectedChargeData}\n                  closeModal={hideCreditModal}\n                />\n              </ModalBottomSection>\n            </ModalContainer>\n          </Modal>\n        )\n      }\n    </>\n  );\n};\n\nexport default InvoicesPage;\n","import styled from \"styled-components\";\n\nconst ButtonsRow = styled.div`\n  > div {\n    margin: 0 0.3em;\n    :first-child {\n      margin-left: 0;\n    }\n    :last-child {\n      margin-right: 0;\n    }\n  }\n`;\n\nexport default ButtonsRow;\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors.js\";\nimport Button from \"../buttons/Button\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport arrowDown from \"../../images/ui/arrowDown.svg\";\nimport CircleAddGlyph from \"../../images/Glyphs/CircleAddGlyph\";\n\nimport { AppReducerContext } from \"../../contexts/AppReducerContext\";\nimport { SET_CURRENT_CALENDAR_VIEW } from '../../reducers/actionType';\n\nconst ViewsButton = styled.div`\n  display: flex;\n  position: relative;\n`;\n\nconst WrapperButton = styled(Button)`\n  p {\n    display: flex;\n  }\n`;\n\nconst ViewDropDown = styled.div`\n  position: absolute;\n  right: 0;\n  top: calc(100% + 4px);\n  display: ${props => (props.isOpen? 'flex' : 'none')};\n  background-color: white;\n  color: ${colors.grey}\n  box-shadow: 0px 1.5px 1px rgba(0,0,0,0.05);\n  padding: 5px 10px;\n  border: 1px solid #E6E8E9;\n  border-radius: 0.25em;\n  z-index: 14;\n\n  ul {\n    margin: 0;\n    padding: 0;\n\n    li {\n      display: flex;\n      align-items: center;\n      list-style: none;\n      color: ${colors.grey};\n      white-space: nowrap;\n      font-size: 0.9rem;\n      font-weight: normal;\n      cursor: pointer;\n      margin: 0.3rem 0;\n      &:hover {\n        opacity: 0.7;\n      }\n    }\n\n    .divide-line {\n      border-bottom: 1px solid #E6E8E9;\n      margin: 0.8rem 0;\n    }\n  }\n`;\n\nconst ViewTitle = styled.p`\n  font-size: 0.8rem;\n  color: ${colors.grey};\n  margin: 1rem 0 0.5rem;\n  opacity: 0.7;\n`;\n\nconst CalendarViewDropDown = ({\n  history,\n  views,\n  showCreateViewModalFunc,  \n  setCurView,\n}) => {\n\n  const {state, dispatch} = useContext(AppReducerContext)  \n  const [openViewDropDown, setOpenViewDropDown] = useState(false)\n\n  const refOne = useRef(null);\n  useEffect(() => {\n    const handleDocumentClick = event => {\n      if (refOne.current) {\n        if (!ReactDOM.findDOMNode(refOne.current).contains(event.target)) {\n          if (openViewDropDown) {\n            setOpenViewDropDown(false);\n          }\n        }\n      }\n    };\n\n    document.addEventListener(\"click\", handleDocumentClick, false);\n\n    return () => {\n      document.removeEventListener(\"click\", handleDocumentClick, false);\n    };\n  }, [refOne, openViewDropDown]);\n\n  const handleClickView = nView => {\n    if (nView === state.calendarViews.curView)\n      return;\n    dispatch({\n      type: SET_CURRENT_CALENDAR_VIEW,\n      payload: nView\n    })\n  }\n\n  const getSelectedViewTitle = () => {\n    if (state.calendarViews.curView === 'spaces')\n      return 'Spaces';\n    else return state.calendarViews.calendarViewData.views[state.calendarViews.curView].title;\n  }\n\n  return (\n    <ViewsButton ref={refOne}>\n      <WrapperButton onClick={() => setOpenViewDropDown(!openViewDropDown)}>\n        {getSelectedViewTitle()}\n        <img\n          src={arrowDown}\n          alt=\"Show options\"\n          style={{ transform: openViewDropDown ? \"scaleY(-1)\" : \"\", marginLeft: 5 }}\n        />\n      </WrapperButton>\n      <ViewDropDown isOpen={openViewDropDown}>\n        <ul>\n          {\n            (state.auth.token && state.auth.token.length) > 0 && (\n              <React.Fragment>\n                <li onClick={() => history.push('/settings')}>\n                  <CircleAddGlyph side={16} fill={colors.grey} />&nbsp;&nbsp;Add another space\n                </li>\n                <div className=\"divide-line\"></div>\n              </React.Fragment>\n            )\n          }          \n          \n          <ViewTitle>Views</ViewTitle>\n          <li onClick={() => {setOpenViewDropDown(false); handleClickView('spaces');}}>All Spaces</li>\n\n          {views.map((item, nIndex) => {\n            return <li key={nIndex} onClick={() => {setOpenViewDropDown(false); handleClickView(nIndex);}}>\n              {item.title}\n            </li>\n          })}\n          {\n            (state.auth.token && state.auth.token.length) > 0 && (\n              <React.Fragment>\n                <div className=\"divide-line\"></div>\n                <li onClick={() => {setOpenViewDropDown(false); showCreateViewModalFunc(true);}}>\n                  <FontAwesomeIcon className=\"fa-icons\" icon={faPencilAlt} />\n                  &nbsp;&nbsp;Manage Views\n                </li>\n              </React.Fragment>\n            )\n          }          \n        </ul>\n      </ViewDropDown>\n    </ViewsButton>\n  )\n}\n\nexport default withRouter(CalendarViewDropDown)","import React, { useContext, useState, useEffect } from \"react\"\nimport axios from 'axios'\nimport styled from \"styled-components\";\nimport { AppReducerContext } from '../../contexts/AppReducerContext'\nimport MultiSelect from \"@khanacademy/react-multi-select\";\nimport {\n  ModalContainer,\n  ModalTopSection,\n  ModalTitleAndButtons,\n  ModalBottomSection\n} from \"../modals/containers\";\nimport H3 from '../typography/H3'\nimport P2 from '../typography/P2'\nimport Button from '../buttons/Button'\nimport { TableEditableValue } from \"../tables/tables\";\nimport SpinnerContainer from \"../layout/Spinner\";\nimport SvgButton from \"../buttons/SvgButton\";\nimport removeSvg from \"../../images/ui/remove.svg\";\n\nimport {\n  CREATE_CALENDAR_CUSTOM_VIEW_SUCCESS, CREATE_CALENDAR_CUSTOM_VIEW_ERROR,\n  UPDATE_CALENDAR_CUSTOM_VIEW_SUCCESS, UPDATE_CALENDAR_CUSTOM_VIEW_ERROR,\n} from '../../reducers/actionType'\n\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n  margin-bottom: 1rem;\n\n  .multi-select {    \n    width: 100%;\n    .select-panel {\n      >label.select-item {\n        display: none !important;        \n      }\n    }\n    .dropdown-heading {      \n      border: 1px solid #e6e8e9 !important;\n    }\n    .dropdown-content {\n      border: 1px solid #e6e8e9 !important;\n    }\n  }\n`;\n\nconst CustomeCol = styled.div`\n  display: flex;\n  width: 40%;\n  margin-right: 1rem;\n  flex-direction: column;\n\n  &.error {\n    .dropdown-heading {\n      border: 1px solid #E92579 !important;\n    }\n  }\n`;\n\nconst RemoveButton = styled(SvgButton)`\n  margin-left: auto;\n  margin-top: 8px;\n`;\n\nconst ErrorP = styled.p`\n  color: #E92579;            \n  margin: 0.2em 0 0 0;\n  padding: 0 0.6em;\n  font-size: 0.8em;\n`;\n\nconst CalendarCreateView = ({  \n  hideModal,\n}) => {\n\n  const { state, dispatch } = useContext(AppReducerContext);\n  const [calendarViews, setCalendarViews] = useState([])\n\n  const getSpaceNameWithId = spaceId => {\n    const filterOne = state.calendarViews.allSpaces.filter(item => item.id === spaceId)\n    if (filterOne.length > 0)\n      return filterOne[0].name\n    else return \"\"\n  }\n\n  useEffect(() => {    \n    setCalendarViews(state.calendarViews.calendarViewData.views)\n  }, [state.calendarViews.calendarViewData, state.calendarViews.allSpaces])\n\n  const handleClickAddView = () => {\n\n    setCalendarViews([\n      ...calendarViews,\n      {\n        title: 'View ' + calendarViews.length,\n        spaces: state.calendarViews.allSpaces.length > 0 ? [{id: state.calendarViews.allSpaces[0].id, name: state.calendarViews.allSpaces[0].name}] : [],\n      }\n    ])\n\n    if( !state.calendarViews.calendarViewData.id || state.calendarViews.calendarViewData.id === -1) {\n\n    } else {\n\n    }\n  }\n\n  const handleClickSave = async () => {\n    let isValidate = true;\n    calendarViews.forEach(item => {\n      if (item.title.length === 0 || item.spaces.length === 0)\n        isValidate = false\n    })\n\n    if (!isValidate)\n      return;\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }\n\n    if (state.calendarViews.calendarViewData.id === -1) {\n      try {\n        const res = await axios.post(\n          '/calendarview', {\n          views: JSON.stringify(calendarViews)}, \n          config\n        )      \n        dispatch({\n          type: CREATE_CALENDAR_CUSTOM_VIEW_SUCCESS,\n          payload: res.data.calendarView\n        })\n        hideModal()\n      } catch (err) {\n        dispatch({ type: CREATE_CALENDAR_CUSTOM_VIEW_ERROR })\n      }      \n    } else {\n      try {        \n        const res = await axios.put(\n          `/calendarview/${state.calendarViews.calendarViewData.id}`, \n          {views: JSON.stringify(calendarViews)}, \n          config\n        )\n\n        dispatch({\n          type: UPDATE_CALENDAR_CUSTOM_VIEW_SUCCESS,\n          payload: res.data.calendarView\n        })\n\n        hideModal()\n      } catch (err) {\n        dispatch({ type: UPDATE_CALENDAR_CUSTOM_VIEW_ERROR })\n      }\n    }\n  }\n\n  const handleChangeSpaces = (selected, nIndex) => {\n    const newOne = [ ...calendarViews]\n    newOne[nIndex].spaces = [ ...selected ]\n    setCalendarViews([ ...newOne])\n  }\n\n  const handleChangeViewTitle = (value, nIndex) => {\n    const newOne = [ ...calendarViews ]\n    newOne[nIndex].title = value\n    setCalendarViews([ ...newOne ])\n  }\n\n  const handleClickDeleteView = nIndex => {\n    setCalendarViews([\n      ...calendarViews.filter((item, key) => key !== nIndex)\n    ])\n  }\n\n  const getSelectedAllString = spaces => {\n    let strAll = \"\";\n    spaces.forEach((item, nIndex) => {\n      strAll += getSpaceNameWithId(item)\n      if (nIndex < spaces.length-1)\n        strAll += ', '\n    })\n    return strAll;\n  }\n\n  return (\n    <ModalContainer>\n      <SpinnerContainer />\n      <ModalTopSection>        \n        <ModalTitleAndButtons>\n          <H3 style={{margin: 0}}>Custom Views</H3>\n          <div>\n            <Button primary onClick={handleClickSave}>\n              Save\n            </Button>\n          </div>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n      <ModalBottomSection>\n        <P2>\n          Create custom calendar views of your spaces below, give your view a name and list the spaces associated with that name. \n          This is so you can find your spaces fast. (E.g Top Floor Spaces, Bar Spaces or Outdoor Spaces)\n        </P2>\n        { calendarViews.map((item, nIndex)=> {\n          return <Row key={nIndex}>\n            <CustomeCol>\n              <TableEditableValue \n                value={item.title} \n                label=\"\"\n                onChange={value => {handleChangeViewTitle(value, nIndex)}}\n                style={{width: '100%'}}\n                className={(item.title.length === 0 ? \"error\" : \"\")}\n\n              />\n              {\n                item.title.length === 0 && \n                <ErrorP>Don't forget the name!</ErrorP>\n              }\n            </CustomeCol>\n            <CustomeCol className={(item.spaces.length === 0 ? \"error\" : \"\")}>\n              <MultiSelect \n                options={state.calendarViews.allSpaces.map(item => {\n                  return {value: item.id, label: item.name}\n                })}\n                selected={item.spaces}\n                label=\"\"\n                onSelectedChanged={selected => handleChangeSpaces(selected, nIndex)}\n                disableSearch={true}\n                overrideStrings={{\n                  allItemsAreSelected: getSelectedAllString(item.spaces),\n                  selectSomeItems: \"Select Spaces\",\n                }}\n              />\n              {\n                item.spaces.length === 0 && \n                <ErrorP>Please select at least one space for view</ErrorP>\n              }\n            </CustomeCol>\n            <RemoveButton\n              size={20}\n              svg={removeSvg}\n              onClick={() => handleClickDeleteView(nIndex)}\n            />\n          </Row>\n        })}      \n        <Button primary onClick={handleClickAddView} style={{marginTop: '1rem'}}>\n          {calendarViews.length === 0 ? 'Create your first view' : 'Add another view'}\n        </Button>\n      </ModalBottomSection>\n    </ModalContainer>\n  )\n}\n\nexport default CalendarCreateView","import {\n  REQUEST_SAVE_CALENDAR_SETTING,\n  SAVE_CALENDAR_SETTING_ERROR,\n  SET_CALENDAR_SETTING_DATA,\n} from '../reducers/actionType'\n\nimport axios from 'axios'\n\nexport const setCalendarSettingAction = (dispatch, calendarSetting) =>  {\n  dispatch({\n    type: SET_CALENDAR_SETTING_DATA,\n    payload: calendarSetting,\n  })        \n}\n\nexport const saveCalendarSettingAction = (dispatch, calendarSetting) => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  \n  try {    \n    if (calendarSetting.id) {\n      axios.put(\n        `/calendarsetting/${calendarSetting.id}`, \n        {            \n          viewExpand: calendarSetting.viewExpand,\n          viewMode: calendarSetting.viewMode,\n          selectedDate: calendarSetting.selectedDate,\n        },\n        config,\n      ).then(res => {\n        dispatch({\n          type: SET_CALENDAR_SETTING_DATA,\n          payload: {\n            ...calendarSetting,\n            loading: false,\n          }\n        })\n      })      \n    } else {\n      axios.post(\n        '/calendarsetting', \n        {\n          viewExpand: calendarSetting.viewExpand,\n          viewMode: calendarSetting.viewMode,\n          selectedDate: calendarSetting.selectedDate\n        }, \n        config\n      ).then(res => {\n        dispatch({\n          type: SET_CALENDAR_SETTING_DATA,\n          payload: {\n            ...calendarSetting,\n            id: res.data.calendarSetting.id,\n            loading: false,\n          }\n        })\n      })\n    }\n  } catch (err) {\n    dispatch({ type: SAVE_CALENDAR_SETTING_ERROR })\n  }\n}\n","import React, { useContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport arrowDown from \"../../images/ui/arrowDown.svg\";\n\nimport { AppReducerContext } from \"../../contexts/AppReducerContext\";\nimport { setCalendarSettingAction } from '../../actions/calendar'\n\nconst Wrapper = styled.div`\n  position: relative;\n  margin-left: 1em;\n  @media (max-width: 1020px) {\n    display: none;\n  }\n\n  .react-datepicker-wrapper {\n    position: absolute;\n    left: 0;    \n    top: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n\n    .react-datepicker__input-container {\n      input {\n        cursor: pointer;\n      }      \n    }\n  }\n\n  .react-datepicker-popper {\n    z-index: 15;\n  }\n`;\n\nconst Title = styled.div`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1em;\n  text-align: center;\n  border: 1px solid #E6E8E9;\n  border-radius: 0.25em;\n  height: 34px;\n  padding: 0 0.7em;\n  width: auto;\n  flex: 0 0 auto;\n  background: #ffffff;\n  color: #93989F;\n  box-shadow: 0px 1.5px 1px rgba(0,0,0,0.05);\n  cursor: pointer;\n  outline: none;  \n  user-select: none;  \n  animation: 1s 0.3s linear infinite;  \n  animation-timing-function: ease-in-out;\n`\nconst CalendarDatePicker = props => {\n\n  const { state, dispatch } = useContext(AppReducerContext)\n\n  const [openViewDropDown, setOpenViewDropDown] = useState(false)\n\n  const handleCalendarOpen = () => {\n    setOpenViewDropDown(true)\n  }\n\n  return (\n    <Wrapper {...props}>\n      <Title>\n        {props.title}\n        <img\n          src={arrowDown}\n          alt=\"Show options\"\n          style={{ transform: openViewDropDown ? \"scaleY(-1)\" : \"\", marginLeft: 5 }}\n        />\n      </Title>\n      <DatePicker \n        selected={state.calendarSettings.selectedDate}\n        onChange={date => setCalendarSettingAction(dispatch, { ...state.calendarSettings, selectedDate: date})}\n        onClickOutside={() => setOpenViewDropDown(false)}\n        onInputClick={() => setOpenViewDropDown(!openViewDropDown)}\n        onSelect={() => setOpenViewDropDown(false)}\n        open={openViewDropDown}\n      />\n    </Wrapper>\n  )\n}\n\nexport default CalendarDatePicker;\n\n","import React, { useContext, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\nimport arrowRight from \"../../images/ui/arrowRight.svg\";\nimport arrowLeft from \"../../images/ui/arrowLeft.svg\";\nimport styled from \"styled-components\";\nimport SvgButton from \"../buttons/SvgButton\";\nimport Button from \"../buttons/Button\";\nimport ButtonsRow from \"../layout/ButtonsRow\";\nimport expandGlyph from \"../../images/Glyphs/calendarExpand.svg\";\nimport collapseGlyph from \"../../images/Glyphs/calendarCollapse.svg\";\nimport PickerButton from \"../buttons/PickerButton\";\nimport colors from \"../style/colors.js\";\nimport Modal from \"../modals/modal\"\nimport CalendarViewDropDown from './CalendarViewDropDown'\nimport CalendarCreateView from \"../features/CalendarCreateView\"\nimport { AppReducerContext } from \"../../contexts/AppReducerContext\";\nimport CalendarDatePicker from './CalendarDatePicker';\n\nimport axios from 'axios';\n\nimport { \n  CREATE_CALENDAR_SETTING_SUCCESS, CREATE_CALENDAR_SETTING_ERROR,\n  UPDATE_CALENDAR_SETTING_SUCCESS, UPDATE_CALENDAR_SETTING_ERROR,\n  SET_CALENDAR_SETTING_DATA,\n} from '../../reducers/actionType'\nimport { setCalendarSettingAction } from '../../actions/calendar'\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst CalendarToolbar = props => {\n  const { date, view: currentView, views, onNavigate, history } = props;\n\n  const { state, dispatch } = useContext(AppReducerContext)\n\n  const [showCreateViewModal, setShowCreateViewModal] = useState(false)\n\n  return (\n    <Container\n      style={{\n        justifyContent: \"space-between\",\n        marginBottom: 22\n      }}\n    >\n      <Container>\n        <SvgButton\n          svg={!state.calendarSettings.viewExpand ? expandGlyph : collapseGlyph}\n          width={22}\n          height={22}\n          onClick={() => setCalendarSettingAction(dispatch, {...state.calendarSettings, viewExpand: !state.calendarSettings.viewExpand})}\n          style={{ marginRight: 14 }}\n        />\n        <Button\n          style={{ margin: \"0 1em 0 0\" }}\n          onClick={() => setCalendarSettingAction(\n            dispatch,\n            {\n              ...state.calendarSettings,\n              selectedDate: new Date(),\n              viewMode: 'day',\n            }\n          )}\n        >\n          Today\n        </Button>\n        <SvgButton\n          svg={arrowLeft}\n          width={20}\n          height={20}\n          onClick={() => onNavigate(\"PREV\")}\n          style={{ marginRight: 7 }}\n        />\n        <SvgButton\n          svg={arrowRight}\n          width={20}\n          height={20}\n          onClick={() => onNavigate(\"NEXT\")}\n        />\n        <CalendarDatePicker title={formatDate(date, currentView)} />\n      </Container>\n\n      <Container>\n        <ButtonsRow>\n          {views.map(view => {\n            return (\n              <Button\n                key={view}\n                onClick={() => setCalendarSettingAction(\n                  dispatch, \n                  {\n                    ...state.calendarSettings, \n                    viewMode: view,\n                  }\n                )}\n                selected={view === currentView}\n                style={{textTransform: 'capitalize'}}\n              >                \n                {view}\n              </Button>\n            );\n          })}\n        </ButtonsRow>\n      </Container>      \n      \n      <CalendarViewDropDown \n        views={state.calendarViews.calendarViewData.views ? state.calendarViews.calendarViewData.views : []}\n        showCreateViewModalFunc = {(bShow) => setShowCreateViewModal(bShow)}\n      />\n\n      {\n        showCreateViewModal && (\n          <Modal \n            isOpen={showCreateViewModal} \n            onClose={() => setShowCreateViewModal(false)}>\n            <CalendarCreateView \n              hideModal={() => {setShowCreateViewModal(false)}}\n            />\n          </Modal>\n        )\n      }      \n    </Container>\n  );\n};\n\nfunction formatDate(date, view) {\n  switch (view) {\n    case \"day\":\n      return moment(date).format(\"dddd, Do of MMMM YYYY\");\n    case \"week\": {\n      const firstDayOfWeek = moment(date).startOf('week')\n      const lastDayOfWeek = moment(date).endOf('week')\n      if (firstDayOfWeek.year() !== lastDayOfWeek.year()) {\n        return firstDayOfWeek.format('Do of MMMM YYYY') + \" - \" + lastDayOfWeek.format('Do of MMMM YYYY')\n      } else {\n        return firstDayOfWeek.format('Do of MMMM ') + \" - \" + lastDayOfWeek.format('Do of MMMM')      \n      }\n    }      \n    case \"month\":\n      return moment(date).format(\"MMMM YYYY\");\n    default:\n      return moment(date).format(\"dddd, MMMM D, YYYY\");\n  }\n}\n\nexport default withRouter(CalendarToolbar);\n","const isToday = someDate => {\n  const today = new Date();\n  return (\n    someDate.getDate() === today.getDate() &&\n    someDate.getMonth() === today.getMonth() &&\n    someDate.getFullYear() === today.getFullYear()\n  );\n};\n\nexport default isToday;\n","import React from \"react\";\nimport moment from \"moment\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\nimport isToday from \"../../utils/isToday\";\n\nconst CalendarWeekHeader = props => {\n  const { date } = props;\n\n  const isDateToday = isToday(date);\n  const weekDay = moment(date).format(\"ddd\");\n  const monthDay = moment(date).format(\"D\");\n\n  const WeekDay = styled.div`\n    font-style: normal;\n    font-weight: normal;\n    font-size: 13px;\n    line-height: 16px;\n    margin-top: 14px;\n    text-align: center;\n    letter-spacing: 0.02em;\n    color: ${isDateToday ? colors.accent_pink : colors.grey};\n  `;\n  const MonthDay = styled.div`\n    display: inline-block;\n\n    font-style: normal;\n    font-weight: 500;\n    font-size: 22px;\n    line-height: 28px;\n    margin-top: 11px;\n    margin-bottom: 14px;\n\n    background-color: ${isDateToday ? colors.accent_pink : \"clear\"};\n    border-radius: 20px;\n    min-width: 40px;\n    min-height: 40px;\n    line-height: 40px;\n\n    color: ${isDateToday ? \"white\" : colors.grey};\n  `;\n\n  return (\n    <>\n      <WeekDay>{weekDay}</WeekDay>\n      <MonthDay>{monthDay}</MonthDay>\n    </>\n  );\n};\n\nexport default CalendarWeekHeader;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { cx, css } from \"emotion\";\n\nimport BigCalendar from \"react-big-calendar\";\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUser } from '@fortawesome/free-solid-svg-icons'\n\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport \"../../css/calendar.css\";\n\nimport CalendarToolbar from \"./calendarToolbar\";\nimport CalendarWeekHeader from \"./calendarWeekHeader\";\nimport { formatEventStartEndTime } from \"../../utils/dateFormatting\";\nimport colors from \"../style/colors\";\n\nimport { AppReducerContext } from \"../../contexts/AppReducerContext\";\nimport axios from 'axios'\nimport { SET_CALENDAR_SETTING_DATA, CREATE_CALENDAR_SETTING_ERROR } from '../../reducers/actionType'\nimport { setCalendarSettingAction } from \"../../actions/calendar\"\n\nconst localizer = BigCalendar.momentLocalizer(moment);\n\nconst Event = props => {\n  const { event } = props;\n  return (\n    <>\n      <p\n        className={cx(\n          \"event-title\",\n          css`\n            font-style: normal;\n            font-weight: 500;\n            font-size: 12px;\n            line-height: 14px;\n            color: black;\n            margin-top: 4px;\n            margin-bottom: 0;\n            color: ${colors.dark};\n          `\n        )}\n      >\n        {event.title}\n      </p>\n      <p\n        className={cx(\n          \"event-subtitle\",\n          css`\n            font-style: normal;\n            font-weight: 500;\n            font-size: 12px;\n            line-height: 14px;\n            margin-top: 4px;\n            margin-bottom: 0;\n            color: ${event.accent};\n          `\n        )}\n      >\n        <FontAwesomeIcon className=\"fa-icons\" icon={faUser} />&nbsp;&nbsp;&nbsp;\n        {event.subtitle}\n      </p>\n      <p\n        className={cx(\n          \"event-time\",\n          css`\n            font-style: normal;\n            font-weight: normal;\n            font-size: 12px;\n            line-height: 13px;\n            margin-top: 4px;\n            color: ${colors.grey};\n          `\n        )}\n      >\n        {formatEventStartEndTime(event.start, event.end)}\n      </p>\n    </>\n  );\n};\n\nconst EventWrapper = props => {\n  const { event, children } = props;\n\n  return (\n    <div\n      onClick={props.onClick}\n      className={css`\n        .rbc-event {\n          ::before {\n            content: \"\";\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            background-color: white;\n            z-index: -2;\n            border-radius: 2px;\n          }\n          ::after {\n            content: \"\";\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            background-color: ${event.accent}15;\n            z-index: -1;\n            border-radius: 2px;\n          }\n          z-index: 0;\n          border: 1px solid ${event.accent} ;\n          background-color: ${event.accent}15 !important;\n\n          color: black;\n          border-radius: 2px;\n          left: 5px !important;\n          right: 5px !important;\n          width: calc(100% - 10px) !important;\n        }\n        .rbc-selected {\n          background-color: ${event.accent}60 !important;\n        }\n        :active {\n          opacity: 0.8;\n        }\n      `}\n    >\n      {children}\n    </div>\n  );\n};\n\nconst Calendar = props => {\n  // initially scrolling to this date gives the best experience for most users\n  const today8am = new Date();\n  today8am.setHours(8);\n  today8am.setMinutes(30);\n  \n  const { state, dispatch } = useContext(AppReducerContext);\n\n  const getSpaceNameWithId = spaceId => {\n    const filterOne = state.calendarViews.allSpaces.filter(item => item.id === spaceId)\n    if (filterOne.length > 0)\n      return filterOne[0].name\n    else return \"\"\n  }\n  \n  const [resources, setResources] = useState([])\n  useEffect(() => {\n    if (state.calendarViews.curView === 'spaces')\n      setResources([\n        ...state.calendarViews.allSpaces.map(item => {\n          return {id: item.id, title: item.name}\n        })\n      ])\n    else  {\n      if (\n        state.calendarViews.calendarViewData && \n        state.calendarViews.calendarViewData.views &&\n        state.calendarViews.curView >= 0\n      ) {\n        const newResources = state.calendarViews.calendarViewData.views[state.calendarViews.curView].spaces.map(item => {\n          return {id: item, title: getSpaceNameWithId(item)}\n        })\n        setResources([...newResources])\n      }\n    }\n  }, [\n    state.calendarViews.curView, \n    state.calendarViews.calendarViewData, \n    state.calendarViews.allSpaces\n  ])\n\n  return (\n    <BigCalendar\n      scrollToTime={today8am}\n      views={[\"day\", \"week\", \"month\"]}\n      selectable={false} // prevent drag to create event in calendar\n      localizer={localizer}\n      date={state.calendarSettings.selectedDate}\n      defaultView='week'\n      view={state.calendarSettings.viewMode}\n      step={15}\n      timeslots={4}\n      components={{\n        event: Event,\n        eventWrapper: EventWrapper,\n        toolbar: CalendarToolbar,\n        week: {\n          header: CalendarWeekHeader\n        }\n      }}\n      events={props.events || []}\n      resources={resources}\n      onNavigate={date => {        \n        setCalendarSettingAction(\n          dispatch,\n          {\n            ...state.calendarSettings,\n            selectedDate: date,\n          }\n        )\n      }}    \n      {...props}      \n    />\n  );\n};\n\nexport default Calendar;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\nimport moment from \"moment\";\nimport P2 from \"../typography/P2\";\n// import { AppReducerContext } from \"../../contexts/AppReducerContext\";\n\nconst BookingRow = props => {\n  const { booking, onClick } = props;\n\n  // const { state } = useContext(AppReducerContext);\n\n  // const venue = state.settings.venues.find(v => v.id === booking.venue);\n  // const space = venue.spaces.find(space => space.id === booking.space);\n\n  const Container = styled.div`\n    background: white;\n    border: 1px solid #ddd;\n    border-radius: 8px;\n    margin-bottom: 1em;\n    overflow: hidden;\n    :first-child {\n      margin-top: 1em;\n    }\n    cursor: pointer;\n  `;\n\n  const Title = styled.p`\n    font-size: 1.2em;\n    font-weight: 500;\n    color: ${colors.dark};\n    padding: 0.8rem 1.2rem 0.2rem;\n    margin: 0;\n  `;\n\n  const Subtitle = styled(P2)`\n    color: #sss;\n    padding: 0 1.2rem 0.7rem;\n    margin: 0;\n  `;\n\n  const Footer = styled.div`\n    height: 2.5em;\n    background: ${colors.lighter};\n    display: flex;\n    direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 1.2rem;\n    p {\n      margin: 0;\n    }\n  `;\n\n  return (\n    <Container onClick={onClick}>\n      <Title>{booking.title}</Title>\n      <Subtitle strong>{`${booking.eventName}`}</Subtitle>\n      <Footer>\n        <P2 color=\"grey\">{formatSlotsDatesForFooter(booking.slots)}</P2>\n      </Footer>\n    </Container>\n  );\n};\n\n/**\n * Formats the slots dates and returns a short string describing the datates of the slot (e.g. \"16, 18-21 June\")\n * @param {*} slots the slots of a booking\n */\nfunction formatSlotsDatesForFooter(slots) {\n  const dates = slots\n    .map(slot => {\n      switch (slot.kind) {\n        case \"single-day\":\n          return slot.date;\n        case \"multi-day\":\n          return slot.dateRange;\n        default:\n          throw Error();\n      }\n    })\n    .flat();\n\n  const sortedDates = dates.sort((a, b) => (a > b ? 1 : -1));\n\n  let res = [];\n  let buffer = [];\n  let prevMonthYear = null;\n\n  function flushBuffer() {\n    if (buffer.length > 0) {\n      const formattedDates = buffer.map(date => moment(date).format(\"D\"));\n      res.push(\n        formattedDates.join(\"-\") + \" \" + moment(buffer[0]).format(\"MMM\")\n      );\n    }\n  }\n\n  for (let date of sortedDates) {\n    if (typeof date.getMonth === 'function' && prevMonthYear !== `${date.getMonth()}-${date.getYear()}`) {\n      flushBuffer();\n      buffer = [];\n      prevMonthYear = `${date.getMonth()}-${date.getYear()}`;\n    }\n\n    buffer.push(date);\n  }\n\n  flushBuffer();\n\n  return res.join(\", \");\n}\n\n/**\n * Formats the time in some slots for display in a short string.\n * @param {*} slots the slots of a booking\n */\n// function formatSlotsTimes(slots) {\n//   const timesSet = new Set();\n//   slots.forEach(slot => {\n//     // we use this day just to format the hour with moment\n//     const startDate = new Date(1992, 11, 29, slot.startHour, slot.startMinute);\n//     const endDate = new Date(1992, 11, 29, slot.endHour, slot.endMinute);\n//     timesSet.add(formatEventStartEndTime(startDate, endDate));\n//   });\n\n//   if (timesSet.size === 1) {\n//     return timesSet.values().next().value;\n//   } else {\n//     return \"multiple\";\n//   }\n// }\n\nexport default BookingRow;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\nimport P1 from \"../typography/P1\";\nimport BookingRow from \"./bookingRow\";\nimport { \n  isBookingWithDates, \n  startOfWeek, \n  endOfWeek,\n  startOfUpcomingWeek,\n  endOfUpcomingWeek,\n} from \"../../utils/dates\";\nimport P2 from \"../typography/P2\";\nimport { AppReducerContext } from \"../../contexts/AppReducerContext\";\n\nconst TabbedBookingsList = props => {\n  const { onSelect } = props;\n  const [selectedTab, setSelectedTab] = useState(\"week\");\n  const { state } = useContext(AppReducerContext);\n  \n  const [ selectedBookings, setSelectedBookings ] = useState([]);\n\n  useEffect(() => {\n    if (selectedTab === \"week\") {\n      const newFiltered = state.bookings.bookings && state.bookings.bookings.filter(booking =>\n        isBookingWithDates(booking, startOfWeek(), endOfWeek())\n      );\n      setSelectedBookings([...newFiltered]);\n    } else if (selectedTab === \"upcoming\") {\n      const newFiltered = state.bookings.bookings.filter(\n        booking => isBookingWithDates(booking, startOfUpcomingWeek(), endOfUpcomingWeek())\n      )\n      setSelectedBookings([...newFiltered]);\n    } else {\n      throw new Error();\n    }\n  }, [state.bookings.bookings, selectedTab])\n\n  const Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n  `;\n\n  const Header = styled.div`\n    border-bottom: 1px solid ${colors.light};\n    position: sticky;\n    top: 0;\n    background: ${colors.lightest};\n    p {\n      display: inline-block;\n      margin: 0 1em 0 0;\n      cursor: pointer;\n      padding: 0 0 0.5em;\n    }\n    .selected {\n      color: ${colors.accent_pink};\n      font-weight: 500;\n      border-bottom: 2px solid ${colors.accent_pink};\n    }\n  `;\n\n  const BookingsList = styled.div``;\n\n  return (\n    <Wrapper>\n      <Header>\n        <P1\n          className={selectedTab === \"week\" && \"selected\"}\n          onClick={() => setSelectedTab(\"week\")}\n        >\n          This Week\n        </P1>{\" \"}\n        <P1\n          className={selectedTab === \"upcoming\" && \"selected\"}\n          onClick={() => setSelectedTab(\"upcoming\")}\n        >\n          Upcoming\n        </P1>\n      </Header>\n      <BookingsList>\n        {selectedBookings && selectedBookings.map(booking => (\n          <BookingRow\n            key={booking.id}\n            booking={booking}\n            onClick={() => onSelect(booking)}\n          />\n        ))}\n        {selectedBookings && selectedBookings.length === 0 && (\n          <P2 style={{ marginTop: 10 }} color=\"grey\">\n            {selectedTab === \"upcoming\"\n              ? \"No bookings here. Add a booking in the coming weeks and it will show up here.\"\n              : \"No bookings here. Try adding one from the Bookings section.\"}\n          </P2>\n        )}\n      </BookingsList>\n    </Wrapper>\n  );\n};\n\nexport default TabbedBookingsList;\n","import React, {useState, useContext, useEffect} from \"react\"\nimport axios from 'axios'\nimport { css } from \"emotion\";\nimport styled from \"styled-components\"\nimport H3 from \"../../typography/H3\"\nimport { ModalContainer, ModalTopSection, ModalTitleAndButtons, ModalBottomSection } from \"../../modals/containers\"\nimport { TableLabel, TableDivider, TableEditableValue } from \"../../tables/tables\"\nimport Button from '../../buttons/Button'\nimport SpinnerContainer from \"../../layout/Spinner\";\nimport { AppReducerContext } from \"../../../contexts/AppReducerContext\";\n\nimport { getSubDomain, CALENDAR_REDIRECT_VALUE } from \"../../../constants\";\nimport CONFIG from \"../../../config\"\n\nconst Row = styled.div`\n  display: flex;  \n  width: 100%;\n`\nconst BookingEmailLogin = ({\n  startDate,\n  endDate,\n}) => {\n\n  const { state, dispatch } = useContext(AppReducerContext);\n  const [userEmail, setUserEmail] = useState({value: '', validate: true, errMsg: ''})\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    setUserEmail({value: '', validate: true, errMsg: ''});\n  }, [])\n\n  const onUserEmailChange = value => {\n    if (value.length > 0)\n      setUserEmail({\n        value,\n        validate: true,\n        errMsg: ''      \n      })\n    else \n      setUserEmail({\n        value,\n        validate: false,\n        errMsg: 'Email is required.'      \n      })    \n  }\n\n  const onNext = () => {\n    if (userEmail.value.length === 0) {\n      setUserEmail({\n        ...userEmail, validate: false, errMsg: 'Email is required.'\n      })\n      return\n    }\n\n    if (!userEmail.validate)\n      return;\n\n    setLoading(true)\n\n    axios.post(\n      '/users/loginWithEmailSubdomain', \n      {email: userEmail.value, subdomain: getSubDomain()}\n    ).then(res => {\n      setLoading(false)\n      if (res.data.success) {        \n        window.location.replace(\n          CONFIG.BASE_URL + 'login/?' + \n          CALENDAR_REDIRECT_VALUE + \n          'https://' + getSubDomain() + '.heyagenda.com/login?' +\n          'start=' + startDate.valueOf() + \n          'end=' + endDate.valueOf(),\n        );\n      } else {\n        setUserEmail({...userEmail, validate: false, errMsg: res.data.error})\n      }\n    }).catch(error => {\n      setLoading(false)\n      setUserEmail({...userEmail, validate: false, errMsg: error.response.data.error})\n    });              \n  }\n\n  return (\n    <ModalContainer>\n      <SpinnerContainer loading={loading.toString()}/>\n      <ModalTopSection>\n        <ModalTitleAndButtons>\n          <H3>New Booking</H3>\n        </ModalTitleAndButtons>\n      </ModalTopSection>\n      <ModalBottomSection>\n        <H3>To start, please enter your email address.</H3>\n        <TableLabel>You'll be the holder of this new booking</TableLabel>\n        <TableDivider />\n        <Row>\n          <TableEditableValue \n            labe={'Email'}\n            value={userEmail.value}\n            style={{flex: 1}}\n            onChange={value => onUserEmailChange(value)}\n            className={!userEmail.validate ? \"error\" : \"\"}\n          />\n          <Button \n            primary \n            style={{marginLeft: '1em', minWidth: '80px'}} \n            onClick={onNext}\n            disabled={!userEmail.validate}\n          >\n            Next\n          </Button>\n        </Row>\n        <Row>\n          {\n            !userEmail.validate && \n            <p \n              className={\n                css`\n                  color: #E92579;            \n                  margin: 0.2em 0 0 0;\n                  padding: 0 0.6em;\n                  font-size: 0.8em;\n                `\n              }\n            >\n              {userEmail.errMsg}\n            </p>\n          }     \n        </Row>\n      </ModalBottomSection>\n    </ModalContainer>\n  )\n}\n\nexport default BookingEmailLogin","import { updatedDate } from \"../utils/dates\";\n\n/**\n * Translates a Booking into events (possibly more than one,\n * depending on the slots of the booking)\n * @param {Booking} booking\n */\nfunction bookingToEvents(booking, bookignColors) {\n  const res = [];\n  // const venue = venues.find(v => v.id === booking.venue);\n\n  booking.slots.length && booking.slots.forEach((slot, index) => {\n    // const space = venue.spaces.find(space => space.id === booking.space);\n    let filteredColor = getBookingColor(booking, bookignColors);\n    switch (slot.kind) {\n      case \"multi-day\":\n        slot.dateRange.forEach((slotDate, dateIndex) => {\n          res.push({\n            id: `${booking.id}_${index}_${dateIndex}`,\n            bookingID: booking.id,\n            title: booking.title,\n            subtitle: booking.eventName,\n            start: updatedDate(slotDate, slot.startHour, slot.startMinute),\n            end: updatedDate(slotDate, slot.endHour, slot.endMinute),            \n            accent: filteredColor.length > 0 ? filteredColor : \"#4a9454\",\n            resourceId: booking.space ? booking.space.id : null,\n          });\n        });\n\n        break;\n\n      case \"single-day\":\n        res.push({\n          id: `${booking.id}_${index}`,\n          bookingID: booking.id,\n          title: booking.title,\n          subtitle: booking.eventName,\n          start: updatedDate(slot.date, slot.startHour, slot.startMinute),\n          end: updatedDate(slot.date, slot.endHour, slot.endMinute),\n          accent: filteredColor.length > 0 ? filteredColor : \"#6389ea\",\n          resourceId: booking.space ? booking.space.id : null,\n        });\n\n        break;\n\n      default:\n        break;\n    }\n  });\n\n  return res;\n}\n\nfunction getBookingColor(booking, bookignColors) {\n  let color = '';\n  let isMatched = false;\n  if (bookignColors && bookignColors.length > 0 && Object.keys(booking).length > 0) {\n    bookignColors.forEach(item => {\n      item.content.forEach(itemOne => {\n        let isOneAddContion = false;\n        itemOne.map(itemTwo => {          \n          if (itemTwo.condition_key === 'title' && itemTwo.condition_value.length > 0) {\n            if (itemTwo.condition_type === 'contains') {\n              if (booking.eventName.toLowerCase().indexOf(itemTwo.condition_value.toLowerCase()) >= 0)\n                isOneAddContion = true;\n            } else if (itemTwo.condition_type === 'not_contains') {\n              if (booking.eventName.toLowerCase().indexOf(itemTwo.condition_value.toLowerCase()) < 0)\n                isOneAddContion = true;\n            }\n          } else if (itemTwo.condition_key === 'payment_status') {\n            if (itemTwo.condition_type === 'equal') {\n              if (booking.status.name.toLowerCase() === itemTwo.condition_value.toLowerCase())\n                isOneAddContion = true;              \n            } else if(itemTwo.condition_type === 'not_equal') {\n              if (booking.status.name.toLowerCase() !== itemTwo.condition_value.toLowerCase())\n                isOneAddContion = true;\n            }\n          }\n        })\n        if (isOneAddContion) color = item.color;\n      })\n    })    \n  }\n  \n  return color;\n}\n\nexport { bookingToEvents };\n","import React, {useState, useContext, useEffect, useCallback } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport useInterval from 'react-useinterval';\nimport Grid from \"../components/layout/Grid\";\nimport constants from \"../components/layout/constants\";\nimport SpinnerContainer from \"../components/layout/Spinner\";\nimport Calendar from \"../components/features/calendar\";\nimport TabbedBookingsList from \"../components/features/tabbedBookingsList\";\nimport BookingDetail from \"../components/features/bookingDetail/bookingDetail\";\nimport Modal from \"../components/modals/modal\";\nimport BookingDetailEdit from \"../components/features/bookingDetail/bookingDetailEdit\";\nimport BookingEmailLogin from '../components/features/bookingDetail/bookingEmailLogin'\nimport { AppReducerContext } from \"../contexts/AppReducerContext\";\nimport { createEmptyBooking } from \"../models/bookings\";\nimport { bookingToEvents } from \"../models/bookingToEvents\";\n\nimport {\n  REQUSET_ADD_BOOKING, GET_ADD_BOOKING_SUCCESS, GET_ADD_BOOKING_ERROR,\n  REQUEST_UPDATE_BOOKING, GET_UPDATE_BOOKING_SUCCESS, GET_UPDATE_BOOKIG_ERROR,\n  GET_BOOKING_BOOKINGSATTUS_ERROR,\n  GET_BOOKING_BOOKINGSTATUS_SUCCESS, GET_BOOKINGS_ERROR,\n  GET_BOOKINGS_SUCCESS, GET_CUSTOMERS_ERROR, GET_CUSTOMERS_SUCCESS, GET_VENUE_ERROR, GET_VENUE_SUCCESS,\n  REQUEST_GET_BOOKING_BOOKINGSTATUS,\n  REQUEST_GET_BOOKINGS, REQUEST_GET_CUSTOMERS,\n  REQUEST_GET_VENUE,\n  CLEAR_BOOKING_DATA,\n  GET_ADD_CUSTOMER_SUCCESS,\n  REQUEST_GET_CUSTOM_BOOKING_COLOR, GET_CUSTOM_BOOKING_COLOR_SUCCESS, GET_CUSTOM_BOOKING_COLOR_ERROR,\n  GET_CALENDAR_CUSTOM_VIEW_SUCCESS, GET_CALENDAR_CUSTOM_VIEW_ERROR,\n  GET_USERS_ALL_SPACES_SUCCESS, GET_USERS_ALL_SPACES_ERROR,\n  GET_CALENDAR_SETTING_ERROR, SET_CALENDAR_SETTING_DATA,\n  GET_COMPANYINFO_SUCCESS, GET_COMPANYINFO_ERROR,\n} from \"../reducers/actionType\";\nimport {\n  setCalendarSettingAction,\n  saveCalendarSettingAction,\n} from '../actions/calendar'\n\nimport {\n  CUSTOMER_OPTION_CREATE_USER,\n  // CUSTOMER_OPTION_CASUAL_USER,\n  getSubDomain,\n  getReturnUrlSlots,\n} from '../constants'\n\nimport CONFIG from '../config'\nimport moment from \"moment\";\n\nconst CalendarPage = props => {\n  const [selectedBookingID, setSelectedBookingID] = useState(null);\n  const [showCreateBookingModal, setShowCreateBookingModal] = useState(false);\n  const [createBookingModalInfo, setCreateBookingModalInfo] = useState(null);\n  const [showEnterEmailModal, setShowEnterEmailModal] = useState(false);\n  const [subdomain, setSubdomain] = useState(getSubDomain())\n\n  const { state, dispatch } = useContext(AppReducerContext);\n  const [events, setEvents] = useState([])\n\n  const [loading, setLoading] = useState(true)\n\n  useInterval(() => {\n    if (state.calendarSettings.viewMode === 'day') {\n      const currentTimeIndicator = document.getElementsByClassName('rbc-current-time-indicator')[0]\n      if (currentTimeIndicator) {\n                \n        if (currentTimeIndicator.hasChildNodes()) {\n          const indicatorDiv = document.getElementsByClassName('current-time-indicator-value')[0]\n          indicatorDiv.innerText = moment().format('h:mm')\n        } else {\n          const currentTimeElement = document.createElement('div')\n          currentTimeElement.className= 'current-time-indicator-value'\n          currentTimeElement.innerText = moment().format('h:mm')\n          currentTimeIndicator.appendChild(currentTimeElement)\n        }                \n      }      \n    }    \n  }, 1000)\n\n  useEffect(() => {\n    localStorage.setItem('calendarsetting', JSON.stringify(state.calendarSettings))\n  }, [state.calendarSettings])\n\n  const handleKeyDown = useCallback((event) => {    \n    const getViewMode = strValue => {\n      if (strValue === 'd')\n        return 'day'\n      else if (strValue === 'w')\n        return 'week'\n      else if (strValue === 'm')\n        return 'month'\n      else return ''\n    }\n\n    if (props.history.location.pathname === \"/calendar\") {\n      let calendarSettings = JSON.parse(localStorage.getItem('calendarsetting'))\n      calendarSettings.selectedDate = new Date(calendarSettings.selectedDate)\n      \n      if (getViewMode(event.key) === '')\n        return;\n      if (calendarSettings.viewMode === 'day' && event.key === 'd')\n        return;\n      if (calendarSettings.viewMode === 'week' && event.key === 'w')\n        return;\n      if (calendarSettings.viewMode === 'month' && event.key === 'm')\n        return;\n      setCalendarSettingAction(dispatch, {...calendarSettings, viewMode: getViewMode(event.key)})      \n    }\n  }, []);\n\n  useEffect(() => {\n    setLoading(true);\n    if (state.auth.token && state.auth.token.length > 0) {\n      const getCalendarSetting = async () => {\n        try {\n          const res = await axios.get('/calendarsetting')   \n          dispatch({ \n            type: SET_CALENDAR_SETTING_DATA,\n            payload: {            \n              ...res.data.calendarSetting,\n              selectedDate: new Date(res.data.calendarSetting.selectedDate),\n              loading: false,\n            }\n          })\n        } catch (err) {\n          dispatch({ type: GET_CALENDAR_SETTING_ERROR })\n        }\n      }\n      getCalendarSetting();      \n\n      const getBookings = async () => {\n        try {\n          dispatch({ type: REQUEST_GET_BOOKINGS });\n  \n          const res = await axios.get('/bookings');\n          console.log('bookings');\n          dispatch({\n            type: GET_BOOKINGS_SUCCESS,\n            payload: res.data.bookings\n          })\n        } catch (err) {\n          dispatch({ type: GET_BOOKINGS_ERROR });\n        }\n      }\n  \n      getBookings();\n  \n      const getCustomers = async () => {\n        try {\n          dispatch({ type: REQUEST_GET_CUSTOMERS });\n  \n          const res = await axios.get('/customers');\n          console.log('customers');\n          dispatch({\n            type: GET_CUSTOMERS_SUCCESS,\n            payload: res.data.customers\n          })\n        } catch (err) {\n          dispatch({ type: GET_CUSTOMERS_ERROR });\n        }\n      }\n      if (!(state.customers.customers && state.customers.customers.length))\n      getCustomers();\n  \n      const getVenue = async () => {\n        try {\n          dispatch({ type: REQUEST_GET_VENUE });\n  \n          const res = await axios.get('/venues');\n          console.log('venues');\n          const venues = res.data.venues;\n          venues.map(item => {\n            if (!item.spaces) {\n              item.spaces = [];\n            }\n            return item;\n          })\n  \n          dispatch({\n            type: GET_VENUE_SUCCESS,\n            payload: venues\n          })\n  \n        } catch (err) {\n          console.log(\"Get Venus Setting failed.\")\n          dispatch({ type: GET_VENUE_ERROR });\n        }\n      }\n  \n      if (!state.settings.venues && state.settings.venues.length > 0)\n        getVenue();\n  \n      const getCompany = async () => {\n        try {\n          const res = await axios.get('/company');\n          dispatch({\n            type: GET_COMPANYINFO_SUCCESS,\n            payload: {...res.data.company},\n          })\n        } catch (err) {\n          dispatch({ type: GET_COMPANYINFO_ERROR });\n        }\n      }\n      \n      if (!state.settings.companyInfo.id)\n        getCompany();\n  \n      const getBookingStatus = async () => {\n  \n        try {\n          dispatch({ type: REQUEST_GET_BOOKING_BOOKINGSTATUS });\n  \n          const res = await axios.get('/statuses');\n          console.log('statues');\n  \n          dispatch({\n            type: GET_BOOKING_BOOKINGSTATUS_SUCCESS,\n            payload: res.data.statuses\n          });\n        } catch(err) {\n          dispatch({ type: GET_BOOKING_BOOKINGSATTUS_ERROR });\n        }\n  \n      }\n      if(!(state.bookings.bookingStatus && state.bookings.bookingStatus.length > 0))\n      getBookingStatus();\n  \n      const getBookingColors = async () => {\n        dispatch({ type: REQUEST_GET_CUSTOM_BOOKING_COLOR })\n        try {\n          const res = await axios.get('/bookingcolor')\n          console.log('bookingcolor');\n          if (res.data.bookingColor) {\n            dispatch({\n              type: GET_CUSTOM_BOOKING_COLOR_SUCCESS,\n              payload: JSON.parse(res.data.bookingColor.color)\n            })\n          } else {\n            dispatch({ type: GET_CUSTOM_BOOKING_COLOR_ERROR })  \n          }\n        } catch (err) {\n          dispatch({ type: GET_CUSTOM_BOOKING_COLOR_ERROR })\n        }      \n      }\n      getBookingColors();\n  \n      const getCalendarViews = async () => {\n        try {        \n          const res = await axios.get('/calendarview')\n          \n          dispatch({ \n            type: GET_CALENDAR_CUSTOM_VIEW_SUCCESS,\n            payload: res.data.calendarView ? res.data.calendarView : {},\n          })\n        } catch (err) {\n          dispatch({ type: GET_CALENDAR_CUSTOM_VIEW_ERROR })\n        }\n      }\n      getCalendarViews();\n  \n      const getAllSpaces = async() => {\n        try {\n          const res = await axios.get('/userspaces')\n          dispatch({ \n            type: GET_USERS_ALL_SPACES_SUCCESS,\n            payload: res.data.spaces,\n          })\n        } catch (err) {\n          dispatch({ type: GET_USERS_ALL_SPACES_ERROR })\n        }\n      }\n      getAllSpaces();\n\n      // check if returnUrl exist\n      if (window.location.href.indexOf('start=') > 0) {    \n          const slots = getReturnUrlSlots()        \n          setCreateBookingModalInfo({ startDate: slots.start, endDate: slots.end });\n          setShowCreateBookingModal(true);\n      }      \n    } else {\n      //without token\n      // check subdomain is exsit\n      const checkSubdomain = async () => {\n        try {\n          const res = await axios.get(`/companies/subdomain/${subdomain}`)\n          if (res.data.success) {\n      \n            dispatch({\n              type: GET_COMPANYINFO_SUCCESS,\n              payload: {...res.data.company},\n            })\n            \n            // Get bookinngs with subdomain\n            const getBookings = async () => {\n              try {\n                dispatch({ type: REQUEST_GET_BOOKINGS });\n         \n                const res = await axios.get(`/bookings/subdomain/${subdomain}`);\n                \n                dispatch({\n                  type: GET_BOOKINGS_SUCCESS,\n                  payload: res.data.bookings\n                })\n              } catch (err) {\n                dispatch({ type: GET_BOOKINGS_ERROR });\n              }\n            }        \n            getBookings();\n\n            // Get Spaces with subdomain\n            const getAllSpaces = async() => {\n              try {\n                const res = await axios.get(`spaces/subdomain/${subdomain}`)\n                dispatch({ \n                  type: GET_USERS_ALL_SPACES_SUCCESS,\n                  payload: res.data.spaces,\n                })\n              } catch (err) {\n                dispatch({ type: GET_USERS_ALL_SPACES_ERROR })\n              }\n            }\n            getAllSpaces();\n            \n            const getCalendarViews = async () => {\n              try {        \n                const res = await axios.get(`/calendarview/subdomain/${subdomain}`)\n                \n                dispatch({ \n                  type: GET_CALENDAR_CUSTOM_VIEW_SUCCESS,\n                  payload: res.data.calendarView ? res.data.calendarView : {},\n                })\n              } catch (err) {\n                dispatch({ type: GET_CALENDAR_CUSTOM_VIEW_ERROR })\n              }\n            }\n            getCalendarViews();\n            \n            const getBookingStatus = async () => {\n              try {\n                dispatch({ type: REQUEST_GET_BOOKING_BOOKINGSTATUS });\n        \n                const res = await axios.get(`/statuses/subdomain/${subdomain}`);\n        \n                dispatch({\n                  type: GET_BOOKING_BOOKINGSTATUS_SUCCESS,\n                  payload: res.data.statuses\n                });\n              } catch(err) {\n                dispatch({ type: GET_BOOKING_BOOKINGSATTUS_ERROR });\n              }        \n            }            \n            getBookingStatus();\n        \n            const getBookingColors = async () => {\n              dispatch({ type: REQUEST_GET_CUSTOM_BOOKING_COLOR })\n              try {\n                const res = await axios.get(`/bookingcolor/subdomain/${subdomain}`)\n                if (res.data.bookingColor) {\n                  dispatch({\n                    type: GET_CUSTOM_BOOKING_COLOR_SUCCESS,\n                    payload: JSON.parse(res.data.bookingColor.color)\n                  })\n                } else {\n                  dispatch({ type: GET_CUSTOM_BOOKING_COLOR_ERROR })  \n                }\n              } catch (err) {\n                dispatch({ type: GET_CUSTOM_BOOKING_COLOR_ERROR })\n              }      \n            }\n            getBookingColors();\n        \n          } else window.location.replace(CONFIG.BASE_URL);\n        } catch (err) {\n          window.location.replace(CONFIG.BASE_URL);\n        }\n      }\n      checkSubdomain();      \n    }\n\n    document.addEventListener('keydown', handleKeyDown, false);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown, false);\n      let calendarSettings = JSON.parse(localStorage.getItem('calendarsetting'))\n      calendarSettings.selectedDate = new Date(calendarSettings.selectedDate);\n      saveCalendarSettingAction( dispatch, calendarSettings )\n    };\n  \n  }, [])\n  \n  useEffect(() => {\n    if (state.customBookingColor.bookingColors && state.bookings.bookings) {      \n      setEvents(\n        state.bookings.bookings && state.bookings.bookings.map(b => bookingToEvents(b, state.customBookingColor.bookingColors)).flat()\n      )\n    }\n  }, [\n    state.bookings.bookings, \n    state.customBookingColor.bookingColors,\n  ])\n\n  useEffect(() => {\n    if (showCreateBookingModal || showEnterEmailModal || selectedBookingID !== null)\n      document.removeEventListener(\"keydown\", handleKeyDown, false);      \n    else\n      document.addEventListener('keydown', handleKeyDown, false);     \n  }, [showCreateBookingModal, showEnterEmailModal, selectedBookingID !== null])\n  \n  const handleClickSave = async (booking) => {\n    setShowCreateBookingModal(false);\n\n    if (booking === null) return;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    if (booking.id === -1) {\n      try {\n\n        dispatch({ type: REQUSET_ADD_BOOKING })\n        const filteredStatus = state.bookings.bookingStatus.filter(item => item.name === \"Enquiry\");\n\n        let resCustomer = {};\n        let customerId = booking.customerId;\n\n        if (booking.customerId === CUSTOMER_OPTION_CREATE_USER) {\n          resCustomer = await axios.post(\n            '/customers', \n            JSON.stringify({\n              name: booking.customerData.name.value,\n              phone: booking.customerData.phone.value,\n              address: booking.customerData.address.value,\n              email: booking.customerData.email.value,\n              note: booking.customerData.note.value,\n              vatNumber: booking.customerData.vatNumber.value,\n            }), \n            config\n          )\n          dispatch({\n            type: GET_ADD_CUSTOMER_SUCCESS,\n            payload: resCustomer.data.customer,\n          })\n          customerId = resCustomer.data.customer.id;\n        }\n\n        const res = await axios.post(\n          '/bookings',\n          {\n            eventName: booking.eventName,\n            venueId: booking.venueId,\n            spaceId: booking.spaceId,\n            customerId: customerId,\n            ownerId: booking.ownerId,\n            slots: JSON.stringify(booking.slots),\n            statusId: filteredStatus[0].id,\n          },\n          config\n        );\n\n        dispatch({\n          type: GET_ADD_BOOKING_SUCCESS,\n          payload: res.data.booking\n        })\n\n      } catch (err) {\n        dispatch({ type: GET_ADD_BOOKING_ERROR })\n      }\n    } else {\n      try {\n        dispatch({ type: REQUEST_UPDATE_BOOKING })\n\n        let resCustomer = {};\n        let customerId = booking.customerId;\n\n        if (booking.customerId === CUSTOMER_OPTION_CREATE_USER) {\n          resCustomer = await axios.post(\n            '/customers', \n            JSON.stringify({\n              name: booking.customerData.name.value,\n              phone: booking.customerData.phone.value,\n              address: booking.customerData.address.value,\n              email: booking.customerData.email.value,\n              note: booking.customerData.note.value,\n              vatNumber: booking.customerData.vatNumber.value,\n            }), \n            config\n          )\n          dispatch({\n            type: GET_ADD_CUSTOMER_SUCCESS,\n            payload: resCustomer.data.customer,\n          })\n          customerId = resCustomer.data.customer.id;\n        }\n\n        const res = await axios.put(\n          `/bookings/${booking.id}`,\n          {\n            eventName: booking.eventName,\n            venueId: booking.venueId,\n            spaceId: booking.spaceId,\n            customerId: customerId,\n            ownerId: booking.ownerId,\n            statusId: booking.statusId,\n            slots: JSON.stringify(booking.slots),\n          },\n          config\n        );\n\n        dispatch({\n          type: GET_UPDATE_BOOKING_SUCCESS,\n          payload: res.data.booking\n        })\n      } catch (err) {\n        dispatch({ type: GET_UPDATE_BOOKIG_ERROR});\n      }\n    }\n  }\n\n  const handleSelectSlot = ({ start, end }) => {\n    if (state.auth.token && state.auth.token.length > 0) {      \n      setShowCreateBookingModal(true);\n      setCreateBookingModalInfo({ startDate: start, endDate: end });\n    } else {\n      setCreateBookingModalInfo({ startDate: start, endDate: end });\n      setShowEnterEmailModal(true)\n    }   \n  };  \n\n  const onSelectEvent = event => {\n    dispatch({\n      type: CLEAR_BOOKING_DATA,\n      payload: \"\"\n    })\n    setSelectedBookingID(event.bookingID);\n  };\n\n  return (\n    <>\n      <SpinnerContainer \n        loading={ (events && events.length <= 0) && (state.bookings.loadBooking || state.bookings.loadBookingAction) ? \"true\" : \"false\"} \n      />\n      <Grid\n        fullheight\n        columns={`${!state.calendarSettings.viewExpand && constants.leftPanelWidth} 1fr`}\n        style={{ height: \"100%\" }}        \n      >\n        {!state.calendarSettings.viewExpand && (\n          <div style={{ overflow: \"scroll\" }}>\n            <TabbedBookingsList\n              onSelect={booking => setSelectedBookingID(booking.id)}\n            />\n          </div>\n        )}\n\n        <Modal\n          isOpen={selectedBookingID !== null}\n          onClose={() => setSelectedBookingID(null)}\n        >\n          <BookingDetail\n            booking={state.bookings.bookings && state.bookings.bookings.find(b => b.id === selectedBookingID)}\n          />\n        </Modal>\n        <Modal\n          isOpen={showCreateBookingModal}\n          onClose={() => setShowCreateBookingModal(false)}\n        >\n          <BookingDetailEdit\n            booking={createEmptyBooking()}\n            onEndEditing={booking => {\n              if (booking) {\n                handleClickSave(booking)\n                // dispatch({ type: \"upsert_booking\", booking: booking });\n              }\n              setShowCreateBookingModal(false);\n            }}\n            {...createBookingModalInfo}\n          />\n        </Modal>\n        {\n          showEnterEmailModal && (\n            <Modal\n              isOpen={showEnterEmailModal}\n              onClose={() => {\n                setShowEnterEmailModal(false)\n                setCreateBookingModalInfo(null)\n              }}\n            >\n              <BookingEmailLogin \n                startDate={createBookingModalInfo.startDate}\n                endDate={createBookingModalInfo.endDate}\n              />\n            </Modal>\n          )\n        }        \n        <Calendar\n          selectable\n          events={events}\n          onSelectEvent={onSelectEvent}\n          onSelectSlot={handleSelectSlot}       \n        />\n      </Grid>\n    </>\n  );\n};\n\nexport default withRouter(CalendarPage);\n","import axios from 'axios';\nimport React, { useEffect, useContext } from 'react';\nimport { AppReducerContext } from '../contexts/AppReducerContext';\nimport CONFIG from './../config';\nimport { STRIPE_CONNECTION_SUCCESS } from '../reducers/actionType';\n\nconst CreateStripeAccount = (props) => {\n\n    const { dispatch } = useContext(AppReducerContext);\n\n    useEffect(() => {\n        let locQueryObj = props.location.search;\n        let code = locQueryObj.substring(6);\n        if (code) {\n            let req = {\n                stripe_auth_code: code,\n            }\n            axios.post(\n                '/bookings/setStripeAccountInfo', req\n            ).then(function (res) {\n                console.log(res);\n                dispatch({\n                    type: STRIPE_CONNECTION_SUCCESS,\n                    payload: 1,\n                })\n                window.location.href = CONFIG.STRIPE_CONNECT_CALLBACK_URL;\n            });\n        }\n    }, [])\n\n    return (\n        <div className=\"job-search-card under-construction\">\n            <div className=\"text-center\"></div>\n        </div>\n    )\n}\n\nexport default CreateStripeAccount;\n\n","import styled from \"styled-components\";\nimport colors from \"../style/colors\";\n\nconst H1 = styled.h1`\n  font-size: 3.4em;\n  text-align: ${props => (props.center ? \"center\" : \"left\")};\n  color: ${props => (props.color ? colors[props.color] : colors.white)};\n  margin: 0.2em 0 0.3em;\n  font-weight: 700;\n  line-height: 1.3;\n  text-decoration: none;\n  a {\n    text-decoration: none;\n  }\n  @media (max-width: 640px) {\n    font-size: 2.6em;\n  }\n`;\n\nexport default H1;\n","import moment from \"moment\"\nimport { updatedDate } from './dates'\n\nimport {\n  LAST_7_DAYS, LAST_30_DAYS, NEXT_7_DAYS, NEXT_30_DAYS\n} from '../constants'\n\nconst getPanelDateRange = dateRange => {\n  const current = moment()\n  const arrDate = []  \n  if (dateRange === LAST_7_DAYS) {\n    let n = 8\n    while (n>0) {\n      arrDate.push(current.format('ddd D'))\n      current.subtract(1, 'day')\n      n--\n    }\n    arrDate.reverse();\n  } else if (dateRange === LAST_30_DAYS) {\n    let n = 31\n    while (n>0) {\n      arrDate.push(current.format('ddd D'))\n      current.subtract(1, 'day')\n      n--\n    }\n    arrDate.reverse();\n  } else if (dateRange === NEXT_7_DAYS) {    \n    let n = 0;\n    while (n<8) {\n      arrDate.push(current.format('ddd D'))\n      current.add(1, 'day')\n      n++\n    }\n  } else if (dateRange === NEXT_30_DAYS) {\n    let n=0;\n    while (n<31) {\n      arrDate.push(current.format('ddd D'))\n      current.add(1, 'day')\n      n++\n    }\n  }\n  return arrDate;  \n}\n\nconst getBookingWithDateRange = (bookings, period) => { \n  debugger;   \n  let filteredOne = []\n  let maxBooking = {id: -1, name: \"\", count: 0}\n  const current = new moment();\n\n  let startDate, endDate;\n  if (period === LAST_7_DAYS) {\n    endDate = current.endOf('day').valueOf()\n    startDate = current.subtract(8, 'day').startOf('day').valueOf()            \n  } else if (period === LAST_30_DAYS) {\n    endDate = current.endOf('day').valueOf()\n    startDate = current.subtract(31, 'day').startOf('day').valueOf()            \n  } else if (period === NEXT_7_DAYS ) {\n    startDate = current.startOf('day').valueOf()\n    endDate = current.add(8, 'day').endOf('day').valueOf()\n  } else if (period === NEXT_30_DAYS) {\n    startDate = current.startOf('day').valueOf()\n    endDate = current.add(31, 'day').endOf('day').valueOf()\n  }    \n\n  bookings.map(item => {\n    let maxCountOne = 0;\n    if (item.slots && item.slots.length > 0) {\n      item.slots.map(slot => {\n        if (slot.kind === 'single-day') {\n          if (\n            startDate <= updatedDate(slot.date, slot.startHour, slot.startMinute).valueOf() &&\n            updatedDate(slot.date, slot.endHour, slot.endMinute).valueOf() <= endDate\n          ) {\n            maxCountOne ++\n            filteredOne.push({\n              startDate: updatedDate(slot.date, slot.startHour, slot.startMinute).valueOf(),\n              endDate: updatedDate(slot.date, slot.endHour, slot.endMinute).valueOf()\n            })\n          }\n        } else if (slot.kind === 'multi-day') {\n          if (\n            startDate <= updatedDate(slot.dateRange[0], slot.startHour, slot.startMinute).valueOf() && \n            updatedDate(slot.dateRange[1], slot.endHour, slot.endMinute).valueOf() <= endDate\n          ) \n          {              \n            maxCountOne ++\n            filteredOne.push({\n              startDate: updatedDate(slot.dateRange[0], slot.startHour, slot.startMinute).valueOf(),\n              endDate: updatedDate(slot.dateRange[1], slot.endHour, slot.endMinute).valueOf()\n            })\n          }            \n        }\n      })\n    }\n\n    if (maxBooking.count < maxCountOne) {\n      maxBooking.count  = maxCountOne\n      maxBooking.id     = item.id\n      maxBooking.name   = item.eventName\n    }\n  })\n\n  let startTempDate = startDate\n  let bookingArray = {};\n  while(startTempDate <=  endDate) { \n    bookingArray[startTempDate] = 0\n    startTempDate = moment(startTempDate).add(1, 'day').startOf().valueOf()      \n  }\n\n  filteredOne.forEach(item => {\n    let bookingStartDate  = moment(item.startDate).startOf('day')\n    let bookingEndDate    = moment(item.endDate).startOf('day')\n\n    while(bookingStartDate.valueOf() <= bookingEndDate.valueOf()) {\n      bookingArray[bookingStartDate.valueOf()] += 1;\n      bookingStartDate.add(1, 'day');\n    }\n  })\n\n  return bookingArray  \n}\n\nexport { \n  getPanelDateRange,\n  getBookingWithDateRange,\n}","import React ,{ useEffect, useState, useRef, useContext } from 'react'\nimport ReactDOM from \"react-dom\";\nimport styled from \"styled-components\"\n\nimport colors from \"../../../style/colors\"\n\nimport P2 from '../../../typography/P2'\nimport { TablePicker } from '../../../tables/tables'\nimport Button from '../../../buttons/Button'\n\nimport { AppReducerContext } from '../../../../contexts/AppReducerContext'\n\nimport { \n  DASHBOARD_RECENT_BOOKINGS_PANEL,\n  DASHBOARD_UPCOMING_BOOKING_PANEL,\n} from '../../../../constants'\n\nimport {\n  SET_RECENT_BOOKINGS_PERIOD,\n  SET_UPCOMING_BOOKINGS_PERIOD,\n} from '../../../../reducers/actionType'\n\nconst Container = styled.div`\n  position: relative;\n  height: 28px;\n`\n\nconst WrapperButton = styled.div`\n  width: 38px;\n  height: 28px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 3px;\n  margin-top: 4px;\n\n  &:hover {\n    background-color: ${colors.light_grey}\n  }\n\n  svg {\n    width: 19px;\n  }\n`\n\nconst ViewDropDown = styled.div`\n  position: absolute;\n  width: 290px;\n  right: 0;\n  top: calc(100% + 14px);\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n  background-color: white;\n  box-shadow: 0 5px 15px 5px rgba(164, 173, 186, 0.2);\n  border-radius: 3px;\n  border-color: #f7f7f8;\n`\n\nconst ViewDropDownArrow = styled.span`\n  &:before {\n    display: block;\n    content: '';\n    border: 1px solid #eef0f2 ;\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    transform: rotate(45deg);\n    background-color: white;\n    box-shadow: 0px 1.5px 1px rgba(0,0,0,0.05);\n    right: 13.5px;\n    top: calc(100% + 8px);\n  }\n`\n\nconst PanelDateSelector = ({\n  panelKind,\n  timePeriodOptions,\n  selectedDate,\n}) => {\n\n  const { state, dispatch } = useContext(AppReducerContext)\n\n  const [openDropDown, setOpenDropDown] = useState(false)\n  const [timePeriod, setTimePeriod] = useState(selectedDate)\n\n  useEffect(() => {\n    setTimePeriod(selectedDate)\n  }, [selectedDate])\n\n  const refOne = useRef(null);\n\n  useEffect(() => {\n    const handleDocumentClick = event => {\n      if (refOne.current) {\n        if (!ReactDOM.findDOMNode(refOne.current).contains(event.target)) {\n          if (openDropDown) {\n            setOpenDropDown(false)\n            setTimePeriod(selectedDate)\n          }\n        }\n      }\n    };\n\n    document.addEventListener(\"click\", handleDocumentClick, false);\n\n    return () => {\n      document.removeEventListener(\"click\", handleDocumentClick, false);\n    };\n\n  }, [refOne, openDropDown]);\n\n  const handleChangeTime = selectedOne => {\n    setTimePeriod(selectedOne)\n  }\n\n  const applyChanges = () => {\n    setOpenDropDown(false)\n    setTimeout(() => {\n      if (panelKind === DASHBOARD_RECENT_BOOKINGS_PANEL) {\n        dispatch({ type: SET_RECENT_BOOKINGS_PERIOD, payload: timePeriod })\n      } else if (panelKind === DASHBOARD_UPCOMING_BOOKING_PANEL) {\n        dispatch({ type: SET_UPCOMING_BOOKINGS_PERIOD, payload: timePeriod })\n      }\n    }, 1)    \n  }\n  \n  return (\n    <Container ref={refOne}>\n      <WrapperButton onClick={() => setOpenDropDown(!openDropDown)}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22 6\">\n          <circle cx=\"3\" cy=\"3\" r=\"3\" fill={colors.dark}></circle>\n          <circle cx=\"11\" cy=\"3\" r=\"3\" fill={colors.dark}></circle>\n          <circle cx=\"19\" cy=\"3\" r=\"3\" fill={colors.dark}></circle>\n        </svg>\n      </WrapperButton>\n      {\n        openDropDown && (\n          <React.Fragment>\n            <ViewDropDownArrow />\n            <ViewDropDown>        \n              {timePeriod}\n              <TablePicker \n                label=\"Time Period\"\n                options={timePeriodOptions}\n                selectedOption={timePeriod}\n                onOptionSelected={selectedOne => handleChangeTime(selectedOne)}\n                style={{width: '100%'}}\n              />\n              <div style={{display: 'flex', justifyContent: 'space-between', marginTop: '1em'}}>\n                <Button \n                  outline style={{width: '124px'}}\n                  onClick={() => setOpenDropDown(false)}\n                >\n                  Cancel\n                </Button>\n                <Button primary style={{width: '124px'}} onClick={applyChanges}>\n                  Apply Changes\n                </Button>\n              </div>\n            </ViewDropDown>\n          </React.Fragment>\n        )\n      }      \n    </Container>\n  )\n}\n\nexport default PanelDateSelector","import React from 'react'\nimport styled from \"styled-components\"\n\nimport colors from \"../../../style/colors\"\n\nimport H3 from \"../../../typography/H3\"\nimport P2 from \"../../../typography/P2\"\n\nimport PanelDateSelector from './panelDateSelector'\n\nconst Container = styled.div`\n  display: flex;  \n  width: 100%;\n  justify-content: space-between;\n`\n\nconst TitleDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst TopBanner = ({\n  title,\n  selectedDate,\n  timePeriods,\n}) => {  \n  return (\n    <Container>\n      <TitleDiv>\n        <H3 style={{marginBottom: '0'}}>{title}</H3>\n        <P2 style={{color: `${colors.grey}`, marginTop: '0', marginBottom: '0'}}>{selectedDate}</P2>\n      </TitleDiv>\n      <PanelDateSelector \n        panelKind={title}\n        timePeriodOptions={timePeriods} \n        selectedDate={selectedDate}\n      />\n    </Container>\n  )\n}\n\nexport default TopBanner","import React ,{ useEffect, useState, useContext } from 'react'\nimport styled from \"styled-components\"\nimport { Line } from 'react-chartjs-2'\n\nimport {\n  getPanelDateRange,\n  getBookingWithDateRange,\n} from '../../../../utils/dashboard'\n\nimport H1 from '../../../typography/H1'\nimport colors from \"../../../style/colors\"\n\nimport { AppReducerContext } from '../../../../contexts/AppReducerContext'\n\nimport TopBanner from './topBanner'\n\nimport {\n  DASHBOARD_RECENT_BOOKINGS_PANEL, LAST_7_DAYS, LAST_30_DAYS\n} from '../../../../constants'\n\nconst PanelDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 1em;\n  background-color: white;\n  box-shadow: 0 5px 15px 5px rgba(164, 173, 186, 0.25);\n  border-radius: 3px;\n`\nconst TotalValue = styled(H1)`\n  color: ${colors.dark};\n  font-size: 3em;\n  font-weight: 500;\n`\n\nconst RecentBookingPanel = () => {\n\n  const { state, dispatch } = useContext(AppReducerContext);  \n\n  const [recentBookings, setRecentBookings] = useState({\n    labels: [\n      ...getPanelDateRange(state.dashboard.recentBookingsPeriod)\n    ],\n    datasets: [\n      {\n        label: 'Bookings',\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: 'rgba(75,192,192,0.4)',\n        borderColor: 'rgba(75,192,192,1)',\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: 'rgba(75,192,192,1)',\n        pointBackgroundColor: 'rgba(75,192,192,1)',\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: 'rgba(255,255,255,255)',\n        pointHoverBorderColor: 'rgba(75,192,192,1)',\n        pointHoverBorderWidth: 2,\n        pointRadius: 4,\n        pointHitRadius: 10,\n        data: [0, 0, 0, 0, 0, 0, 0, 0]  \n      },\n    ],\n  })\n\n  useEffect(() => {\n    const bookingArray = getBookingWithDateRange(\n      state.bookings.bookings, \n      state.dashboard.recentBookingsPeriod, \n    )\n\n    setRecentBookings({\n      ...recentBookings,\n      labels: [\n        ...getPanelDateRange(state.dashboard.recentBookingsPeriod)\n      ],\n      datasets: [\n        {\n          ...recentBookings.datasets[0],\n          data: [...Object.keys(bookingArray).map(item => {\n            return bookingArray[item]\n          })]\n        }\n      ]\n    })\n\n  }, [\n    state.dashboard.recentBookingsPeriod, \n    state.bookings.bookings\n  ])\n\n  return (\n    <PanelDiv>\n      <TopBanner \n        title={DASHBOARD_RECENT_BOOKINGS_PANEL} \n        selectedDate={state.dashboard.recentBookingsPeriod} \n        timePeriods={[LAST_7_DAYS, LAST_30_DAYS]}\n      />\n      <TotalValue>\n        {recentBookings.datasets[0].data.reduce((partial_sum, a) => partial_sum + a, 0)} booked\n      </TotalValue>\n      <Line\n        data={recentBookings} \n        options={{\n          legend: {\n            position: \"bottom\",\n            display: false,\n          },\n          scales: {\n            yAxes: [\n              {\n                ticks: {\n                  min: 0,\n                  callback: function(value, index, values) {\n                      if (Math.floor(value) === value) {\n                          return value;\n                      }\n                  }  \n                }\n              }\n            ]\n          }      \n        }}\n      />\n    </PanelDiv>\n  )\n}\n\nexport default RecentBookingPanel","import React ,{ useEffect, useState, useContext } from 'react'\nimport styled from \"styled-components\"\nimport { Bar } from 'react-chartjs-2'\n\nimport {\n  getPanelDateRange,\n  getBookingWithDateRange,\n} from '../../../../utils/dashboard'\n\nimport H1 from '../../../typography/H1'\nimport colors from \"../../../style/colors\"\n\nimport { AppReducerContext } from '../../../../contexts/AppReducerContext'\n\nimport TopBanner from './topBanner'\n\nimport {\n  DASHBOARD_UPCOMING_BOOKING_PANEL, NEXT_7_DAYS, NEXT_30_DAYS\n} from '../../../../constants'\n\nconst PanelDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 1em;\n  background-color: white;\n  box-shadow: 0 5px 15px 5px rgba(164, 173, 186, 0.25);\n  border-radius: 3px;\n`\nconst TotalValue = styled(H1)`\n  color: ${colors.dark};\n  font-size: 3em;\n  font-weight: 500;\n`\n\nconst UpcomingBookingPanel = () => {\n\n  const { state, dispatch } = useContext(AppReducerContext);  \n\n  const [upcomingBookings, setUpcomingBookings] = useState({\n    labels: [...getPanelDateRange(state.dashboard.upcomingBookingsPeriod)],\n    datasets: [\n      {\n        label: 'Bookings',\n        backgroundColor: 'rgba(43, 114, 189, 0.6)',\n        borderColor: 'rgb(43, 114, 189)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(43, 114, 189,0.8)',\n        hoverBorderColor: 'rgb(43, 114, 189);',\n        data: [0, 0, 0, 0, 0, 0, 0, 0]\n      }\n    ]  \n  })\n\n  useEffect(() => {\n    const bookingArray = getBookingWithDateRange(\n      state.bookings.bookings, \n      state.dashboard.upcomingBookingPeriod, \n    )\n\n    setUpcomingBookings({\n      ...upcomingBookings,\n      labels: [\n        ...getPanelDateRange(state.dashboard.upcomingBookingPeriod)\n      ],\n      datasets: [\n        {\n          ...upcomingBookings.datasets[0],\n          data: [...Object.keys(bookingArray).map(item => {\n            return bookingArray[item]\n          })]\n        }\n      ]\n    })\n\n  }, [\n    state.dashboard.upcomingBookingPeriod, \n    state.bookings.bookings\n  ])\n\n  return (\n    <PanelDiv>\n      <TopBanner \n        title={DASHBOARD_UPCOMING_BOOKING_PANEL} \n        selectedDate={state.dashboard.upcomingBookingPeriod} \n        timePeriods={[NEXT_7_DAYS, NEXT_30_DAYS]}\n      />\n      <TotalValue>\n        {upcomingBookings.datasets[0].data.reduce((partial_sum, a) => partial_sum + a, 0)} booked\n      </TotalValue>\n      <Bar\n        data={upcomingBookings} \n        options={{\n          legend: {\n            position: \"bottom\",\n            display: false,\n          },\n          scales: {\n            yAxes: [\n              {\n                ticks: {\n                  min: 0,\n                  callback: function(value, index, values) {\n                      if (Math.floor(value) === value) {\n                          return value;\n                      }\n                  }  \n                }\n              }\n            ]\n          }      \n        }}\n      />\n    </PanelDiv>\n  )\n}\n\nexport default UpcomingBookingPanel","import React ,{ useEffect, useState, useContext } from 'react'\nimport styled from 'styled-components'\nimport moment from 'moment'\n\nimport colors from '../../../style/colors'\nimport H3 from '../../../typography/H3'\nimport P2 from '../../../typography/P2'\n\nimport { AppReducerContext } from '../../../../contexts/AppReducerContext'\nimport { updatedDate } from '../../../../utils/dates'\n\nconst PanelDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 1em;\n  background-color: white;\n  box-shadow: 0 5px 15px 5px rgba(164, 173, 186, 0.25);\n  border-radius: 3px;\n  margin-bottom: 2em;\n`\n\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n  border-bottom: 1px solid #E6E8E9;\n`\n\nconst NameColumn = styled(P2)`\n  width: 30%;\n  margin-top: 0.6em;\n`\nconst ValueColmun = styled(P2)`\n  width: 35%;\n  text-align: right;\n  margin-top: 0.6em;\n`\n\nconst TopVenueTable = ({\n  data\n}) => {\n\n  const { state, dispatch } = useContext(AppReducerContext);  \n  const [topVenueData, setTopVenueData] = useState({title: \"\", spaces: []});\n\n  useEffect(() => {\n    setTopVenuFunc(state.bookings.bookings)\n  }, [\n    state.bookings.bookings\n  ])\n\n  const checkBookingInDateRange = (booking, startDate, endDate) => {\n    let isInclude = false;\n    booking.slots.forEach(itemOne => {\n      if (isInclude) return\n      if (itemOne.kind === 'single-day') {\n        if (startDate <= moment(itemOne.date).valueOf() && moment(itemOne.date).valueOf() <= endDate) {                \n          isInclude = true            \n          return\n        }\n      } else if(itemOne.kind === 'multi-day') {\n        if (\n          startDate <= updatedDate(itemOne.dateRange[0], itemOne.startHour, itemOne.startMinute).valueOf() && \n          updatedDate(itemOne.dateRange[1], itemOne.endHour, itemOne.endMinute).valueOf() <= endDate\n        ) {                \n          isInclude = true            \n          return\n        }\n      }\n    })\n    return isInclude;\n  }\n  \n  const setTopVenuFunc = bookings => {    \n    const endDay = moment().endOf('day').valueOf()\n    const startDay = moment().subtract(1, 'months').startOf('month').startOf('day').valueOf()\n\n    const filteredOne = [];\n    bookings.forEach(item => {      \n      let isInclude = false;\n      item.slots.forEach(itemOne => {\n        if (isInclude) return\n        if (itemOne.kind === 'single-day') {\n          if (\n            startDay <= updatedDate(itemOne.date, itemOne.startHour, itemOne.startMinute).valueOf() && \n            updatedDate(itemOne.date, itemOne.endHour, itemOne.endMinute).valueOf() <= endDay\n          ) {\n            filteredOne.push(item)\n            isInclude = true            \n            return\n          }\n        } else if(itemOne.kind === 'multi-day') {\n          if (\n            startDay <= updatedDate(itemOne.dateRange[0], itemOne.startHour, itemOne.startMinute).valueOf() &&\n            updatedDate(itemOne.dateRange[1], itemOne.endHour, itemOne.endMinute).valueOf() <= endDay\n          ) {\n            filteredOne.push(item)\n            isInclude = true            \n            return\n          }\n        }\n      })\n    })\n    \n    let sameVenues = [];    \n    filteredOne.forEach((item, nIndex) => {\n      if (item.venue && item.venue.id) {\n        const filterOne = sameVenues.filter(itemOne => itemOne.id === item.venue.id)\n        if (filterOne.length > 0)        \n          sameVenues = [\n            ...sameVenues.map(itemTwo => {\n              if (itemTwo.id === item.venue.id)\n                return {...itemTwo, count: itemTwo.count + 1, venue: item.venue}\n              else return itemTwo\n            })\n          ]\n        else \n          sameVenues.push({id: item.venue.id, count: 1, venue: item.venue})\n      }\n    })\n\n    let topValue = 0;\n    sameVenues.forEach(item => {\n      if (item.count > topValue)\n      topValue = item.count;\n    })\n    \n    let topVenue = sameVenues.filter(item => item.count === topValue)[0]\n    \n    let spaceNames = []\n    filteredOne.forEach(item => {\n      if (item.venue && item.venue.id && topVenue && item.venue.id === topVenue.id) {\n        if (item.space && item.space.id)\n          spaceNames.push(item.space.id)\n      }\n    })\n\n    spaceNames = spaceNames.filter(function(item, pos) {\n      return spaceNames.indexOf(item) == pos;\n    })\n\n    let spaces = [];\n    spaceNames.forEach(item => {\n      const startOfLastMonth  = startDay\n      const endOfLastMonth    = moment(startDay).endOf('month').valueOf()\n      const startOfThisMonth  = moment(endDay).startOf('month').valueOf()\n      const endOfThisMonth    = endDay      \n            \n      const lastMonths = filteredOne.filter(itemBooking => {\n        if (itemBooking.space.id === item) {\n          return checkBookingInDateRange(itemBooking, startOfLastMonth, endOfLastMonth)\n        } return false\n      })\n      \n      const thisMonths = filteredOne.filter(itemBooking => {\n        if (itemBooking.space.id === item) {\n          return checkBookingInDateRange(itemBooking, startOfThisMonth, endOfThisMonth)\n        } else return false\n      })\n\n      const selectedSpace = filteredOne.filter(itemTwo => itemTwo.spaceId === item)[0]\n      spaces.push({ \n        name: selectedSpace.space.name, \n        lastMonth: lastMonths.length,\n        thisMonth: thisMonths.length,\n      })\n\n    })\n\n    setTopVenueData({\n      title: (topVenue && topVenue.venue && topVenue.venue.name) ? topVenue.venue.name : \"\",\n      spaces,\n    })\n  }\n  \n  return (\n    <PanelDiv>\n      <H3>Top Venue : {topVenueData.title}</H3>\n      <Row>\n        <NameColumn style={{color: `${colors.grey}`}}>Space</NameColumn>\n        <ValueColmun style={{color: `${colors.grey}`}}>This month</ValueColmun>\n        <ValueColmun style={{color: `${colors.grey}`}}>Last month</ValueColmun>\n      </Row>\n      {topVenueData.spaces.map((item, nIndex) => {\n        return (\n          <Row key={nIndex}>\n            <NameColumn>{item.name}</NameColumn>\n            <ValueColmun>{item.lastMonth}</ValueColmun>\n            <ValueColmun>{item.thisMonth}</ValueColmun>\n          </Row>\n        )\n      })}      \n    </PanelDiv>\n  )\n}\n\nexport default TopVenueTable","import React from 'react'\nimport styled from 'styled-components'\n\nimport colors from '../../../style/colors'\nimport H3 from '../../../typography/H3'\nimport P2 from '../../../typography/P2'\n\nconst PanelDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 1em;\n  background-color: white;\n  box-shadow: 0 5px 15px 5px rgba(164, 173, 186, 0.25);\n  border-radius: 3px;\n  margin-bottom: 2em;\n`\n\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n  border-bottom: 1px solid #E6E8E9;\n`\n\nconst NameColumn = styled(P2)`\n  width: 30%;\n  margin-top: 0.6em;\n`\nconst ValueColmun = styled(P2)`\n  width: 35%;\n  text-align: right;\n  margin-top: 0.6em;\n`\n\nconst TopStaffTable = () => {\n  return (\n    <PanelDiv>\n      <H3>Top Staff</H3>\n      <Row>\n        <NameColumn style={{color: `${colors.grey}`}}>Staff</NameColumn>\n        <ValueColmun style={{color: `${colors.grey}`}}>This month</ValueColmun>\n        <ValueColmun style={{color: `${colors.grey}`}}>Last month</ValueColmun>\n      </Row>\n      <Row>\n        <NameColumn>Steven Stward</NameColumn>\n        <ValueColmun>$20</ValueColmun>\n        <ValueColmun>$20</ValueColmun>\n      </Row>\n      <Row>\n        <NameColumn>Space2</NameColumn>\n        <ValueColmun>$20</ValueColmun>\n        <ValueColmun>$20</ValueColmun>\n      </Row>\n    </PanelDiv>\n  )\n}\n\nexport default TopStaffTable","import React ,{ useEffect, useState, useContext } from 'react'\nimport styled from \"styled-components\"\n\nimport axios from 'axios'\nimport moment from 'moment'\n\nimport { AppReducerContext } from '../contexts/AppReducerContext'\n\nimport { updatedDate } from \"../utils/dates\";\n\nimport colors from \"../components/style/colors\"\nimport Grid from '../components/layout/Grid'\nimport H1 from '../components/typography/H1'\nimport H3 from '../components/typography/H3'\nimport P2 from '../components/typography/P2'\n\nimport RecentBookingPanel from '../components/features/dashboard/panel/recentBookingPanel'\nimport UpcomingBookingPanel from '../components/features/dashboard/panel/upcomingBookingPanel'\nimport TopVenueTable from '../components/features/dashboard/panel/topVenueTable'\nimport TopStaffTable from '../components/features/dashboard/panel/topStaffTable'\n\nimport { \n  REQUEST_GET_BOOKINGS, \n  GET_BOOKINGS_SUCCESS, \n  GET_BOOKINGS_ERROR,\n  SET_RECENT_BOOKINGS_PERIOD,\n  SET_UPCOMING_BOOKINGS_PERIOD,\n  REQUEST_GET_COMPANYINFO,\n  GET_COMPANYINFO_SUCCESS,\n  GET_COMPANYINFO_ERROR,\n} from '../reducers/actionType'\n\nimport {\n  DASHBOARD_RECENT_BOOKINGS_PANEL,\n  DASHBOARD_UPCOMING_BOOKING_PANEL,\n  LAST_7_DAYS,\n  LAST_30_DAYS,\n  NEXT_7_DAYS,\n  NEXT_30_DAYS,\n} from '../constants'\n\nimport currencies from '../models/currencies'\n\nconst TotalValue = styled(H1)`\n  color: ${colors.dark};\n  font-size: 3em;\n  font-weight: 500;\n`\n\nconst ValueDiv = styled.div`\n  width: 100%;\n  display: flex;\n`\n\nconst TitleP = styled(P2)`\n  margin-right: 2em;\n  margin-bottom: 0;\n  color: ${colors.grey};\n`\nconst ValueP = styled(P2)`\n  color: ${colors.dark};\n  margin-top: 0;\n  margin-bottom: 0;  \n`\n\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n  border-bottom: 1px solid gray;  \n`\n\nconst DashboardPage = () => {\n\n  const { state, dispatch } = useContext(AppReducerContext);\n  const [topRecentBooking, setTopRecentBooking] = useState({ id: -1, name: \"\", count: 0})\n\n  useEffect(() => {\n    const getBookings = async () => {\n      try {\n        dispatch({ type: REQUEST_GET_BOOKINGS });\n\n        const res = await axios.get('/bookings');\n        dispatch({\n          type: GET_BOOKINGS_SUCCESS,\n          payload: res.data.bookings\n        })\n      } catch (err) {\n        dispatch({ type: GET_BOOKINGS_ERROR });\n      }\n    }\n    getBookings();\n  },[])\n\n\n\n  return (\n    <Grid columns=\"1fr 1fr\" style={{ width: '100%'}}>      \n      <RecentBookingPanel />\n      <UpcomingBookingPanel />      \n      {/* <TopVenueTable />\n      <TopStaffTable /> */}\n    </Grid>\n  )\n}\n\nexport default DashboardPage","import React from 'react';\nimport { Switch } from 'react-router-dom';\nimport PrivateRoute from './PrivateRoute';\n\nimport BookingsPage         from \"../pages/BookingsPage\";\nimport CustomersPage        from \"../pages/CustomersPage\";\nimport SettingsPage         from \"../pages/SettingsPage\";\nimport InvoicesPage         from \"../pages/InvoicesPage\";\nimport CalendarPage         from \"../pages/CalendarPage\";\nimport CreateStripeAccount  from \"../pages/CreateStripeAccount\";\nimport DashboardPage        from \"../pages/DashboardPage\"\n\nconst Routes = () => {\n\n  return (\n    <Switch>\n      <PrivateRoute path=\"/calendar\" exact component={CalendarPage} />\n      <PrivateRoute path=\"/bookings\" exact component={BookingsPage} />\n      <PrivateRoute path=\"/customers\" exact component={CustomersPage} />\n      <PrivateRoute path=\"/invoices\" exact component={InvoicesPage} />\n      <PrivateRoute path=\"/settings\" exact component={SettingsPage} />\n      <PrivateRoute path=\"/create-stripe-account\" exact component={CreateStripeAccount} />\n      <PrivateRoute path=\"/dashboard\" exact component={DashboardPage} />\n    </Switch>\n  );\n};\n\nexport default Routes;\n","import React, { useContext, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport {loadUserflow} from 'userflow.js'\nimport axios from 'axios';\nimport jsonwebtoken from 'jsonwebtoken';\nimport SpinnerContainer from '../components/layout/Spinner';\nimport styled from \"styled-components\";\nimport \"../css/validate.css\";\nimport CONFIG from \"../config\";\nimport { CALENDAR_REDIRECT_VALUE } from \"../constants\"\n\nimport {\n  AppReducerContext,\n} from \"../contexts/AppReducerContext\";\n\nconst LoginPage = props => {\n\n  const Container = styled.div`\n    width: 100%;\n    height: 100%;\n    min-height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  `;\n  \n  const { dispatch } = useContext(AppReducerContext);\n\n  useEffect(() => {\n    const indexStr = '?access_token=';\n    const href = window.location.href;\n    const nIndex = href.indexOf(indexStr);\n    if( nIndex >= 0) {\n      let accessToken = '';\n      let calendarInfo = '';\n\n      if (window.location.href.indexOf('start=') > 0) {\n        accessToken = href.substring(nIndex + indexStr.length, href.length)\n        calendarInfo = href.substring(\n          window.location.href.indexOf('start='), \n          window.location.href.indexOf(indexStr)\n        )\n      } else\n        accessToken = href.substring(nIndex + indexStr.length, href.length);\n\n      if(accessToken.length > 0) {\n\n        const decoded = jsonwebtoken.decode(accessToken);\n\n        const values = {\n          outseta_id: decoded.nameid,\n          email: decoded.unique_name,\n          firstName: decoded.family_name,\n          lastName: decoded.given_name,\n        };\n\n        const loginOutSeta = async () => {\n          const config = {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          };\n          \n          try {\n            const res = await axios.post(\n              '/auth/login',\n              JSON.stringify(values),\n              config\n            );\n            \n            if (res.data.success) {\n              dispatch({\n                type: 'get_login_success',\n                payload: {...res.data},\n              })\n            }\n\n            if (res.data.user.is_new) {\n              const userflow = await loadUserflow()\n              userflow.init('ytb6m37wn5drnj2zkxptyvke6i')\n              userflow.identify(res.data.user.id, {\n                name: `${res.data.user.firstName} ${res.data.user.lastName}`,\n                email: res.data.user.email,\n                signedUpAt: res.data.user.createdAt,\n              })\n              userflow.startFlow('d496295e-ae0c-4c03-83c8-9794fcac74ed')\n            }else {\n              if (calendarInfo.length > 0)\n                props.history.push('/calendar?' + calendarInfo)\n              else props.history.push('/calendar')\n            }\n\n          } catch (err) {\n            dispatch({\n              type: 'get_login_error',\n              payload: {...values},\n            })\n            window.location.replace(CONFIG.BASE_URL);\n          }\n        }\n\n        loginOutSeta();\n      }else {\n        window.location.replace(CONFIG.BASE_URL);\n      }\n    } else {\n      window.location.replace(CONFIG.BASE_URL);\n    }\n\n  }, [])  \n\n  return (\n    <Container>\n      <SpinnerContainer loading={\"true\"} />\n    </Container>\n  )\n}\n\nexport default withRouter(LoginPage);\n","import React, { Fragment } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport PrivateRoutesTree from './PrivateRoutesTree';\nimport LoginPage from '../pages/LoginPage';\n\nconst Routes = () => {\n  return (\n    <Fragment>\n      <Switch>\n        <Route exact path='/login' component={LoginPage} />\n        <Route component={PrivateRoutesTree} />\n      </Switch>\n    </Fragment>\n  );\n};\n\nexport default Routes;\n","const LayoutBlock = `\n  position: relative;\n  // z-index: 1;\n  > div {\n    width: 78em;\n    max-width: 100%;\n    margin: 0 auto;\n    padding: 1em 1.4em;\n  }\n  > div > img {\n    max-width: 100%;\n  }\n`;\n\nexport default LayoutBlock;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChartArea } from '@fortawesome/free-solid-svg-icons'\n\nimport colors from \"../style/colors\";\nimport LayoutBlock from \"../layout/LayoutBlock\";\nimport P1 from \"../typography/P1\";\nimport SideCollapseRightSvg from \"../../images/Glyphs/calendarExpand.svg\";\nimport SideCollapseLeftSvg from \"../../images/Glyphs/calendarCollapse.svg\";\n\nimport CalendarSvg  from \"../../images/sidebar/calendar.svg\";\nimport BookingsSvg  from \"../../images/sidebar/bookings.svg\";\nimport InvoicesSvg  from \"../../images/sidebar/invoices.svg\";\nimport CustomersSvg from \"../../images/sidebar/customers.svg\";\nimport SettingsSvg  from \"../../images/sidebar/settings.svg\";\nimport LogOutSvg    from \"../../images/sidebar/logout.svg\";\nimport LogInSvg     from \"../../images/sidebar/login.svg\";\nimport RegisterSvg  from \"../../images/sidebar/register.svg\";\n\nimport constants from \"./constants\";\nimport CONFIG from \"../../config\";\n\nimport setAuthToken from \"../../utils/setAuthToken\";\nimport { AppReducerContext } from \"../../contexts/AppReducerContext\";\n\nconst Container = styled.div`\n  ${LayoutBlock};\n  position: sticky;\n  float: left;\n  top: 0;\n  width: ${props => props.collapsed ? constants.collapseSidebarWidth : constants.sidebarWidth};\n  padding-top: 0.3em;\n  padding-bottom: 0.3em;\n  background: ${colors.ultra_dark};\n  min-height: 100vh;\n  color: white;\n  display: grid;\n  > div {\n    width: 100%;\n  }\n  @media (max-width: 900px) {\n    width: auto;\n  }\n`;\n\nconst SidebarButton = styled.div`\n  display: grid;\n  grid-template-columns: 2.5em 1fr;\n  align-items: center;\n  margin-bottom: 1em;\n  cursor: pointer;\n  min-height: 32px;\n  p {\n    margin: 0;\n    color: ${props => (props.selected ? \"white\" : \"\")};\n    line-height: 2;\n  }\n  @media (max-width: 900px) {\n    p {\n      display: none;\n    }\n    grid-template-columns: 1fr;\n  }\n  ${props =>\n    props.selected &&\n    `\n    @media (max-width: 900px) {\n      img {\n        filter: brightness(2);\n      }\n    }\n  `}\n  ${props =>\n    !props.selected &&\n    `\n    @media (max-width: 900px) {\n      img {\n        opacity: .8;\n      }\n    }\n  `}\n`;\n\nconst SidebarWrapper = styled.div`\n  display: flex;\n  flex-direction: column;  \n  height: 100% !important;\n  justify-content: ${props => (props.logined ? 'space-between' : 'flex-end')};\n`;\n\nconst TopLinks = [\n  { title: \"Calendar\", svg: CalendarSvg, href: \"/calendar\" },\n  { title: \"Bookings\", svg: BookingsSvg, href: \"/bookings\" },\n  { title: \"Customers\", svg: CustomersSvg, href: \"/customers\" },\n  { title: \"Invoices\", svg: InvoicesSvg, href: \"/invoices\" }\n];\nconst BottomLinks = [\n  { title: \"Settings\", svg: SettingsSvg, href: \"/settings\" },\n];\n\nconst Sidebar = props => {\n  const { history } = props;\n  const { state, dispatch } = useContext(AppReducerContext);\n  const [ sidebarCollapsed, setSidebarCollapsed ] = useState(false)\n\n  const logout = () => {\n    setAuthToken(\"\");\n    dispatch({type: 'set_logout'});\n    setTimeout(() => {\n      window.location.replace(CONFIG.BASE_URL);\n    }, 100)    \n  }\n\n  const login = () => {\n    setAuthToken(\"\");\n    window.location.replace(CONFIG.BASE_URL + 'login');\n  }\n\n  const register = () => {\n    setAuthToken(\"\");\n    window.location.replace(CONFIG.BASE_URL + 'register');    \n  }\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    setIsLoggedIn(state.auth.token && state.auth.token.length)\n  }, [state.auth.token])\n\n  return (\n    <Container collapsed={sidebarCollapsed}>\n      <SidebarWrapper logined={isLoggedIn}>        \n        {\n          ( isLoggedIn) ? (\n            <React.Fragment>\n              <div>\n                <SidebarButton key={'sidebar-collapsed'}>\n                  <img \n                    style={{width: '32px',}}\n                    alt={'collapse'} \n                    src={sidebarCollapsed ? SideCollapseRightSvg : SideCollapseLeftSvg} \n                    onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n                  />\n                </SidebarButton>\n                <SidebarButton \n                  key={'dashboard'}\n                  selected={window.location.pathname === '/dashboard'}\n                  onClick={() => history.push('/dashboard')}\n                >\n                  <FontAwesomeIcon \n                    className=\"fa-icons\" \n                    icon={faChartArea} \n                    style={{width: '21px', height: '21px', marginLeft:'4px', color: '#E92579'}}\n                  />\n                  { !sidebarCollapsed && <P1>Dashboard</P1>}\n                </SidebarButton>\n                {TopLinks.map(link => (\n                  <SidebarButton\n                    key={link.title}\n                    selected={window.location.pathname === link.href}\n                    onClick={() => history.push(link.href)}\n                  >\n                    <img alt={link.title} src={link.svg} />\n                    { !sidebarCollapsed && <P1>{link.title}</P1>}                    \n                  </SidebarButton>\n                ))}\n              </div>\n              <div>\n                {BottomLinks.map(link => (\n                  <SidebarButton\n                    key={link.title}\n                    selected={window.location.pathname === link.href}\n                    onClick={\n                      () => link.href && history.push(link.href)\n                    }\n                  >\n                    <img alt={link.title} src={link.svg} />\n                    { !sidebarCollapsed && <P1>{link.title}</P1>}                    \n                  </SidebarButton>\n                ))}\n                <SidebarButton\n                  key={\"logout\"}\n                  onClick={logout}\n                >\n                  <img alt=\"Log Out\" src={LogOutSvg} />\n                  { !sidebarCollapsed && <P1>Log Out</P1> }\n                </SidebarButton>\n              </div>\n            </React.Fragment>\n          ) : (\n            <div>              \n              <SidebarButton\n                key={\"register\"}\n                onClick={register}\n              >\n                <img alt=\"Log In\" src={RegisterSvg} style={{width: '24px', height: '24px'}}/>\n                { !sidebarCollapsed && <P1>Register</P1> }\n              </SidebarButton>\n              <SidebarButton\n                key={\"login\"}\n                onClick={login}\n              >\n                <img alt=\"Log In\" src={LogInSvg} style={{width: '24px', height: '24px'}}/>\n                { !sidebarCollapsed && <P1>Log In</P1> }\n              </SidebarButton>\n            </div>\n          )\n        }        \n      </SidebarWrapper>\n    </Container>\n  );\n};\n\nexport default withRouter(Sidebar);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst LayoutWrapperWrapper = styled.div`\n  min-height: 100vh;\n  height: 100vh;\n  max-width: 100vw;\n  /* overflow: hidden; */\n  display: flex;\n  flex-direction: column;\n`;\n\nconst LayoutWrapper = props => {\n  return (\n    <LayoutWrapperWrapper {...props}>{props.children}</LayoutWrapperWrapper>\n  );\n};\n\nexport default LayoutWrapper;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport colors from \"../style/colors\";\nimport LayoutBlock from \"./LayoutBlock\";\n\nconst LayoutSectionWrapper = styled.div`\n  ${LayoutBlock};\n\n  position: relative;\n\n  overflow-x: hidden;\n  overflow-y: scroll;\n\n  :before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: -1;\n    background: ${props =>\n      !props.bgColor ? \"transparent\" : colors[props.bgColor]};\n    ${props =>\n      props.skew &&\n      `\n      transform: skewY(${props.skew});\n    `}\n    ${props =>\n      props.mask &&\n      `\n      mask: url(/masks/${props.mask}.svg);\n    `}\n  }\n\n  > svg {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n\n  display: flex;\n  min-height: ${props => props.height};\n\n  ${props =>\n    props.center\n      ? `\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    h1, h2, h3, h4, p, a {\n      margin-right: auto;\n      margin-left: auto;\n      text-align: center;\n    }\n  `\n      : \"\"}\n  :last-child {\n    flex: 1 1 auto;\n  }\n\n  > div {\n    ${props =>\n      props.small &&\n      `\n      width: 58em;\n    `}\n  }\n  > div {\n    ${props =>\n      props.fullWidth &&\n      `\n      width: 100%;\n    `}\n  }\n`;\n\nconst LayoutSection = props => {\n  return (\n    <>\n      <LayoutSectionWrapper {...props}>\n        <div style={{ width: props.width }}>{props.children}</div>\n      </LayoutSectionWrapper>\n    </>\n  );\n};\n\nexport default LayoutSection;\n","import React, { useState, useReducer, useEffect } from \"react\";\nimport * as Sentry from '@sentry/browser';\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport RoutesTree from \"./routing/RoutesTree\";\nimport Sidebar from \"./components/layout/Sidebar\";\nimport LayoutWrapper from \"./components/layout/LayoutWrapper\";\nimport LayoutSection from \"./components/layout/LayoutSection\";\nimport {\n  AppReducerContext,\n  reducer,\n  initialState\n} from \"./contexts/AppReducerContext\";\nimport setAuthToken from './utils/setAuthToken';\nimport LoginPage from \"./pages/LoginPage\";\nimport CalendarPage from \"./pages/CalendarPage\";\n\nimport CONFIG from './config';\n\n// Sentry.init({dsn: CONFIG.SENTRY_DSN});\naxios.defaults.baseURL = CONFIG.API_URL;\n\nif (localStorage.token) {\n  setAuthToken(localStorage.token);\n}\n\nconst App = props => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n\n    if (localStorage.token) {\n      setAuthToken(localStorage.token);\n    }\n\n    const getUser = async () => {      \n      try {\n        const res = await axios.get('/auth/me');\n        dispatch({\n          type: 'user_load_success',\n          payload: res.data\n        })\n      } catch (err) {\n        dispatch({\n          type: 'auth_error'\n        })\n      }\n    }\n    \n    if (localStorage.token)\n      getUser();\n\n  }, [])\n\n  return (\n    <>\n      <AppReducerContext.Provider value={{ state, dispatch }}>\n        <Router>\n          <Sidebar />\n          <LayoutWrapper>\n            <LayoutSection bgColor=\"lightest\" fullWidth>\n              <Switch>\n                <Route path=\"/\" exact component={CalendarPage} />      \n                <Route component={RoutesTree} />\n              </Switch>\n            </LayoutSection>\n          </LayoutWrapper>\n        </Router>\n      </AppReducerContext.Provider>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport ReactModal from \"react-modal\";\n\nReactModal.setAppElement(\"#root\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}